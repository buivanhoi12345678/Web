<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeTech - Học lập trình hiện đại</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Roboto+Mono:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <style>
        :root {
            --primary: #00f7ff;
            --secondary: #ff00c8;
            --accent: #00ff9d;
            --dark: #0a0a1a;
            --darker: #050510;
            --light: #f0f8ff;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --neon-glow: 0 0 10px var(--primary), 0 0 20px var(--primary), 0 0 30px var(--primary);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto Mono', monospace;
        }

        body {
            background: linear-gradient(125deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }

        /* Header Styles */
        header {
            background: rgba(5, 5, 16, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            padding: 15px 5%;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary);
            text-shadow: var(--neon-glow);
        }

        .logo i {
            color: var(--secondary);
            text-shadow: 0 0 10px var(--secondary), 0 0 20px var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 15px;
            border-radius: 4px;
        }

        nav a:hover,
        nav a.active {
            color: var(--primary);
            text-shadow: var(--neon-glow);
            background: var(--glass);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .auth-buttons {
            display: flex;
            gap: 15px;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--secondary);
            color: var(--light);
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 30px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-login {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-login:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        .btn-register {
            background: var(--secondary);
            color: var(--light);
            border: 1px solid var(--secondary);
        }

        .btn-register:hover {
            background: transparent;
            color: var(--secondary);
            box-shadow: 0 0 10px var(--secondary), 0 0 20px var(--secondary);
        }

        /* Page Container */
        .page-container {
            display: none;
            min-height: calc(100vh - 200px);
            padding: 20px 5%;
        }

        .page-container.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 5%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%2300f7ff" fill-opacity="0.1" d="M0,128L48,117.3C96,107,192,85,288,112C384,139,480,213,576,218.7C672,224,768,160,864,138.7C960,117,1056,139,1152,149.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
            background-size: contain;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 50px;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            font-weight: 700;
            padding: 12px 30px;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 247, 255, 0.5);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            font-weight: 700;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        .social-login {
            display: flex;
            gap: 15px;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .social-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--neon-glow);
        }

        .google-btn:hover {
            color: #DB4437;
            border-color: #DB4437;
            box-shadow: 0 0 10px #DB4437, 0 0 20px #DB4437;
        }

        .facebook-btn:hover {
            color: #4267B2;
            border-color: #4267B2;
            box-shadow: 0 0 10px #4267B2, 0 0 20px #4267B2;
        }

        .github-btn:hover {
            color: #f5f5f5;
            border-color: #f5f5f5;
            box-shadow: 0 0 10px #f5f5f5, 0 0 20px #f5f5f5;
        }

        /* Featured Courses Section */
        .section-title {
            text-align: center;
            margin: 60px 0 40px;
            font-size: 2.2rem;
            color: var(--primary);
            text-shadow: var(--neon-glow);
        }

        .courses-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 0 5%;
        }

        .course-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .course-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--neon-glow);
        }

        .course-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid var(--glass-border);
        }

        .course-content {
            padding: 20px;
        }

        .course-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .course-description {
            font-size: 0.9rem;
            margin-bottom: 15px;
            color: var(--light);
            opacity: 0.8;
            line-height: 1.5;
        }

        .course-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .course-price {
            font-weight: 700;
            color: var(--accent);
        }

        .free-badge {
            background: var(--accent);
            color: var(--dark);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .course-action {
            display: flex;
            justify-content: space-between;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin: 40px 0;
            gap: 10px;
        }

        .pagination-btn {
            padding: 10px 18px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pagination-btn.active {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        .pagination-btn:hover:not(.active) {
            background: var(--glass-border);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            padding: 20px 0;
        }

        .modal-content {
            background: var(--dark);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 0 50px rgba(0, 247, 255, 0.2);
            position: relative;
            margin: auto;
        }

        .payment-modal-content {
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            color: var(--secondary);
            text-shadow: 0 0 10px var(--secondary);
        }

        .modal h2 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: var(--light);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .forgot-password {
            color: var(--primary);
            text-decoration: none;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .submit-btn {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            border: none;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.4);
        }

        .form-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.9rem;
            color: var(--light);
        }

        .form-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .form-footer a:hover {
            text-decoration: underline;
        }

        /* Content Pages */
        .content-page {
            max-width: 1000px;
            margin: 0 auto;
        }

        .content-page h1 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
            text-shadow: var(--neon-glow);
        }

        .content-page h2 {
            margin: 25px 0 15px;
            color: var(--accent);
        }

        .content-page p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .content-page ul {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        .content-page li {
            margin-bottom: 10px;
        }

        /* Cart Page */
        .cart-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .cart-items {
            margin-bottom: 30px;
        }

        .cart-item {
            display: flex;
            gap: 20px;
            padding: 20px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .cart-item-image {
            width: 120px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--primary);
        }

        .cart-item-price {
            font-weight: 700;
            color: var(--accent);
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .remove-from-cart {
            background: transparent;
            color: var(--secondary);
            border: 1px solid var(--secondary);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-from-cart:hover {
            background: var(--secondary);
            color: var(--light);
        }

        .cart-summary {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent);
            border-top: 1px solid var(--glass-border);
            padding-top: 10px;
            margin-top: 10px;
        }

        .checkout-btn {
            width: 100%;
            margin-top: 20px;
        }

        .empty-cart {
            text-align: center;
            padding: 40px 0;
        }

        .empty-cart i {
            font-size: 4rem;
            color: var(--glass-border);
            margin-bottom: 20px;
        }

        .empty-cart p {
            margin-bottom: 20px;
        }

        /* Payment Methods */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .payment-method {
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-method:hover {
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 247, 255, 0.3);
        }

        .payment-method.selected {
            border-color: var(--accent);
            background: rgba(0, 255, 157, 0.1);
        }

        .payment-method i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .payment-method h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        /* My Courses Page */
        .my-courses-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .course-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-left: 10px;
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .status-completed {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }

        .status-processing {
            background: rgba(23, 162, 184, 0.2);
            color: #17a2b8;
        }

        /* Admin Panel */
        .admin-panel {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--glass-border);
            padding-bottom: 10px;
        }

        .admin-tab {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: var(--light);
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            background: var(--primary);
            color: var(--dark);
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .payment-request {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .payment-request-info {
            flex: 1;
        }

        .payment-request-actions {
            display: flex;
            gap: 10px;
        }

        /* Footer Styles */
        footer {
            background: var(--darker);
            padding: 50px 5% 20px;
            border-top: 1px solid var(--glass-border);
            margin-top: 80px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .footer-column ul {
            list-style: none;
            padding: 0;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column a {
            color: var(--light);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-column a:hover {
            color: var(--primary);
            text-shadow: var(--neon-glow);
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--glass-border);
            font-size: 0.9rem;
            color: var(--light);
            opacity: 0.7;
        }

        /* AI Chat Bubble */
        .ai-chat-bubble {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 247, 255, 0.5);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .ai-chat-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 247, 255, 0.7);
        }

        .ai-chat-window {
            display: none;
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 450px;
            background: var(--dark);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 247, 255, 0.3);
            z-index: 1000;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            padding: 15px;
            background: var(--darker);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h3 {
            color: var(--primary);
            font-size: 1.1rem;
            margin: 0;
        }

        .close-chat {
            color: var(--light);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .close-chat:hover {
            color: var(--secondary);
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .ai-message {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            align-self: flex-start;
        }

        .user-message {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            align-self: flex-end;
        }

        .chat-input {
            padding: 15px;
            border-top: 1px solid var(--glass-border);
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 10px 15px;
            border-radius: 20px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
        }

        .chat-input input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .chat-input button {
            padding: 10px 15px;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            border: none;
            cursor: pointer;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            nav ul {
                gap: 15px;
            }

            .hero h1 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .cart-item {
                flex-direction: column;
            }

            .cart-item-image {
                width: 100%;
                height: 150px;
            }

            .payment-methods {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .modal-content {
                padding: 20px;
            }

            .ai-chat-window {
                width: 300px;
                right: 15px;
            }

            .admin-tabs {
                flex-direction: column;
            }
        }

        /* Animation */
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .animated-gradient {
            background: linear-gradient(270deg, var(--primary), var(--secondary), var(--accent));
            background-size: 200% 200%;
            animation: gradient 5s ease infinite;
        }

        /* Course Detail Modal */
        .course-detail-modal .modal-content {
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .course-detail-header {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .course-detail-image {
            width: 40%;
            border-radius: 10px;
            object-fit: cover;
        }

        .course-detail-info {
            flex: 1;
        }

        .course-detail-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .course-detail-price {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .course-detail-description {
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .course-detail-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .course-detail-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .course-detail-action {
            display: flex;
            gap: 15px;
        }

        .course-detail-content {
            margin-top: 30px;
        }

        .course-detail-content h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }

        .course-chapters {
            margin-bottom: 30px;
        }

        .chapter-item {
            margin-bottom: 15px;
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            overflow: hidden;
        }

        .chapter-header {
            padding: 15px;
            background: var(--darker);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .chapter-title {
            font-weight: 500;
        }

        .chapter-lessons {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .chapter-lessons.expanded {
            max-height: 500px;
        }

        .lesson-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lesson-item:hover {
            background: var(--glass);
        }

        .lesson-item.active {
            background: var(--glass);
            border-left: 3px solid var(--primary);
        }

        .lesson-item:last-child {
            border-bottom: none;
        }

        .lesson-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lesson-duration {
            font-size: 0.8rem;
            color: var(--accent);
        }

        .preview-badge {
            background: var(--secondary);
            color: var(--light);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(100%);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.success {
            border-color: var(--accent);
        }

        .notification.error {
            border-color: var(--secondary);
        }

        .notification.info {
            border-color: var(--primary);
        }

        .notification i {
            font-size: 1.2rem;
        }

        .notification.success i {
            color: var(--accent);
        }

        .notification.error i {
            color: var(--secondary);
        }

        .notification.info i {
            color: var(--primary);
        }

        /* Learning Page */
        .learning-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
        }

        .learning-header {
            background: var(--darker);
            padding: 15px 20px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .learning-header h2 {
            color: var(--primary);
            font-size: 1.3rem;
            margin: 0;
        }

        .learning-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .learning-sidebar {
            width: 300px;
            background: var(--darker);
            border-right: 1px solid var(--glass-border);
            overflow-y: auto;
            padding: 20px;
            transition: width 0.3s ease;
        }

        .learning-sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
        }

        .sidebar-toggle {
            position: absolute;
            top: 70px;
            left: 300px;
            background: var(--primary);
            color: var(--dark);
            border: none;
            border-radius: 0 5px 5px 0;
            padding: 10px 5px;
            cursor: pointer;
            z-index: 100;
            transition: left 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-toggle.collapsed {
            left: 0;
        }

        .learning-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .learning-panels {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .panel {
            display: flex;
            flex-direction: column;
            border: 1px solid var(--glass-border);
            margin: 10px;
            border-radius: 8px;
            overflow: hidden;
            background: var(--darker);
        }

        .panel-header {
            padding: 10px 15px;
            background: var(--glass);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-header h3 {
            color: var(--primary);
            font-size: 1rem;
            margin: 0;
        }

        .panel-controls {
            display: flex;
            gap: 10px;
        }

        .panel-control {
            background: transparent;
            border: none;
            color: var(--light);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .panel-content {
            flex: 1;
            overflow: auto;
            padding: 15px;
        }

        .video-panel {
            flex: 2;
            min-width: 300px;
            position: relative;
        }

        .code-panel {
            flex: 1;
            min-width: 250px;
        }

        .output-panel {
            flex: 1;
            min-width: 250px;
        }

        .video-container {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .CodeMirror {
            height: 100%;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
        }

        .output-content {
            background: #1e1e1e;
            color: #d4d4d4;
            height: 100%;
            overflow: auto;
            padding: 10px;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
        }

        .panel-collapsed {
            flex: 0 0 40px !important;
        }

        .panel-collapsed .panel-content {
            display: none;
        }

        .panel-maximized {
            position: fixed;
            top: 50px;
            left: 50px;
            right: 50px;
            bottom: 50px;
            z-index: 2000;
        }

        /* Search and Filter */
        .search-filter-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            padding: 0 5%;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border-radius: 30px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1rem;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
        }

        .filter-box {
            display: flex;
            gap: 15px;
        }

        .filter-select {
            padding: 12px 15px;
            border-radius: 30px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1rem;
            min-width: 150px;
        }

        /* Rating */
        .rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }

        .rating-stars {
            color: #ffc107;
        }

        .rating-count {
            font-size: 0.9rem;
            color: var(--light);
            opacity: 0.7;
        }

        /* Payment Info */
        .payment-info {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .payment-info h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .bank-info,
        .momo-info,
        .zalo-info {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        .bank-info:last-child,
        .momo-info:last-child,
        .zalo-info:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .account-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .account-name {
            font-weight: 500;
        }

        .account-number {
            color: var(--accent);
            font-weight: 700;
        }

        .copy-btn {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: var(--primary);
            color: var(--dark);
        }

        .payment-instruction {
            font-size: 0.9rem;
            color: var(--light);
            opacity: 0.8;
            margin-top: 10px;
        }

        .payment-verified {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 255, 157, 0.1);
            border: 1px solid var(--accent);
            border-radius: 8px;
        }

        .payment-verified i {
            color: var(--accent);
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .payment-verified p {
            margin: 0;
            font-size: 0.9rem;
        }

        /* Loading spinner */
        .spinner {
            border: 3px solid var(--glass);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
            display: inline-block;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Review Styles */
        .review-section {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--glass-border);
        }

        .review-form {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .review-form h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .star-rating {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }

        .star {
            font-size: 24px;
            color: #ccc;
            cursor: pointer;
            transition: color 0.2s;
        }

        .star:hover,
        .star.active {
            color: #ffc107;
        }

        .review-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .review-item {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            position: relative;
        }

        .reviewer-name {
            font-weight: 700;
            color: var(--primary);
        }

        .review-date {
            font-size: 0.8rem;
            color: var(--light);
            opacity: 0.7;
        }

        .review-content {
            line-height: 1.5;
        }

        .no-reviews {
            text-align: center;
            padding: 20px;
            color: var(--light);
            opacity: 0.7;
        }

        /* Error handling */
        .error-message {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .network-error {
            text-align: center;
            padding: 40px;
            background: var(--glass);
            border: 1px solid var(--secondary);
            border-radius: 10px;
            margin: 20px 0;
        }

        .network-error i {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }

        .retry-btn {
            margin-top: 15px;
        }

        /* Lesson animation */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .lesson-pulse {
            animation: pulse 0.5s ease;
        }

        /* Profile button style */
        .btn-login[data-is-profile="true"] {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .btn-login[data-is-profile="true"]:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        .profile-btn {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .profile-btn:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }

        /* Profile Page */
        .profile-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--glass);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            box-shadow: var(--neon-glow);
        }

        .profile-info h2 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        .profile-info p {
            color: var(--light);
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--light);
            opacity: 0.8;
        }

        .profile-form {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .profile-form h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .instructor-request {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
        }

        .instructor-request h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .instructor-request p {
            margin-bottom: 20px;
            color: var(--light);
            opacity: 0.8;
        }

        /* Instructor Dashboard */
        .instructor-courses {
            margin-top: 30px;
        }

        .instructor-courses h3 {
            color: var(--primary);
            margin-bottom: 20px;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-right {
            animation: slideInRight 0.5s ease forwards;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.5s ease forwards;
        }

        /* Enhanced Homepage */
        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 60px 0;
            padding: 0 5%;
        }

        .feature-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--neon-glow);
        }

        .feature-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .feature-title {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .feature-description {
            color: var(--light);
            opacity: 0.8;
            line-height: 1.6;
        }

        .testimonials-section {
            margin: 80px 0;
            padding: 0 5%;
        }

        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .testimonial-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px;
            position: relative;
        }

        .testimonial-text {
            color: var(--light);
            line-height: 1.6;
            margin-bottom: 20px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .testimonial-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .testimonial-info h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        .testimonial-info p {
            color: var(--light);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* Enhanced About Page */
        .team-section {
            margin: 60px 0;
        }

        .team-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .team-member {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .team-member:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        .team-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
            border: 2px solid var(--primary);
        }

        .team-name {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .team-role {
            color: var(--accent);
            margin-bottom: 15px;
            font-weight: 500;
        }

        .team-description {
            color: var(--light);
            opacity: 0.8;
            line-height: 1.6;
        }

        /* Enhanced Contact Page */
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .contact-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
        }

        .contact-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .contact-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .contact-card p {
            color: var(--light);
            opacity: 0.8;
        }

        .faq-section {
            margin: 60px 0;
        }

        .faq-container {
            margin-top: 30px;
        }

        .faq-item {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .faq-question {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--primary);
            font-weight: 500;
        }

        .faq-answer {
            padding: 0 20px 20px;
            color: var(--light);
            line-height: 1.6;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .faq-item.active .faq-toggle i {
            transform: rotate(180deg);
        }

        .faq-toggle {
            transition: all 0.3s ease;
        }

        /* Enhanced Guide Page */
        .guide-category {
            margin-bottom: 50px;
        }

        .guide-category h3 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--glass-border);
        }

        .step-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .step-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            position: relative;
            counter-increment: step-counter;
        }

        .step-card::before {
            content: counter(step-counter);
            position: absolute;
            top: -15px;
            left: -15px;
            width: 30px;
            height: 30px;
            background: var(--primary);
            color: var(--dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .step-title {
            color: var(--accent);
            margin-bottom: 10px;
        }

        .step-description {
            color: var(--light);
            opacity: 0.8;
            line-height: 1.6;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--primary);
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--darker);
            color: var(--light);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid var(--glass-border);
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Scroll to top button */
        .scroll-to-top {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.4);
        }

        /* CSS cho form thêm khóa học */
        .chapters-section {
            margin: 30px 0;
            padding: 20px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
        }

        .chapter-item {
            background: var(--darker);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 15px;
        }

        .chapter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .chapter-title-input {
            flex: 1;
            padding: 10px;
            border-radius: 5px;
            background: var(--dark);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 1rem;
        }

        .chapter-actions {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        .chapter-action-btn {
            background: transparent;
            border: 1px solid var(--glass-border);
            color: var(--light);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chapter-action-btn:hover {
            background: var(--primary);
            color: var(--dark);
        }

        .lessons-container {
            margin-top: 15px;
        }

        .lesson-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: var(--dark);
            border-radius: 5px;
        }

        .lesson-input {
            flex: 1;
            padding: 8px;
            border-radius: 5px;
            background: var(--darker);
            border: 1px solid var(--glass-border);
            color: var(--light);
            font-size: 0.9rem;
        }

        .lesson-actions {
            display: flex;
            gap: 5px;
        }

        .add-lesson-btn {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.8rem;
        }

        .add-lesson-btn:hover {
            background: var(--accent);
            color: var(--dark);
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .code-paste-instruction {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        .code-paste-instruction h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .code-template {
            background: var(--darker);
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }

        .preview-course-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .preview-chapters {
            margin-top: 20px;
        }

        /* Thêm CSS cho loading states */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }

        .loading-content {
            background: var(--dark);
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--primary);
        }

        .course-sync-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--glass);
            padding: 10px 15px;
            border-radius: 5px;
            border: 1px solid var(--accent);
            font-size: 0.8rem;
            z-index: 1000;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <i class="fas fa-code"></i>
            <span>CODETECH</span>
        </div>
        <nav>
            <ul>
                <li><a href="#" class="nav-link active" data-page="home">Trang Chủ</a></li>
                <li><a href="#" class="nav-link" data-page="courses">Khóa Học</a></li>
                <li><a href="#" class="nav-link" data-page="my-courses">Khóa Học Của Tôi</a></li>
                <li><a href="#" class="nav-link" data-page="about">Giới Thiệu</a></li>
                <li><a href="#" class="nav-link" data-page="guide">Hướng Dẫn</a></li>
                <li><a href="#" class="nav-link" data-page="contact">Liên Hệ</a></li>
                <li id="adminNav" style="display: none;"><a href="#" class="nav-link" data-page="admin">Quản Trị</a>
                </li>
            </ul>
        </nav>
        <div class="header-actions">
            <div class="cart-icon" id="cartIcon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </div>
            <div class="auth-buttons">
                <button class="btn btn-login" id="loginBtn">Đăng Nhập</button>
                <button class="btn btn-register" id="registerBtn">Đăng Ký</button>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home" class="page-container active">
        <!-- Hero Section -->
        <section class="hero">
            <h1>NÂNG TẦM KỸ NĂNG LẬP TRÌNH CỦA BẠN</h1>
            <p>CodeTech cung cấp các khóa học lập trình chất lượng cao với công nghệ hiện đại, giúp bạn trở thành
                developer chuyên nghiệp trong thời gian ngắn nhất.</p>
            <div class="hero-buttons">
                <button class="btn-primary" id="exploreCourses">Khám Phá Khóa Học</button>
                <button class="btn-secondary">Học Thử Miễn Phí</button>
            </div>
            <div class="social-login">
                <div class="social-btn google-btn" id="googleLoginBtn">
                    <i class="fab fa-google"></i>
                </div>
                <div class="social-btn facebook-btn" id="facebookLoginBtn">
                    <i class="fab fa-facebook-f"></i>
                </div>
                <div class="social-btn github-btn" id="githubLoginBtn">
                    <i class="fab fa-github"></i>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <!-- Thêm vào sau phần Features Section hiện có -->

        <section class="features-section">
            <div class="feature-card fade-in">
                <div class="feature-icon">
                    <i class="fas fa-laptop-code"></i>
                </div>
                <h3 class="feature-title">Học Mọi Lúc, Mọi Nơi</h3>
                <p class="feature-description">Truy cập khóa học của bạn trên mọi thiết bị. Học online mọi lúc, mọi nơi
                    với nội dung được cập nhật liên tục. Hệ thống của chúng tôi hoạt động 24/7, cho phép bạn học tập bất
                    cứ khi nào bạn rảnh.</p>
                <div class="feature-details">
                    <div class="feature-detail-item">
                        <i class="fas fa-mobile-alt"></i>
                        <span>Hoàn toàn tương thích mobile</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-sync"></i>
                        <span>Đồng bộ tiến độ học tập</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-download"></i>
                        <span>Tải bài học để học offline</span>
                    </div>
                </div>
            </div>

            <div class="feature-card fade-in">
                <div class="feature-icon">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <h3 class="feature-title">Giảng Viên Chuyên Nghiệp</h3>
                <p class="feature-description">Học từ những chuyên gia hàng đầu trong ngành với nhiều năm kinh nghiệm
                    thực tế tại các công ty công nghệ lớn. Đội ngũ giảng viên của chúng tôi không chỉ giỏi chuyên môn mà
                    còn có đam mê giảng dạy.</p>
                <div class="feature-details">
                    <div class="feature-detail-item">
                        <i class="fas fa-briefcase"></i>
                        <span>Kinh nghiệm 5+ năm trong ngành</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-hand-holding-heart"></i>
                        <span>Hỗ trợ 1:1 trong quá trình học</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-rocket"></i>
                        <span>Phương pháp giảng dạy hiện đại</span>
                    </div>
                </div>
            </div>

            <div class="feature-card fade-in">
                <div class="feature-icon">
                    <i class="fas fa-certificate"></i>
                </div>
                <h3 class="feature-title">Chứng Nhận Có Giá Trị</h3>
                <p class="feature-description">Nhận chứng chỉ hoàn thành khóa học được công nhận bởi các nhà tuyển dụng
                    trong ngành công nghệ. Chứng chỉ của CodeTech là minh chứng cho kỹ năng và kiến thức bạn đã đạt
                    được.</p>
                <div class="feature-details">
                    <div class="feature-detail-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Được công nhận bởi doanh nghiệp</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Xác thực trực tuyến</span>
                    </div>
                    <div class="feature-detail-item">
                        <i class="fas fa-globe"></i>
                        <span>Có giá trị toàn cầu</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Thêm CSS mới -->
        <style>
            .feature-details {
                margin-top: 20px;
                border-top: 1px solid var(--glass-border);
                padding-top: 15px;
            }

            .feature-detail-item {
                display: flex;
                align-items: center;
                margin-bottom: 10px;
                font-size: 0.9rem;
                color: var(--light);
                opacity: 0.8;
            }

            .feature-detail-item i {
                color: var(--accent);
                margin-right: 10px;
                width: 20px;
                text-align: center;
            }

            .feature-card {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .feature-card:hover {
                transform: translateY(-10px);
                box-shadow: var(--neon-glow);
            }

            .feature-icon {
                transition: transform 0.3s ease;
            }

            .feature-card:hover .feature-icon {
                transform: scale(1.1);
            }
        </style>

        <!-- Featured Courses Section -->
        <h2 class="section-title">Khóa Học Nổi Bật</h2>
        <div class="courses-container" id="featured-courses">
            <!-- Featured courses will be loaded here by JavaScript -->
        </div>

        <!-- Testimonials Section -->
        <section class="testimonials-section">
            <h2 class="section-title">Học Viên Nói Gì Về Chúng Tôi</h2>
            <div class="testimonials-container">
                <div class="testimonial-card slide-in-left">
                    <p class="testimonial-text">"CodeTech đã thay đổi sự nghiệp của tôi. Từ một người không biết gì về
                        lập trình, giờ tôi đã trở thành developer chuyên nghiệp sau 6 tháng học tập."</p>
                    <div class="testimonial-author">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Nguyễn Văn A"
                            class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Nguyễn Văn A</h4>
                            <p>Frontend Developer tại FPT Software</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card slide-in-right">
                    <p class="testimonial-text">"Phương pháp giảng dạy tại CodeTech rất thực tế và dễ hiểu. Các dự án
                        thực tế giúp tôi tích lũy được nhiều kinh nghiệm quý báu."</p>
                    <div class="testimonial-author">
                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Trần Thị B"
                            class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Trần Thị B</h4>
                            <p>Backend Developer tại Viettel</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card slide-in-left">
                    <p class="testimonial-text">"Tôi đã thử nhiều nền tảng học lập trình, nhưng CodeTech là nơi mang lại
                        trải nghiệm tốt nhất với sự hỗ trợ tận tình từ giảng viên và cộng đồng."</p>
                    <div class="testimonial-author">
                        <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Lê Văn C"
                            class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Lê Văn C</h4>
                            <p>Fullstack Developer tại MoMo</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Thêm sau phần Features Section -->

        <section class="stats-section">
            <h2 class="section-title">CodeTech Trong Numbers</h2>
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-number" data-count="900000">0</div>
                    <div class="stat-label">Học viên</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="100">0</div>
                    <div class="stat-label">Giảng viên</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="150">0</div>
                    <div class="stat-label">Khóa học</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-count="95">0</div>
                    <div class="stat-label">% Hài lòng</div>
                </div>
            </div>
        </section>

        <section class="learning-path-section">
            <h2 class="section-title">Lộ Trình Học Tập</h2>
            <div class="path-container">
                <div class="path-item">
                    <div class="path-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Khám phá</h3>
                    <p>Tìm kiếm khóa học phù hợp với mục tiêu và trình độ của bạn</p>
                </div>
                <div class="path-item">
                    <div class="path-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>Học tập</h3>
                    <p>Học qua video bài giảng chất lượng cao và thực hành với bài tập</p>
                </div>
                <div class="path-item">
                    <div class="path-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <h3>Thực hành</h3>
                    <p>Áp dụng kiến thức vào các dự án thực tế và bài tập coding</p>
                </div>
                <div class="path-item">
                    <div class="path-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Thành thạo</h3>
                    <p>Nhận chứng chỉ và sẵn sàng cho công việc trong ngành công nghệ</p>
                </div>
            </div>
        </section>

        <style>
            /* CSS cho stats section */
            .stats-section {
                background: var(--glass);
                border: 1px solid var(--glass-border);
                border-radius: 15px;
                padding: 50px 20px;
                margin: 60px 5%;
                text-align: center;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 30px;
                margin-top: 40px;
            }

            .stat-item {
                padding: 20px;
            }

            .stat-number {
                font-size: 3rem;
                font-weight: 700;
                color: var(--primary);
                margin-bottom: 10px;
            }

            .stat-label {
                color: var(--light);
                font-size: 1.1rem;
            }

            /* CSS cho learning path section */
            .learning-path-section {
                padding: 0 5%;
                margin: 80px 0;
            }

            .path-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 30px;
                margin-top: 40px;
            }

            .path-item {
                background: var(--glass);
                border: 1px solid var(--glass-border);
                border-radius: 15px;
                padding: 30px;
                text-align: center;
                transition: all 0.3s ease;
            }

            .path-item:hover {
                transform: translateY(-5px);
                box-shadow: 0 5px 15px rgba(0, 247, 255, 0.2);
            }

            .path-icon {
                font-size: 2.5rem;
                color: var(--accent);
                margin-bottom: 20px;
            }

            .path-item h3 {
                color: var(--primary);
                margin-bottom: 15px;
            }

            .path-item p {
                color: var(--light);
                opacity: 0.8;
                line-height: 1.6;
            }
        </style>

        <script>
            // Thêm hiệu ứng đếm số cho stats section
            function animateCounter() {
                const counters = document.querySelectorAll('.stat-number');
                const speed = 100;

                counters.forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-count'));
                    const count = parseInt(counter.innerText);
                    const increment = Math.ceil(target / speed);

                    if (count < target) {
                        counter.innerText = Math.min(count + increment, target);
                        setTimeout(() => animateCounter(counter), 100);
                    }
                });
            }

            // Gọi hàm khi section được hiển thị
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounter();
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            observer.observe(document.querySelector('.stats-section'));
        </script>
    </div>



    <!-- Courses Page -->
    <div id="courses" class="page-container">
        <h2 class="section-title">Tất Cả Khóa Học</h2>

        <!-- Search and Filter -->
        <div class="search-filter-container">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Tìm kiếm khóa học...">
            </div>
            <div class="filter-box">
                <select id="categoryFilter" class="filter-select">
                    <option value="">Tất cả danh mục</option>
                    <option value="frontend">Frontend Development</option>
                    <option value="backend">Backend Development</option>
                    <option value="mobile">Mobile Development</option>
                    <option value="data">Data Science</option>
                    <option value="devops">DevOps</option>
                    <option value="other">Khác</option>
                </select>
                <select id="priceFilter" class="filter-select">
                    <option value="">Tất cả giá</option>
                    <option value="free">Miễn phí</option>
                    <option value="paid">Trả phí</option>
                </select>
                <select id="ratingFilter" class="filter-select">
                    <option value="">Tất cả đánh giá</option>
                    <option value="4.5">4.5+ sao</option>
                    <option value="4.0">4.0+ sao</option>
                    <option value="3.5">3.5+ sao</option>
                </select>
            </div>
        </div>

        <div class="courses-container" id="all-courses">
            <!-- All courses will be loaded here by JavaScript -->
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination buttons will be loaded here by JavaScript -->
        </div>
    </div>

    <!-- My Courses Page -->
    <div id="my-courses" class="page-container">
        <h2 class="section-title">Khóa Học Của Tôi</h2>
        <div class="my-courses-container" id="my-courses-list">
            <!-- My courses will be loaded here by JavaScript -->
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page-container">
        <div class="profile-container">
            <div class="profile-header">
                <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Avatar" class="profile-avatar"
                    id="profileAvatar">
                <div class="profile-info">
                    <h2 id="profileName">Người dùng CodeTech</h2>
                    <p id="profileEmail">email@example.com</p>
                    <p id="profileRole">Học viên</p>
                </div>
            </div>

            <div class="profile-stats">
                <div class="stat-card">
                    <div class="stat-value" id="coursesEnrolled">0</div>
                    <div class="stat-label">Khóa học đã đăng ký</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="coursesCompleted">0</div>
                    <div class="stat-label">Khóa học đã hoàn thành</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="hoursLearned">0</div>
                    <div class="stat-label">Giờ học</div>
                </div>
                <div class="stat-card" id="instructorStats" style="display: none;">
                    <div class="stat-value" id="coursesCreated">0</div>
                    <div class="stat-label">Khóa học đã tạo</div>
                </div>
            </div>

            <div class="profile-form">
                <h3>Thông Tin Cá Nhân</h3>
                <form id="profileForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="profileDisplayName">Họ và tên</label>
                            <input type="text" id="profileDisplayName" placeholder="Nhập họ và tên của bạn">
                        </div>
                        <div class="form-group">
                            <label for="profileAge">Tuổi</label>
                            <input type="number" id="profileAge" placeholder="Nhập tuổi của bạn" min="10" max="100">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="profileJob">Nghề nghiệp</label>
                            <input type="text" id="profileJob" placeholder="Nhập nghề nghiệp của bạn">
                        </div>
                        <div class="form-group">
                            <label for="profilePhone">Số điện thoại</label>
                            <input type="tel" id="profilePhone" placeholder="Nhập số điện thoại của bạn">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="profileBio">Giới thiệu bản thân</label>
                        <textarea id="profileBio" rows="3" placeholder="Giới thiệu ngắn gọn về bản thân bạn"></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Cập Nhật Thông Tin</button>
                </form>
            </div>

            <div class="instructor-request" id="instructorRequestSection">
                <h3>Trở Thành Giảng Viên</h3>
                <p>Đăng ký làm giảng viên để tạo và quản lý các khóa học của riêng bạn trên CodeTech. Chia sẻ kiến thức
                    và kinh nghiệm của bạn với cộng đồng.</p>
                <button class="btn-primary" id="requestInstructorBtn">Đăng Ký Làm Giảng Viên</button>
            </div>

            <div class="instructor-courses" id="instructorCoursesSection" style="display: none;">
                <h3>Khóa Học Của Bạn</h3>
                <button class="btn-primary" id="addCourseBtn">Thêm Khóa Học Mới</button>
                <div id="instructorCoursesList">
                    <!-- Instructor courses will be loaded here by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Learning Page -->
    <div id="learning" class="page-container">
        <div class="learning-container">
            <div class="learning-header">
                <h2 id="learningCourseTitle">Học Lập trình Web Fullstack</h2>
                <button class="btn-secondary" id="backToCourses">Quay lại khóa học</button>
            </div>
            <div class="learning-content">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="learning-sidebar" id="learningSidebar">
                    <h3>Nội dung khóa học</h3>
                    <div class="course-chapters" id="learningChapters">
                        <!-- Chapters will be loaded here by JavaScript -->
                    </div>
                </div>
                <div class="learning-main">
                    <div class="learning-panels">
                        <div class="panel video-panel" id="videoPanel">
                            <div class="panel-header">
                                <h3>Video bài học</h3>
                                <div class="panel-controls">
                                    <button class="panel-control" data-panel="video" data-action="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <button class="panel-control" data-panel="video" data-action="expand">
                                        <i class="fas fa-expand"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="panel-content">
                                <div class="video-container">
                                    <iframe id="lessonVideo" src="" frameborder="0" allowfullscreen></iframe>
                                </div>
                            </div>
                        </div>
                        <div class="panel code-panel" id="codePanel">
                            <div class="panel-header">
                                <h3>Code Editor</h3>
                                <div class="panel-controls">
                                    <button class="panel-control" data-panel="code" data-action="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <button class="panel-control" data-panel="code" data-action="expand">
                                        <i class="fas fa-expand"></i>
                                    </button>
                                    <button class="panel-control" id="runCode">
                                        <i class="fas fa-play"></i> Chạy
                                    </button>
                                </div>
                            </div>
                            <div class="panel-content">
                                <textarea id="codeEditor"></textarea>
                            </div>
                        </div>
                        <div class="panel output-panel" id="outputPanel">
                            <div class="panel-header">
                                <h3>Kết quả</h3>
                                <div class="panel-controls">
                                    <button class="panel-control" data-panel="output" data-action="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <button class="panel-control" data-panel="output" data-action="expand">
                                        <i class="fas fa-expand"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="panel-content">
                                <div class="output-content" id="outputContent"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page-container">
        <div class="content-page">
            <h1>Giới Thiệu Về CodeTech</h1>

            <p>CodeTech là nền tảng học lập trình trực tuyến hàng đầu Việt Nam, chuyên cung cấp các khóa học chất lượng
                cao về công nghệ thông tin và lập trình. Chúng tôi cam kết mang đến trải nghiệm học tập tốt nhất cho học
                viên.</p>

            <h2>Sứ Mệnh Của Chúng Tôi</h2>
            <p>CodeTech ra đời với sứ mệnh trang bị cho mọi người những kỹ năng lập trình cần thiết để thành công trong
                kỷ nguyên số. Chúng tôi tin rằng giáo dục công nghệ chất lượng cao phải được tiếp cận dễ dàng và phù hợp
                với mọi đối tượng.</p>

            <h2>Đội Ngũ Giảng Viên</h2>
            <p>Đội ngũ giảng viên của CodeTech là những chuyên gia giàu kinh nghiệm trong ngành, đến từ các công ty công
                nghệ hàng đầu như Google, Facebook, Amazon và các tập đoàn công nghệ tại Việt Nam. Họ không chỉ giỏi
                chuyên môn mà còn có đam mê chia sẻ kiến thức.</p>

            <h2>Phương Pháp Giảng Dạy</h2>
            <p>Chúng tôi áp dụng phương pháp học tập kết hợp (blended learning) với:</p>
            <ul>
                <li>Bài giảng video chất lượng cao</li>
                <li>Bài tập thực hành thực tế</li>
                <li>Hỗ trợ 1:1 từ giảng viên</li>
                <li>Cộng đồng học viên sôi nổi</li>
                <li>Dự án thực tế để xây dựng portfolio</li>
            </ul>

            <h2>Thành Tựu</h2>
            <p>Kể từ khi thành lập, CodeTech đã đạt được những thành tựu đáng tự hào:</p>
            <ul>
                <li>50.000+ học viên theo học</li>
                <li>95% học viên hài lòng với khóa học</li>
                <li>85% học viên tìm được việc làm sau khi hoàn thành khóa học</li>
                <li>10.000+ dự án thực tế được xây dựng</li>
            </ul>

            <!-- Team Section -->
            <div class="team-section">
                <h2>Đội Ngũ Của Chúng Tôi</h2>
                <div class="team-container">
                    <div class="team-member">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Nguyễn Văn A"
                            class="team-avatar">
                        <h3 class="team-name">Nguyễn Văn A</h3>
                        <p class="team-role">Founder & CEO</p>
                        <p class="team-description">Với hơn 15 năm kinh nghiệm trong ngành công nghệ, anh đã từng làm
                            việc tại Google và Facebook trước khi sáng lập CodeTech.</p>
                    </div>
                    <div class="team-member">
                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Trần Thị B"
                            class="team-avatar">
                        <h3 class="team-name">Trần Thị B</h3>
                        <p class="team-role">CTO</p>
                        <p class="team-description">Chuyên gia về hệ thống phân tán và cloud computing với 12 năm kinh
                            nghiệm tại Amazon và Microsoft.</p>
                    </div>
                    <div class="team-member">
                        <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Lê Văn C" class="team-avatar">
                        <h3 class="team-name">Lê Văn C</h3>
                        <p class="team-role">Trưởng Phòng Đào Tạo</p>
                        <p class="team-description">Có hơn 10 năm kinh nghiệm giảng dạy và đào tạo lập trình, từng là
                            giảng viên tại Đại học Bách Khoa Hà Nội.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Page -->
    <div id="guide" class="page-container">
        <div class="content-page">
            <h1>Hướng Dẫn Học Tập</h1>

            <p>Chào mừng bạn đến với CodeTech! Dưới đây là hướng dẫn chi tiết để bạn có thể bắt đầu hành trình học lập
                trình của mình một cách hiệu quả nhất.</p>

            <div class="guide-category">
                <h3>Cách Bắt Đầu</h3>
                <div class="step-container">
                    <div class="step-card">
                        <h4 class="step-title">Tạo Tài Khoản</h4>
                        <p class="step-description">Đăng ký tài khoản CodeTech để truy cập vào tất cả các khóa học và
                            tài nguyên học tập.</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Chọn Khóa Học</h4>
                        <p class="step-description">Lựa chọn khóa học phù hợp với mục tiêu và trình độ hiện tại của bạn.
                        </p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Bắt Đầu Học</h4>
                        <p class="step-description">Truy cập vào nội dung khóa học và bắt đầu học ngay lập tức.</p>
                    </div>
                </div>
            </div>

            <div class="guide-category">
                <h3>Lộ Trình Học Tập Đề Xuất</h3>
                <div class="step-container">
                    <div class="step-card">
                        <h4 class="step-title">Lộ trình Frontend Developer</h4>
                        <p class="step-description">HTML & CSS → JavaScript → React.js/Vue.js → Responsive Web Design →
                            Dự án thực tế</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Lộ trình Backend Developer</h4>
                        <p class="step-description">Node.js/Python → Cơ sở dữ liệu → API Development → Authentication →
                            Deployment</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Lộ trình Fullstack Developer</h4>
                        <p class="step-description">Kết hợp cả Frontend và Backend, tập trung vào việc xây dựng ứng dụng
                            hoàn chỉnh.</p>
                    </div>
                </div>
            </div>

            <div class="guide-category">
                <h3>Mẹo Học Tập Hiệu Quả</h3>
                <div class="step-container">
                    <div class="step-card">
                        <h4 class="step-title">Học đều đặn mỗi ngày</h4>
                        <p class="step-description">Dành ít nhất 30 phút mỗi ngày để học và thực hành code.</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Thực hành ngay sau khi học</h4>
                        <p class="step-description">Áp dụng ngay kiến thức vừa học vào các bài tập thực hành.</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Tham gia cộng đồng</h4>
                        <p class="step-description">Kết nối với các học viên khác để trao đổi và học hỏi kinh nghiệm.
                        </p>
                    </div>
                </div>
            </div>

            <div class="guide-category">
                <h3>Công Cụ Cần Thiết</h3>
                <div class="step-container">
                    <div class="step-card">
                        <h4 class="step-title">Trình soạn thảo code</h4>
                        <p class="step-description">Sử dụng VS Code, Sublime Text hoặc WebStorm để viết code.</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Trình duyệt web</h4>
                        <p class="step-description">Cài đặt Chrome, Firefox hoặc Edge để kiểm tra và debug ứng dụng.</p>
                    </div>
                    <div class="step-card">
                        <h4 class="step-title">Tài khoản GitHub</h4>
                        <p class="step-description">Tạo tài khoản GitHub để lưu trữ code và hợp tác với người khác.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page-container">
        <div class="content-page">
            <h1>Liên Hệ Với Chúng Tôi</h1>

            <p>Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn. Hãy liên hệ với CodeTech qua các kênh dưới đây:</p>

            <div class="contact-info">
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Địa chỉ</h3>
                    <p>Tòa nhà CodeTech, 123 Đường Công Nghệ, Quận Thanh Xuân, Hà Nội</p>
                </div>
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h3>Điện thoại</h3>
                    <p>024 1234 5678</p>
                </div>
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>Email</h3>
                    <p>info@codetech.vn</p>
                </div>
                <div class="contact-card">
                    <div class="contact-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Giờ làm việc</h3>
                    <p>Thứ 2 - Thứ 6: 8:00 - 18:00<br>Thứ 7: 8:00 - 12:00</p>
                </div>
            </div>

            <h2>Gửi Tin Nhắn Cho Chúng Tôi</h2>
            <p>Nếu bạn có bất kỳ câu hỏi hoặc góp ý nào, hãy điền vào form dưới đây và chúng tôi sẽ phản hồi trong thời
                gian sớm nhất.</p>

            <div class="profile-form">
                <form id="contactForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactName">Họ và tên</label>
                            <input type="text" id="contactName" placeholder="Nhập họ và tên của bạn" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Email</label>
                            <input type="email" id="contactEmail" placeholder="Nhập email của bạn" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactPhone">Số điện thoại</label>
                            <input type="tel" id="contactPhone" placeholder="Nhập số điện thoại của bạn">
                        </div>
                        <div class="form-group">
                            <label for="contactSubject">Chủ đề</label>
                            <input type="text" id="contactSubject" placeholder="Nhập chủ đề liên hệ">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="contactMessage">Nội dung tin nhắn</label>
                        <textarea id="contactMessage" rows="5" placeholder="Nhập nội dung tin nhắn của bạn"
                            required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Gửi Tin Nhắn</button>
                </form>
            </div>

            <div class="faq-section">
                <h2>Câu Hỏi Thường Gặp (FAQ)</h2>
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            Làm thế nào để đăng ký khóa học?
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Bạn có thể đăng ký khóa học bằng cách tạo tài khoản trên CodeTech, chọn khóa học mong
                                muốn và nhấn nút
                                "Đăng ký" hoặc "Thêm vào giỏ hàng" nếu là khóa học trả phí.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            Tôi có thể học trên thiết bị di động không?
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Có, CodeTech hoàn toàn tương thích với thiết bị di động. Bạn có thể học mọi lúc, mọi nơi
                                thông qua trình
                                duyệt trên điện thoại hoặc tablet.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            Làm thế nào để được hỗ trợ kỹ thuật?
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Nếu gặp vấn đề kỹ thuật, bạn có thể liên hệ với chúng tôi qua email support@codetech.vn
                                hoặc gọi hotline
                                1900 1234.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            Tôi có được hoàn tiền nếu không hài lòng với khóa học?
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>CodeTech có chính sách hoàn tiền trong vòng 7 ngày nếu bạn không hài lòng với khóa học.
                                Liên hệ với bộ
                                phận chăm sóc khách hàng để được hướng dẫn.</p>
                        </div>
                    </div>
                </div>
            </div>

            <h2>Kết Nối Với Chúng Tôi</h2>
            <p>Theo dõi CodeTech trên các mạng xã hội để cập nhật những khóa học mới nhất và các sự kiện đặc biệt:</p>

            <div class="social-links" style="justify-content: center; margin-top: 20px;">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
                <a href="#"><i class="fab fa-discord"></i></a>
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cart" class="page-container">
        <div class="cart-container">
            <h2 class="section-title">Giỏ Hàng Của Bạn</h2>

            <div class="cart-items" id="cartItems">
                <!-- Cart items will be loaded here by JavaScript -->
            </div>

            <div class="cart-summary">
                <div class="summary-row">
                    <span>Tạm tính:</span>
                    <span id="subtotal">0₫</span>
                </div>
                <div class="summary-row">
                    <span>Giảm giá:</span>
                    <span id="discount">0₫</span>
                </div>
                <div class="summary-row summary-total">
                    <span>Tổng cộng:</span>
                    <span id="total">0₫</span>
                </div>

                <button class="btn-primary checkout-btn" id="checkoutBtn">Thanh Toán</button>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div id="admin" class="page-container">
        <div class="content-page">
            <h1>Trang Quản Trị</h1>

            <div class="admin-panel">
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="payment-requests">Yêu Cầu Thanh Toán</button>
                    <button class="admin-tab" data-tab="courses-management">Quản Lý Khóa Học</button>
                    <button class="admin-tab" data-tab="users-management">Quản Lý Người Dùng</button>
                    <button class="admin-tab" data-tab="instructor-requests">Yêu Cầu Giảng Viên</button>
                </div>

                <div class="admin-content active" id="payment-requests">
                    <h2>Yêu Cầu Thanh Toán Chờ Xử Lý</h2>
                    <div id="paymentRequestsList">
                        <!-- Payment requests will be loaded here by JavaScript -->
                    </div>
                </div>

                <div class="admin-content" id="courses-management">
                    <h2>Quản Lý Khóa Học</h2>
                    <button class="btn-primary" id="adminAddCourseBtn">Thêm Khóa Học Mới</button>
                    <div id="coursesManagementList">
                        <!-- Courses management will be loaded here by JavaScript -->
                    </div>
                </div>

                <div class="admin-content" id="users-management">
                    <h2>Quản Lý Người Dùng</h2>
                    <div id="usersManagementList">
                        <!-- Users management will be loaded here by JavaScript -->
                    </div>
                </div>

                <div class="admin-content" id="instructor-requests">
                    <h2>Yêu Cầu Trở Thành Giảng Viên</h2>
                    <div id="instructorRequestsList">
                        <!-- Instructor requests will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal" id="closeLogin">&times;</span>
            <h2>ĐĂNG NHẬP</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="Nhập email của bạn" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Mật khẩu</label>
                    <input type="password" id="loginPassword" placeholder="Nhập mật khẩu của bạn" required>
                </div>
                <div class="form-options">
                    <div class="remember-me">
                        <input type="checkbox" id="rememberMe">
                        <label for="rememberMe">Ghi nhớ tôi</label>
                    </div>
                    <a href="#" class="forgot-password">Quên mật khẩu?</a>
                </div>
                <button type="submit" class="submit-btn">Đăng Nhập</button>
            </form>
            <div class="form-footer">
                <p>Chưa có tài khoản? <a href="#" id="switchToRegister">Đăng ký ngay</a></p>
            </div>
            <div class="social-login" style="justify-content: center; margin-top: 20px;">
                <div class="social-btn google-btn" id="googleLoginModalBtn">
                    <i class="fab fa-google"></i>
                </div>
                <div class="social-btn facebook-btn" id="facebookLoginModalBtn">
                    <i class="fab fa-facebook-f"></i>
                </div>
                <div class="social-btn github-btn" id="githubLoginModalBtn">
                    <i class="fab fa-github"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close-modal" id="closeRegister">&times;</span>
            <h2>ĐĂNG Ký</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">Họ và tên</label>
                    <input type="text" id="registerName" placeholder="Nhập họ và tên của bạn" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" placeholder="Nhập email của bạn" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Mật khẩu</label>
                    <input type="password" id="registerPassword" placeholder="Tạo mật khẩu mạnh" required>
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">Xác nhận mật khẩu</label>
                    <input type="password" id="registerConfirmPassword" placeholder="Xác nhận mật khẩu" required>
                </div>
                <button type="submit" class="submit-btn">Đăng Ký</button>
            </form>
            <div class="form-footer">
                <p>Đã có tài khoản? <a href="#" id="switchToLogin">Đăng nhập ngay</a></p>
            </div>
            <div class="social-login" style="justify-content: center; margin-top: 20px;">
                <div class="social-btn google-btn" id="googleRegisterModalBtn">
                    <i class="fab fa-google"></i>
                </div>
                <div class="social-btn facebook-btn" id="facebookRegisterModalBtn">
                    <i class="fab fa-facebook-f"></i>
                </div>
                <div class="social-btn github-btn" id="githubRegisterModalBtn">
                    <i class="fab fa-github"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content payment-modal-content">
            <span class="close-modal" id="closePayment">&times;</span>
            <h2>THANH TOÁN</h2>

            <div class="form-group">
                <label for="customerName">Họ và tên</label>
                <input type="text" id="customerName" placeholder="Nhập họ và tên của bạn" required>
            </div>

            <div class="form-group">
                <label for="customerEmail">Email</label>
                <input type="email" id="customerEmail" placeholder="Nhập email của bạn" required>
            </div>

            <div class="form-group">
                <label for="customerPhone">Số điện thoại</label>
                <input type="tel" id="customerPhone" placeholder="Nhập số điện thoại của bạn" required>
            </div>

            <div class="form-group">
                <label for="paymentNote">Ghi chú (nếu có)</label>
                <textarea id="paymentNote" rows="2" placeholder="Ghi chú cho đơn hàng"></textarea>
            </div>

            <h3>Chọn phương thức thanh toán</h3>
            <div class="payment-methods">
                <div class="payment-method" data-method="banking">
                    <i class="fas fa-university"></i>
                    <h3>Chuyển khoản ngân hàng</h3>
                    <p>Agribank</p>
                </div>

                <div class="payment-method" data-method="momo">
                    <i class="fas fa-mobile-alt"></i>
                    <h3>Ví MoMo</h3>
                    <p>Thanh toán qua ứng dụng MoMo</p>
                </div>

                <div class="payment-method" data-method="zalo">
                    <i class="fas fa-wallet"></i>
                    <h3>ZaloPay</h3>
                    <p>Thanh toán qua ZaloPay</p>
                </div>
            </div>

            <div class="payment-info" id="bankingInfo">
                <h3>Thông tin chuyển khoản ngân hàng</h3>
                <div class="bank-info">
                    <div class="account-info">
                        <span class="account-name">Ngân hàng:</span>
                        <span class="account-number">Agribank</span>
                    </div>
                    <div class="account-info">
                        <span class="account-name">Số tài khoản:</span>
                        <span class="account-number">8888336050871</span>
                        <button class="copy-btn" data-number="8888336050871">Sao chép</button>
                    </div>
                    <div class="account-info">
                        <span class="account-name">Chủ tài khoản:</span>
                        <span class="account-number">BUI VAN HOI</span>
                    </div>
                    <p class="payment-instruction">Nội dung chuyển khoản: Tên_SốĐiệnThoại_MãĐơnHàng</p>
                </div>
            </div>

            <div class="payment-info" id="momoInfo">
                <h3>Thông tin thanh toán MoMo</h3>
                <div class="momo-info">
                    <div class="account-info">
                        <span class="account-name">Số điện thoại:</span>
                        <span class="account-number">0336050871</span>
                        <button class="copy-btn" data-number="0336050871">Sao chép</button>
                    </div>
                    <div class="account-info">
                        <span class="account-name">Chủ tài khoản:</span>
                        <span class="account-number">BUI VAN HOI</span>
                    </div>
                    <p class="payment-instruction">Vui lòng chuyển khoản với nội dung: Tên_SốĐiệnThoại_MãĐơnHàng</p>
                </div>
            </div>

            <div class="payment-info" id="zaloInfo">
                <h3>Thông tin thanh toán ZaloPay</h3>
                <div class="zalo-info">
                    <div class="account-info">
                        <span class="account-name">Số điện thoại:</span>
                        <span class="account-number">0336050871</span>
                        <button class="copy-btn" data-number="0336050871">Sao chép</button>
                    </div>
                    <div class="account-info">
                        <span class="account-name">Chủ tài khoản:</span>
                        <span class="account-number">BUI VAN HOI</span>
                    </div>
                    <p class="payment-instruction">Vui lòng chuyển khoản với nội dung: Tên_SốĐiệnThoại_MãĐơnHàng</p>
                </div>
            </div>

            <div class="payment-verified">
                <i class="fas fa-check-circle"></i>
                <p>Sau khi chuyển khoản, hệ thống sẽ xác nhận tự động trong vòng 5-10 phút và kích hoạt khóa học cho
                    bạn.</p>
            </div>

            <div class="summary-row summary-total">
                <span>Tổng cộng:</span>
                <span id="paymentTotal">0₫</span>
            </div>

            <button type="button" class="submit-btn" id="confirmPaymentBtn">Xác Nhận Thanh Toán</button>
        </div>
    </div>

    <!-- Course Detail Modal -->
    <div class="modal course-detail-modal" id="courseDetailModal">
        <div class="modal-content">
            <span class="close-modal" id="closeCourseDetail">&times;</span>
            <div id="courseDetailContent">
                <!-- Course detail will be loaded here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Add Course Modal -->
    <!-- Thay thế modal thêm khóa học hiện tại -->
    <div class="modal" id="addCourseModal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <span class="close-modal" id="closeAddCourse">&times;</span>
            <h2>THÊM KHÓA HỌC MỚI</h2>
            <form id="addCourseForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="courseTitle">Tên khóa học *</label>
                        <input type="text" id="courseTitle" placeholder="Nhập tên khóa học" required>
                    </div>
                    <div class="form-group">
                        <label for="courseCategory">Danh mục *</label>
                        <select id="courseCategory" required>
                            <option value="">Chọn danh mục</option>
                            <option value="frontend">Frontend Development</option>
                            <option value="backend">Backend Development</option>
                            <option value="mobile">Mobile Development</option>
                            <option value="data">Data Science</option>
                            <option value="devops">DevOps</option>
                            <option value="other">Khác</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="courseDescription">Mô tả khóa học *</label>
                    <textarea id="courseDescription" rows="3" placeholder="Nhập mô tả chi tiết về khóa học"
                        required></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="coursePrice">Giá khóa học (VNĐ) *</label>
                        <input type="number" id="coursePrice" placeholder="Nhập giá khóa học" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="courseImage">URL hình ảnh *</label>
                        <input type="url" id="courseImage" placeholder="https://example.com/image.jpg" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="courseVideo">URL video giới thiệu *</label>
                    <input type="url" id="courseVideo" placeholder="https://youtube.com/embed/..." required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="courseIsFree"> Khóa học miễn phí
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="courseIsFeatured"> Đưa vào khóa học nổi bật
                        </label>
                    </div>
                </div>

                <!-- Phần thêm chương và bài học -->
                <div class="chapters-section">
                    <h3>Nội dung khóa học</h3>
                    <div class="chapters-container" id="chaptersContainer">
                        <!-- Các chương sẽ được thêm vào đây -->
                    </div>
                    <button type="button" class="btn-secondary" id="addChapterBtn">
                        <i class="fas fa-plus"></i> Thêm Chương
                    </button>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="previewCourseBtn">Xem Trước</button>
                    <button type="submit" class="submit-btn">Thêm Khóa Học</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal xem trước khóa học -->
    <div class="modal" id="previewCourseModal">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <span class="close-modal" id="closePreview">&times;</span>
            <h2>XEM TRƯỚC KHÓA HỌC</h2>
            <div id="coursePreviewContent">
                <!-- Nội dung xem trước sẽ được thêm vào đây -->
            </div>
        </div>
    </div>

    <!-- Review Modal -->
    <div class="modal" id="reviewModal">
        <div class="modal-content">
            <span class="close-modal" id="closeReview">&times;</span>
            <h2>ĐÁNH GIÁ KHÓA HỌC</h2>
            <form id="reviewForm">
                <input type="hidden" id="reviewCourseId">
                <div class="form-group">
                    <label>Đánh giá sao</label>
                    <div class="star-rating" id="starRating">
                        <span class="star" data-value="1">★</span>
                        <span class="star" data-value="2">★</span>
                        <span class="star" data-value="3">★</span>
                        <span class="star" data-value="4">★</span>
                        <span class="star" data-value="5">★</span>
                    </div>
                    <input type="hidden" id="reviewRating" required>
                </div>
                <div class="form-group">
                    <label for="reviewTitle">Tiêu đề đánh giá</label>
                    <input type="text" id="reviewTitle" placeholder="Nhập tiêu đề đánh giá" required>
                </div>
                <div class="form-group">
                    <label for="reviewContent">Nội dung đánh giá</label>
                    <textarea id="reviewContent" rows="4" placeholder="Chia sẻ trải nghiệm của bạn về khóa học này"
                        required></textarea>
                </div>
                <button type="submit" class="submit-btn">Gửi Đánh Giá</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Về CodeTech</h3>
                <ul>
                    <li><a href="#" class="nav-link" data-page="about">Giới thiệu</a></li>
                    <li><a href="#">Đội ngũ giảng viên</a></li>
                    <li><a href="#">Học viên nói gì</a></li>
                    <li><a href="#">Cơ hội việc làm</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Khóa Học</h3>
                <ul>
                    <li><a href="#" class="nav-link" data-page="courses">Tất cả khóa học</a></li>
                    <li><a href="#">Frontend Development</a></li>
                    <li><a href="#">Backend Development</a></li>
                    <li><a href="#">Data Science</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Hỗ Trợ</h3>
                <ul>
                    <li><a href="#" class="nav-link" data-page="guide">Hướng dẫn đăng ký</a></li>
                    <li><a href="#">Phương thức thanh toán</a></li>
                    <li><a href="#">Câu hỏi thường gặp</a></li>
                    <li><a href="#">Chính sách bảo mật</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Kết Nối Với Chúng Tôi</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-github"></i></a>
                    <a href="#"><i class="fab fa-discord"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 CodeTech. Tất cả các quyền được bảo lưu.</p>
        </div>
    </footer>

    <!-- AI Chat Bubble -->
    <div class="ai-chat-bubble">
        <i class="fas fa-robot"></i>
    </div>

    <div class="ai-chat-window" id="chatWindow">
        <div class="chat-header">
            <h3>Trợ lý ảo CodeTech</h3>
            <span class="close-chat" id="closeChat">&times;</span>
        </div>
        <div class="chat-messages">
            <div class="message ai-message">
                Xin chào! Tôi là trợ lý ảo của CodeTech. Tôi có thể giúp gì cho bạn?
            </div>
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Nhập câu hỏi của bạn..." id="chatInput">
            <button id="sendChatBtn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationMessage"></span>
    </div>

    <!-- Scroll to top button -->
    <div class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDbEO-TRL8x-0iStDKm2e-aPGkIaqylC4U",
            authDomain: "codetech-b6794.firebaseapp.com",
            projectId: "codetech-b6794",
            storageBucket: "codetech-b6794.firebasestorage.app",
            messagingSenderId: "692836809944",
            appId: "1:692836809944:web:f25a0425b94aa34d562bad"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();

        // Gemini AI configuration
        const GEMINI_API_KEY = "AIzaSyCIwoa2OOyaArgJwDXvKcMVg57_PUVYI5k";
        const GEMINI_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";

        // Configure providers
        const googleProvider = new firebase.auth.GoogleAuthProvider();
        const facebookProvider = new firebase.auth.FacebookAuthProvider();
        const githubProvider = new firebase.auth.GithubAuthProvider();

        // DOM Elements
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const loginModal = document.getElementById('loginModal');
        const registerModal = document.getElementById('registerModal');
        const paymentModal = document.getElementById('paymentModal');
        const courseDetailModal = document.getElementById('courseDetailModal');
        const addCourseModal = document.getElementById('addCourseModal');
        const reviewModal = document.getElementById('reviewModal');
        const closeLogin = document.getElementById('closeLogin');
        const closeRegister = document.getElementById('closeRegister');
        const closePayment = document.getElementById('closePayment');
        const closeCourseDetail = document.getElementById('closeCourseDetail');
        const closeAddCourse = document.getElementById('closeAddCourse');
        const closeReview = document.getElementById('closeReview');
        const switchToRegister = document.getElementById('switchToRegister');
        const switchToLogin = document.getElementById('switchToLogin');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const addCourseForm = document.getElementById('addCourseForm');
        const reviewForm = document.getElementById('reviewForm');
        const profileForm = document.getElementById('profileForm');
        const contactForm = document.getElementById('contactForm');
        const chatBubble = document.querySelector('.ai-chat-bubble');
        const chatWindow = document.getElementById('chatWindow');
        const closeChat = document.getElementById('closeChat');
        const cartIcon = document.getElementById('cartIcon');
        const exploreCoursesBtn = document.getElementById('exploreCourses');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const confirmPaymentBtn = document.getElementById('confirmPaymentBtn');
        const cartItemsContainer = document.getElementById('cartItems');
        const subtotalElement = document.getElementById('subtotal');
        const discountElement = document.getElementById('discount');
        const totalElement = document.getElementById('total');
        const paymentTotalElement = document.getElementById('paymentTotal');
        const myCoursesList = document.getElementById('my-courses-list');
        const paymentRequestsList = document.getElementById('paymentRequestsList');
        const adminNav = document.getElementById('adminNav');
        const addCourseBtn = document.getElementById('addCourseBtn');
        const adminAddCourseBtn = document.getElementById('adminAddCourseBtn');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notificationMessage');
        const searchInput = document.getElementById('searchInput');
        const categoryFilter = document.getElementById('categoryFilter');
        const priceFilter = document.getElementById('priceFilter');
        const ratingFilter = document.getElementById('ratingFilter');
        const backToCoursesBtn = document.getElementById('backToCourses');
        const runCodeBtn = document.getElementById('runCode');
        const bankingInfo = document.getElementById('bankingInfo');
        const momoInfo = document.getElementById('momoInfo');
        const zaloInfo = document.getElementById('zaloInfo');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const learningSidebar = document.getElementById('learningSidebar');
        const chatInput = document.getElementById('chatInput');
        const sendChatBtn = document.getElementById('sendChatBtn');
        const starRating = document.getElementById('starRating');
        const stars = starRating.querySelectorAll('.star');
        const reviewRating = document.getElementById('reviewRating');
        const requestInstructorBtn = document.getElementById('requestInstructorBtn');
        const instructorRequestSection = document.getElementById('instructorRequestSection');
        const instructorCoursesSection = document.getElementById('instructorCoursesSection');
        const instructorCoursesList = document.getElementById('instructorCoursesList');
        const instructorStats = document.getElementById('instructorStats');
        const scrollToTopBtn = document.getElementById('scrollToTop');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const facebookLoginBtn = document.getElementById('facebookLoginBtn');
        const githubLoginBtn = document.getElementById('githubLoginBtn');
        const googleLoginModalBtn = document.getElementById('googleLoginModalBtn');
        const facebookLoginModalBtn = document.getElementById('facebookLoginModalBtn');
        const githubLoginModalBtn = document.getElementById('githubLoginModalBtn');
        const googleRegisterModalBtn = document.getElementById('googleRegisterModalBtn');
        const facebookRegisterModalBtn = document.getElementById('facebookRegisterModalBtn');
        const githubRegisterModalBtn = document.getElementById('githubRegisterModalBtn');
        const profilePage = document.getElementById('profile');

        // Profile elements
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileRole = document.getElementById('profileRole');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileDisplayName = document.getElementById('profileDisplayName');
        const profileAge = document.getElementById('profileAge');
        const profileJob = document.getElementById('profileJob');
        const profilePhone = document.getElementById('profilePhone');
        const profileBio = document.getElementById('profileBio');
        const coursesEnrolled = document.getElementById('coursesEnrolled');
        const coursesCompleted = document.getElementById('coursesCompleted');
        const hoursLearned = document.getElementById('hoursLearned');
        const coursesCreated = document.getElementById('coursesCreated');

        // Page navigation elements
        const pageContainers = document.querySelectorAll('.page-container');
        const navLinks = document.querySelectorAll('.nav-link');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminContents = document.querySelectorAll('.admin-content');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const copyButtons = document.querySelectorAll('.copy-btn');
        const faqItems = document.querySelectorAll('.faq-item');

        // Sample courses data with detailed content
        const courses = [
            {
                id: 1,
                title: "Lập trình Web Fullstack",
                description: "Học cách xây dựng website hoàn chỉnh với HTML, CSS, JavaScript, React, Node.js và MongoDB.",
                image: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 2499000,
                rating: 4.9,
                students: 128,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/aOsSC6NseZw",
                featured: true,
                category: "frontend",
                chapters: [
                    {
                        title: "HTML & CSS Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu HTML", duration: "10:15", video: "https://www.youtube.com/embed/seR5JFRdx5A?si=BvqFC2osxbL3_oyW", code: "<!DOCTYPE html>\n<html>\n<head>\n    <title>Bài học HTML</title>\n</head>\n<body>\n    <h1>Chào mừng đến với HTML</h1>\n    <p>Đây là trang web đầu tiên của bạn.</p>\n</body>\n</html>" },
                            { title: "Thẻ HTML cơ bản", duration: "15:30", video: "https://www.youtube.com/embed/seR5JFRdx5A?si=-GYb0qK7h2OUStO8", code: "<!DOCTYPE html>\n<html>\n<head>\n    <title>Các thẻ HTML cơ bản</title>\n</head>\n<body>\n    <h1>Tiêu đề lớn</h1>\n    <h2>Tiêu đề nhỏ hơn</h2>\n    <p>Đoạn văn bản</p>\n    <a href='https://www.example.com'>Liên kết</a>\n    <img src='image.jpg' alt='Mô tả ảnh'>\n</body>\n</html>" },
                            { title: "CSS Selectors", duration: "18:20", video: "https://www.youtube.com/embed/QgxkYbGr2II?si=v-y2CqfO4gPVCNCI", code: "/* CSS Selectors cơ bản */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 20px;\n    background-color: #f0f0f0;\n}\n\nh1 {\n    color: #333;\n    text-align: center;\n}\n\np {\n    color: #666;\n    line-height: 1.6;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}" }
                        ]
                    },
                    {
                        title: "JavaScript Cơ Bản",
                        lessons: [
                            { title: "Biến và Kiểu dữ liệu", duration: "12:45", video: "https://www.youtube.com/embed/P-fMQ3elxSE?si=OPKbK8hfyGZ7dpMD", code: "// Khai báo biến\nlet name = 'John';\nconst age = 30;\nvar isStudent = true;\n\n// Các kiểu dữ liệu\nconsole.log(typeof name);      // string\nconsole.log(typeof age);       // number\nconsole.log(typeof isStudent); // boolean\n\n// Mảng\nlet fruits = ['Apple', 'Banana', 'Orange'];\nconsole.log(fruits[0]); // Apple\n\n// Object\nlet person = {\n    name: 'John',\n    age: 30,\n    isStudent: true\n};\nconsole.log(person.name); // John" },
                            { title: "Hàm và Vòng lặp", duration: "15:20", video: "https://www.youtube.com/embed/HSVqrhmKybY?si=sLHaMJHcILzQR5P4", code: "// Hàm trong JavaScript\nfunction greet(name) {\n    return 'Hello, ' + name + '!';\n}\n\nconsole.log(greet('John')); // Hello, John!\n\n// Vòng lặp for\nfor (let i = 0; i < 5; i++) {\n    console.log('Số: ' + i);\n}\n\n// Vòng lặp while\nlet count = 0;\nwhile (count < 5) {\n    console.log('Đếm: ' + count);\n    count++;\n}\n\n// Vòng lặp for...of\nlet fruits = ['Apple', 'Banana', 'Orange'];\nfor (let fruit of fruits) {\n    console.log(fruit);\n}" },
                            { title: "DOM Manipulation", duration: "20:15", video: "https://www.youtube.com/embed/y17RuWkWdn8?si=VG1oQ9DDjInluH-k", code: "// Truy cập phần tử DOM\nlet heading = document.getElementById('main-heading');\nlet paragraphs = document.getElementsByClassName('text');\nlet buttons = document.querySelectorAll('button');\n\n// Thay đổi nội dung\nheading.textContent = 'Tiêu đề mới';\nheading.innerHTML = '<em>Tiêu đề</em> mới';\n\n// Thay đổi CSS\nheading.style.color = 'blue';\nheading.style.fontSize = '24px';\n\n// Thêm sự kiện\nlet button = document.getElementById('my-button');\nbutton.addEventListener('click', function() {\n    alert('Nút đã được click!');\n});\n\n// Tạo phần tử mới\nlet newParagraph = document.createElement('p');\nnewParagraph.textContent = 'Đoạn văn mới';\ndocument.body.appendChild(newParagraph);" }
                        ]
                    },
                    {
                        title: "React.js Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu React", duration: "14:30", video: "https://www.youtube.com/embed/UGFaM0sT-0g?si=BMWTduYzUfSCKjbZ", code: "import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Component đơn giản\nfunction Welcome(props) {\n    return <h1>Xin chào, {props.name}!</h1>;\n}\n\n// Component class\nclass App extends React.Component {\n    render() {\n        return (\n            <div>\n                <Welcome name=\"Sara\" />\n                <Welcome name=\"Cahal\" />\n                <Welcome name=\"Edite\" />\n            </div>\n        );\n    }\n}\n\n// Render ứng dụng\nReactDOM.render(<App />, document.getElementById('root'));" },
                            { title: "State và Props", duration: "18:45", video: "https://www.youtube.com/embed/TvE2FuYiuXo?si=WwPLnyTCqaSdX6nk", code: "import React, { Component } from 'react';\n\nclass Counter extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            count: 0\n        };\n    }\n\n    increment = () => {\n        this.setState({ count: this.state.count + 1 });\n    }\n\n    decrement = () => {\n        this.setState({ count: this.state.count - 1 });\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>Bộ đếm: {this.state.count}</h2>\n                <button onClick={this.increment}>+</button>\n                <button onClick={this.decrement}>-</button>\n                <p>Giá trị khởi tạo: {this.props.initialValue}</p>\n            </div>\n        );\n    }\n}\n\n// Sử dụng component\nReactDOM.render(\n    <Counter initialValue={5} />,\n    document.getElementById('root')\n);" },
                            { title: "React Hooks", duration: "22:10", video: "https://www.youtube.com/embed/CVaEWBFpxhc?si=FpTRRSVaIKuasnOB", code: "import React, { useState, useEffect } from 'react';\n\nfunction UserProfile({ userId }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect() => {\n        // Fetch user data\n        fetch(`https://api.example.com/users/${userId}`)\n            .then(response => response.json())\n            .then(data => {\n                setUser(data);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                setLoading(false);\n            });\n    }, [userId]); // Chỉ chạy lại khi userId thay đổi\n\n    if (loading) return <div>Đang tải...</div>;\n    if (!user) return <div>Không tìm thấy người dùng</div>;\n\n    return (\n        <div>\n            <h2>{user.name}</h2>\n            <p>Email: {user.email}</p>\n            <p>Điện thoại: {user.phone}</p>\n        </div>\n    );\n}\n\nexport default UserProfile;" }
                        ]
                    },
                    {
                        title: "Node.js & Express",
                        lessons: [
                            { title: "Tạo Server với Express", duration: "16:25", video: "https://www.youtube.com/embed/Qy3k4Kv3-rc?si=C37qTy7TaGkBvpFB", code: "const express = require('express');\nconst app = express();\nconst port = 3000;\n\n// Middleware\napp.use(express.json());\n\n// Routes\napp.get('/', (req, res) => {\n    res.send('Chào mừng đến với server Express!');\n});\n\napp.get('/api/users', (req, res) => {\n    const users = [\n        { id: 1, name: 'An' },\n        { id: 2, name: 'Bình' },\n        { id: 3, name: 'Chi' }\n    ];\n    res.json(users);\n});\n\napp.post('/api/users', (req, res) => {\n    const newUser = req.body;\n    // Lưu user vào database\n    res.status(201).json(newUser);\n});\n\n// Khởi chạy server\napp.listen(port, () => {\n    console.log(`Server đang chạy tại http://localhost:${port}`);\n});" },
                            { title: "Kết nối Database", duration: "19:40", video: "https://www.youtube.com/embed/hZQonSn0UMQ?si=RTr1zzT1OIbllWWI", code: "const express = require('express');\nconst mongoose = require('mongoose');\nconst app = express();\n\n// Kết nối MongoDB\nmongoose.connect('mongodb://localhost:27017/mydatabase', {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n});\n\n// Định nghĩa Schema\nconst userSchema = new mongoose.Schema({\n    name: String,\n    email: String,\n    age: Number\n});\n\n// Tạo Model\nconst User = mongoose.model('User', userSchema);\n\n// Routes\napp.get('/api/users', async (req, res) => {\n    try {\n        const users = await User.find();\n        res.json(users);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n\napp.post('/api/users', async (req, res) => {\n    try {\n        const newUser = new User(req.body);\n        const savedUser = await newUser.save();\n        res.status(201).json(savedUser);\n    } catch (error) {\n        res.status(400).json({ error: error.message });\n    }\n});\n\n// Khởi chạy server\nconst port = 3000;\napp.listen(port, () => {\n    console.log(`Server đang chạy tại http://localhost:${port}`);\n});" }
                        ]
                    }
                ]
            },
            {
                id: 2,
                title: "Python cho người mới bắt đầu",
                description: "Khóa học toàn diện về Python từ cơ bản đến nâng cao, bao gồm cả Data Science và Machine Learning.",
                image: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1799000,
                rating: 4.8,
                students: 96,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/bl2m9eXfm_A?si=jwzYl5CgDXDCGa-p",
                featured: true,
                category: "backend",
                chapters: [
                    {
                        title: "Python Cơ Bản",
                        lessons: [
                            { title: "Cài đặt và Hello World", duration: "8:15", video: "https://www.youtube.com/embed/NZj6LI5a9vc?si=enEGDteE8yob68N0", code: "# Đây là chương trình Python đầu tiên\nprint(\"Hello, World!\")\n\n# Biến và kiểu dữ liệu\nname = \"John\"\nage = 25\nheight = 1.75\nis_student = True\n\n# In ra thông tin\nprint(\"Tên:\", name)\nprint(\"Tuổi:\", age)\nprint(\"Chiều cao:\", height)\nprint(\"Là sinh viên:\", is_student)" },
                            { title: "Cấu trúc điều khiển", duration: "12:30", video: "https://www.youtube.com/embed/A15soNCHmeM?si=-NcdHBs5E5nN4Nrt", code: "# Câu lệnh điều kiện if\nage = 18\n\nif age >= 18:\n    print(\"Bạn đã trưởng thành\")\nelse:\n    print(\"Bạn chưa trưởng thành\")\n\n# Vòng lặp for\nfruits = [\"apple\", \"banana\", \"cherry\"]\nfor fruit in fruits:\n    print(fruit)\n\n# Vòng lặp while\ncount = 0\nwhile count < 5:\n    print(\"Count:\", count)\n    count += 1" },
                            { title: "Hàm trong Python", duration: "15:45", video: "https://www.youtube.com/embed/SxHbHDY7wLY?si=JPuF63YhN-j3d8ns", code: "# Định nghĩa hàm\ndef greet(name):\n    \"\"\"Hàm chào hỏi\"\"\"\n    return f\"Hello, {name}!\"\n\n# Gọi hàm\nmessage = greet(\"John\")\nprint(message)\n\n# Hàm với nhiều tham số\ndef calculate_sum(a, b):\n    return a + b\n\nresult = calculate_sum(5, 3)\nprint(\"Tổng:\", result)\n\n# Hàm với tham số mặc định\ndef power(base, exponent=2):\n    return base ** exponent\n\nprint(power(3))      # 9\nprint(power(3, 3))   # 27" }
                        ]
                    },
                    {
                        title: "Cấu trúc dữ liệu",
                        lessons: [
                            { title: "List và Tuple", duration: "14:20", video: "https://www.youtube.com/embed/TcdvhSGB3nI?si=6fb7tWWSbfTpExyF", code: "# List (danh sách)\nfruits = [\"apple\", \"banana\", \"cherry\"]\nprint(\"Danh sách trái cây:\", fruits)\n\n# Thêm phần tử\nfruits.append(\"orange\")\nprint(\"Sau khi thêm:\", fruits)\n\n# Truy cập phần tử\nprint(\"Phần tử đầu tiên:\", fruits[0])\nprint(\"Phần tử cuối cùng:\", fruits[-1])\n\n# Tuple (bộ)\ncoordinates = (10, 20)\nprint(\"Tọa độ:\", coordinates)\n\n# Tuple không thể thay đổi\n# coordinates[0] = 15  # Lỗi!\n\n# Unpacking\nx, y = coordinates\nprint(\"x:\", x, \"y:\", y)" },
                            { title: "Dictionary và Set", duration: "16:35", video: "https://www.youtube.com/embed/CbgwC5tY6DI?si=AQoWtX7MvA3EZnH3", code: "# Dictionary (từ điển)\nstudent = {\n    \"name\": \"John\",\n    \"age\": 20,\n    \"major\": \"Computer Science\"\n}\n\nprint(\"Thông tin sinh viên:\", student)\nprint(\"Tên:\", student[\"name\"])\n\n# Thêm phần tử\nstudent[\"gpa\"] = 3.8\nprint(\"Sau khi thêm GPA:\", student)\n\n# Set (tập hợp)\nunique_numbers = {1, 2, 3, 4, 5, 5, 4}\nprint(\"Tập hợp số:\", unique_numbers)  # {1, 2, 3, 4, 5}\n\n# Thao tác trên set\nset1 = {1, 2, 3}\nset2 = {3, 4, 5}\n\nprint(\"Union:\", set1 | set2)        # {1, 2, 3, 4, 5}\nprint(\"Intersection:\", set1 & set2) # {3}\nprint(\"Difference:\", set1 - set2)   # {1, 2}" }
                        ]
                    },
                    {
                        title: "Xử lý file",
                        lessons: [
                            { title: "Đọc và ghi file", duration: "13:50", video: "https://www.youtube.com/embed/-o5WNw4Hohk?si=7KpbEKt5YPCcf2Og", code: "# Ghi vào file\nwith open(\"data.txt\", \"w\") as file:\n    file.write(\"Hello, World!\\n\")\n    file.write(\"This is a text file.\\n\")\n\nprint(\"Đã ghi file thành công\")\n\n# Đọc file\nwith open(\"data.txt\", \"r\") as file:\n    content = file.read()\n    print(\"Nội dung file:\")\n    print(content)\n\n# Đọc từng dòng\nwith open(\"data.txt\", \"r\") as file:\n    print(\"\\nĐọc từng dòng:\")\n    for line in file:\n        print(line.strip())" },
                            { title: "Xử lý file JSON", duration: "11:25", video: "https://www.youtube.com/embed/YMC3BzN3GRk?si=LyD_DwUQ3RiuZuM1", code: "import json\n\n# Dữ liệu Python\ndata = {\n    \"name\": \"John\",\n    \"age\": 30,\n    \"city\": \"New York\",\n    \"hobbies\": [\"reading\", \"traveling\", \"coding\"]\n}\n\n# Ghi vào file JSON\nwith open(\"data.json\", \"w\") as file:\n    json.dump(data, file, indent=4)\n\nprint(\"Đã ghi file JSON thành công\")\n\n# Đọc file JSON\nwith open(\"data.json\", \"r\") as file:\n    loaded_data = json.load(file)\n    print(\"Dữ liệu từ JSON:\")\n    print(loaded_data)\n    print(\"Tên:\", loaded_data[\"name\"])\n    print(\"Sở thích:\", loaded_data[\"hobbies\"])" }
                        ]
                    }
                ]
            },
            {
                id: 3,
                title: "Lập trình React Native",
                description: "Xây dựng ứng dụng di động đa nền tảng với React Native, từ cơ bản đến xuất bản ứng dụng.",
                image: "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwa90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1999000,
                rating: 4.9,
                students: 87,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/atPKL_H0wxY?si=8xj8OhwLRNPE3Shx",
                featured: true,
                category: "mobile",
                chapters: [
                    {
                        title: "React Native Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu React Native", duration: "10:20", video: "https://www.youtube.com/embed/wxxszUSs4Kk?si=XkjpPF-LLiYqd6A5", code: "import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\nconst App = () => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>Chào mừng đến với React Native!</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  },\n  text: {\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 10,\n  },\n});\n\nexport default App;" },
                            { title: "Components và Props", duration: "14:35", video: "https://www.youtube.com/embed/FCdAhS_v6yI?si=G0TuNyqMHn8iEW4_", code: "import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\nconst Welcome = ({ name }) => {\n  return (\n    <View>\n      <Text style={styles.text}>Xin chào, {name}!</Text>\n    </View>\n  );\n};\n\nconst App = () => {\n  return (\n    <View style={styles.container}>\n      <Welcome name=\"Người dùng\" />\n      <Welcome name=\"Developer\" />\n      <Welcome name=\"Designer\" />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 18,\n    margin: 10,\n  },\n});\n\nexport default App;" }
                        ]
                    },
                    {
                        title: "Navigation",
                        lessons: [
                            { title: "React Navigation", duration: "16:40", video: "https://www.youtube.com/embed/vpjg0UIK5l8?si=puOs0aecnshKu11b", code: "import React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\n// Screens\nimport HomeScreen from './screens/HomeScreen';\nimport DetailsScreen from './screens/DetailsScreen';\n\nconst Stack = createStackNavigator();\n\nconst App = () => {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Home\">\n        <Stack.Screen \n          name=\"Home\" \n          component={HomeScreen} \n          options={{ title: 'Trang chủ' }}\n        />\n        <Stack.Screen \n          name=\"Details\" \n          component={DetailsScreen} \n          options={{ title: 'Chi tiết' }}\n        />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n};\n\nexport default App;" }
                        ]
                    }
                ]
            },
            {
                id: 4,
                title: "Data Science với Python",
                description: "Khóa học toàn diện về Data Science,xử lý dữ liệu đến machine learning và visualization.",
                image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 2999000,
                rating: 4.7,
                students: 112,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/OS4r8C8u3Cc?si=GIlwam75lV5frr7Q",
                featured: true,
                category: "data",
                chapters: [
                    {
                        title: "Pandas và Data Manipulation",
                        lessons: [
                            { title: "Giới thiệu Pandas", duration: "12:15", video: "https://www.youtube.com/embed/HPGYTWYM13s?si=6CtLZQkYPSGDGKpW", code: "import pandas as pd\n\n# Tạo DataFrame\ndata = {\n    'Tên': ['An', 'Bình', 'Chi', 'Dũng'],\n    'Tuổi': [25, 30, 35, 40],\n    'Thành phố': ['Hà Nội', 'TP.HCM', 'Đà Nẵng', 'Cần Thơ']\n}\n\ndf = pd.DataFrame(data)\nprint(df)\n\n# Thông tin cơ bản\nprint(\"\\nThông tin DataFrame:\")\nprint(df.info())\n\n# Thống kê mô tả\nprint(\"\\nThống kê mô tả:\")\nprint(df.describe())" },
                            { title: "Lọc và sắp xếp dữ liệu", duration: "14:30", video: "https://www.youtube.com/embed/m7yasH3Wac8?si=jUFBvwPKznlDojXO", code: "import pandas as pd\n\n# Tạo DataFrame\ndata = {\n    'Tên': ['An', 'Bình', 'Chi', 'Dũng', 'Giang'],\n    'Tuổi': [25, 30, 35, 40, 28],\n    'Lương': [1000, 1500, 2000, 2500, 1200],\n    'Thành phố': ['Hà Nội', 'TP.HCM', 'Đà Nẵng', 'Cần Thơ', 'Hà Nội']\n}\n\ndf = pd.DataFrame(data)\n\n# Lọc dữ liệu\nprint(\"Người trên 30 tuổi:\")\nprint(df[df['Tuổi'] > 30])\n\nprint(\"\\nNgười ở Hà Nội:\")\nprint(df[df['Thành phố'] == 'Hà Nội'])\n\n# Sắp xếp dữ liệu\nprint(\"\\nSắp xếp theo tuổi:\")\nprint(df.sort_values('Tuổi'))\n\nprint(\"\\nSắp xếp theo lương giảm dần:\")\nprint(df.sort_values('Lương', ascending=False))" }
                        ]
                    },
                    {
                        title: "Data Visualization",
                        lessons: [
                            { title: "Matplotlib cơ bản", duration: "13:45", video: "https://www.youtube.com/embed/Ak7GamuoIr4?si=RIOs3irAwJT1gKgR", code: "import matplotlib.pyplot as plt\nimport numpy as np\n\n# Tạo dữ liệu\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\n# Vẽ đồ thị đường\nplt.figure(figsize=(10, 6))\nplt.plot(x, y, label='sin(x)', color='blue', linewidth=2)\nplt.title('Đồ thị hàm sin')\nplt.xlabel('x')\nplt.ylabel('sin(x)')\nplt.legend()\nplt.grid(True)\nplt.show()\n\n# Vẽ đồ thị scatter\nplt.figure(figsize=(10, 6))\nplt.scatter(x, y, alpha=0.6, color='red')\nplt.title('Scatter plot của sin(x)')\nplt.xlabel('x')\nplt.ylabel('sin(x)')\nplt.grid(True)\nplt.show()" }
                        ]
                    }
                ]
            },
            {
                id: 5,
                title: "DevOps Fundamentals",
                description: "Học các nguyên tắc cơ bản của DevOps, CI/CD, containerization và cloud deployment.",
                image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1115&q=80",
                price: 2299000,
                rating: 4.6,
                students: 78,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/g2-QoS3ng9g?si=8WTfc4RzWdL2hWVA",
                featured: true,
                category: "devops",
                chapters: [
                    {
                        title: "Docker Container",
                        lessons: [
                            { title: "Giới thiệu Docker", duration: "11:20", video: "https://www.youtube.com/embed/xfBbLg6-4xY?si=InopmW_UTwuuT_5R", code: "# Dockerfile example\nFROM node:14-alpine\n\n# Thiết lập thư mục làm việc\nWORKDIR /app\n\n# Sao chép package.json và package-lock.json\nCOPY package*.json ./\n\n# Cài đặt dependencies\nRUN npm install\n\n# Sao chép mã nguồn\nCOPY . .\n\n# Expose port\nEXPOSE 3000\n\n# Chạy ứng dụng\nCMD [\"npm\", \"start\"]" },
                            { title: "Docker Compose", duration: "15:30", video: "https://www.youtube.com/embed/dmn8oN4_zq4?si=1L42EWtKCJ6OctRS", code: "# docker-compose.yml\nversion: '3.8'\nservices:\n  web:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=production\n    depends_on:\n      - db\n  db:\n    image: postgres:13\n    environment:\n      POSTGRES_DB: myapp\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  postgres_data:" }
                        ]
                    }
                ]
            },
            {
                id: 6,
                title: "JavaScript Nâng Cao",
                description: "Khám phá các tính năng nâng cao của JavaScript: async/await, closures, functional programming.",
                image: "https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1599000,
                rating: 4.8,
                students: 143,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/1A7JUhcHQzI?si=Dc6WTQEXaGqfRXwe",
                featured: true,
                category: "frontend",
                chapters: [
                    {
                        title: "Async JavaScript",
                        lessons: [
                            { title: "Promise và Async/Await", duration: "16:25", video: "https://www.youtube.com/embed/XYVJKnZc0SY?si=6tveUM26QXVr4lTT", code: "// Sử dụng Promise\nfunction fetchData() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            const success = Math.random() > 0.3;\n            if (success) {\n                resolve('Dữ liệu đã được tải thành công!');\n            } else {\n                reject('Lỗi: Không thể tải dữ liệu');\n            }\n        }, 2000);\n    });\n}\n\n// Sử dụng Promise\nfetchData()\n    .then(data => {\n        console.log(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n\n// Sử dụng Async/Await\nasync function getData() {\n    try {\n        const data = await fetchData();\n        console.log(data);\n    } catch (error) {\n        console.error(error);\n    }\n}\n\ngetData();" }
                        ]
                    }
                ]
            },
            {
                id: 7,
                title: "Vue.js Cho Người Mới Bắt Đầu",
                description: "Học Vue.js từ cơ bản đến nâng cao, xây dựng ứng dụng web hiện đại.",
                image: "https://images.unsplash.com/photo-1565106430482-8f6e74349ca1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1699000,
                rating: 4.7,
                students: 94,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/Vg9n_YRGPIY?si=fLWpxwBswAEG2iQp",
                featured: false,
                category: "frontend",
                chapters: [
                    {
                        title: "Vue.js Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu Vu.jes", duration: "12:30", video: "https://www.youtube.com/embed/EXicVtzrybM?si=71dk65DSWg_KuNx4", code: "<!-- HTML -->\n<div id=\"app\">\n  {{ message }}\n</div>\n\n// JavaScript\nnew Vue({\n  el: '#app',\n  data: {\n    message: 'Chào mừng đến với Vue.js!'\n  }\n});" }
                        ]
                    }
                ]
            },
            {
                id: 8,
                title: "Node.js Nâng Cao",
                description: "Nắm vững Node.js nâng cao với streams, clustering, tối ưu và chuyên sâu.",
                image: "https://images.unsplash.com/photo-1627398242454-45a1465c2479?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1899000,
                rating: 4.6,
                students: 87,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/i1MZ2RPZvxk?si=iaJq7oUWFwudyRKO",
                featured: false,
                category: "backend",
                chapters: [
                    {
                        title: "Streams trong Node.js",
                        lessons: [
                            { title: "Working với Streams", duration: "14:20", video: "https://www.youtube.com/embed/6d6J4YlZe8c?si=DLG9BLll2CulBju-", code: "const fs = require('fs');\nconst zlib = require('zlib');\n\n// Tạo readable stream\nconst readableStream = fs.createReadStream('input.txt');\n\n// Tạo writable stream\nconst writableStream = fs.createWriteStream('output.txt');\n\n// Tạo transform stream (nén dữ liệu)\nconst gzip = zlib.createGzip();\n\n// Pipe chains\nreadableStream\n  .pipe(gzip)\n  .pipe(writableStream)\n  .on('finish', () => {\n    console.log('Dữ liệu đã được xử lý và nén thành công!');\n  })\n  .on('error', (err) => {\n    console.error('Có lỗi xảy ra:', err);\n  });" }
                        ]
                    }
                ]
            },
            {
                id: 9,
                title: "Flutter Development",
                description: "Xây dựng ứng dụng di động đa nền tảng với Flutter và Dart.",
                image: "https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",
                price: 2199000,
                rating: 4.8,
                students: 76,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/1ukSR1GRtMU?si=dd0uuRlrGG5hFPij",
                featured: false,
                category: "mobile",
                chapters: [
                    {
                        title: "Flutter Cơ Bản",
                        lessons: [
                            { title: "Widgets và State", duration: "13:15", video: "https://www.youtube.com/embed/HHUW9BQxNoA?si=SJjY4ESdF5vtyYXY", code: "import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter Demo',\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Chào mừng đến với Flutter'),\n        ),\n        body: Center(\n          child: Text(\n            'Xin chào, Flutter!',\n            style: TextStyle(fontSize: 24),\n          ),\n        ),\n      ),\n    );\n  }\n}" }
                        ]
                    }
                ]
            },
            {
                id: 10,
                title: "Machine Learning Cơ Bản",
                description: "Giới thiệu về Machine Learning với Python và scikit-learn.",
                image: "https://images.unsplash.com/photo-1555949963-aa79dcee981c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 2799000,
                rating: 4.9,
                students: 102,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/WgtTRwYwrJI?si=1tiqnA3V6L7aX9C7",
                featured: false,
                category: "data",
                chapters: [
                    {
                        title: "Giới thiệu Machine Learning",
                        lessons: [
                            { title: "Linear Regression", duration: "15:45", video: "https://www.youtube.com/embed/8jazNUpO3lQ", code: "import numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\n\n# Tạo dữ liệu mẫu\nnp.random.seed(42)\nX = 2 * np.random.rand(100, 1)\ny = 4 + 3 * X + np.random.randn(100, 1)\n\n# Chia dữ liệu\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\n\n# Tạo và huấn luyện mô hình\nmodel = LinearRegression()\nmodel.fit(X_train, y_train)\n\n# Dự đoán\ny_pred = model.predict(X_test)\n\n# Hiển thị kết quả\nprint(f\"Intercept: {model.intercept_}\")\nprint(f\"Coefficient: {model.coef_}\")\n\n# Vẽ đồ thị\nplt.scatter(X, y, alpha=0.6)\nplt.plot(X_test, y_pred, color='red', linewidth=2)\nplt.title('Linear Regression')\nplt.xlabel('X')\nplt.ylabel('y')\nplt.show()" }
                        ]
                    }
                ]
            },
            {
                id: 11,
                title: "Kubernetes & Cloud Native",
                description: "Học cách triển khai và quản lý ứng dụng với Kubernetes trên nền tảng cloud.",
                image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1172&q=80",
                price: 2499000,
                rating: 4.7,
                students: 68,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/HjHweKo1zh0?si=zcInyV-c2gmY7kY3",
                featured: false,
                category: "devops",
                chapters: [
                    {
                        title: "Kubernetes Fundamentals",
                        lessons: [
                            { title: "Deployments và Services", duration: "16:30", video: "https://www.youtube.com/embed/WwBdNXt6wO4", code: "# deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.14.2\n        ports:\n        - containerPort: 80\n\n---\n# service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-service\nspec:\n  selector:\n    app: nginx\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 80\n  type: LoadBalancer" }
                        ]
                    }
                ]
            },
            {
                id: 12,
                title: "TypeScript Cho Developer",
                description: "Nâng cao kỹ năng JavaScript với TypeScript, static typing và OOP.",
                image: "https://images.unsplash.com/photo-1566837945700-30057527ade0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1499000,
                rating: 4.8,
                students: 115,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/8Fy_3TEh5_0?si=0Y9DZUzTM6LhJl8D",
                featured: false,
                category: "frontend",
                chapters: [
                    {
                        title: "TypeScript Basics",
                        lessons: [
                            { title: "Types và Interfaces", duration: "12:20", video: "https://www.youtube.com/embed/ahCwqrYpIuM", code: "// Định nghĩa interface\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n  age?: number; // Optional property\n}\n\n// Sử dụng interface\nconst createUser = (user: User): User => {\n  return {\n    id: Math.random(),\n    name: user.name,\n    email: user.email,\n    age: user.age\n  };\n};\n\n// Sử dụng function\nconst newUser = createUser({\n  name: 'John Doe',\n  email: 'john@example.com',\n  age: 30\n});\n\nconsole.log(newUser);\n\n// Union types\nlet value: string | number;\nvalue = 'Hello';\nvalue = 42;\n\n// Type aliases\ntype Status = 'active' | 'inactive' | 'pending';\nlet userStatus: Status = 'active';" }
                        ]
                    }
                ]
            },
            {
                id: 13,
                title: "GraphQL API Development",
                description: "Xây dựng API hiện đại với GraphQL, Apollo Server và Client.",
                image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 1899000,
                rating: 4.7,
                students: 83,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/eIQh02xuVw4?si=gOHK67PTscNWvGMX",
                featured: false,
                category: "backend",
                chapters: [
                    {
                        title: "GraphQL Fundamentals",
                        lessons: [
                            { title: "Schemas và Resolvers", duration: "14:50", video: "https://www.youtube.com/embed/ed8SzALpx1Q", code: "const { ApolloServer, gql } = require('apollo-server');\n\n// Định nghĩa schema\nconst typeDefs = gql`\n  type Book {\n    title: String\n    author: String\n  }\n\n  type Query {\n    books: [Book]\n  }\n`;\n\n// Dữ liệu mẫu\nconst books = [\n  {\n    title: 'GraphQL Guide',\n    author: 'John Doe',\n  },\n  {\n    title: 'API Design',\n    author: 'Jane Smith',\n  },\n];\n\n// Định nghĩa resolvers\nconst resolvers = {\n  Query: {\n    books: () => books,\n  },\n};\n\n// Khởi tạo server\nconst server = new ApolloServer({ typeDefs, resolvers });\n\n// Khởi chạy server\nserver.listen().then(({ url }) => {\n  console.log(`🚀 Server ready at ${url}`);\n});" }
                        ]
                    }
                ]
            },
            {
                id: 14,
                title: "iOS Development với Swift",
                description: "Xây dựng ứng dụng iOS native với Swift và SwiftUI.",
                image: "https://images.unsplash.com/photo-1607252650355-f7fd0460ccdb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 2399000,
                rating: 4.8,
                students: 91,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/_3sQ0nEIR8g?si=Ea0RD9INbVfrzeG8",
                featured: false,
                category: "mobile",
                chapters: [
                    {
                        title: "Swift Basics",
                        lessons: [
                            { title: "Swift Syntax", duration: "13:40", video: "https://www.youtube.com/embed/comQ1-x2a1Q", code: "import UIKit\n\n// Variables và Constants\nvar greeting = \"Hello, playground\"\nlet maximumNumberOfLoginAttempts = 3\n\n// Functions\nfunc greet(person: String) -> String {\n    let greeting = \"Hello, \" + person + \"!\"\n    return greeting\n}\n\nprint(greet(person: \"Anna\"))\n\n// Optionals\nvar optionalString: String? = \"Hello\"\nprint(optionalString == nil)\n\n// Optional binding\nif let name = optionalString {\n    print(\"Hello, \\(name)\")\n}\n\n// Arrays và Dictionaries\nvar shoppingList = [\"catfish\", \"water\", \"tulips\"]\nshoppingList[1] = \"bottle of water\"\n\nvar occupations = [\n    \"Malcolm\": \"Captain\",\n    \"Kaylee\": \"Mechanic\",\n]\noccupations[\"Jayne\"] = \"Public Relations\"" }
                        ]
                    }
                ]
            },
            {
                id: 15,
                title: "Deep Learning & TensorFlow",
                description: "Xây dựng mô hình Deep Learning với TensorFlow và Keras.",
                image: "https://images.unsplash.com/photo-1555255707-c07966088b7b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 3199000,
                rating: 4.9,
                students: 74,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/Mubj_fqiAv8?si=tpa2yYbixHnrfzxX",
                featured: false,
                category: "data",
                chapters: [
                    {
                        title: "Neural Networks",
                        lessons: [
                            { title: "Xây dựng mô hình đầu tiên", duration: "17:25", video: "https://www.youtube.com/embed/tPYj3fFJGjk", code: "import tensorflow as tf\nfrom tensorflow import keras\nimport numpy as np\n\n# Tải dữ liệu MNIST\n(X_train, y_train), (X_test, y_test) = keras.datasets.mnist.load_data()\n\n# Chuẩn hóa dữ liệu\nX_train = X_train.astype('float32') / 255\nX_test = X_test.astype('float32') / 255\n\n# Reshape dữ liệu\nX_train = X_train.reshape(-1, 28, 28, 1)\nX_test = X_test.reshape(-1, 28, 28, 1)\n\n# One-hot encoding\ny_train = keras.utils.to_categorical(y_train, 10)\ny_test = keras.utils.to_categorical(y_test, 10)\n\n# Xây dựng mô hình\nmodel = keras.Sequential([\n    keras.layers.Conv2D(32, (3, 3), activation='relu', input_shape=(28, 28, 1)),\n    keras.layers.MaxPooling2D((2, 2)),\n    keras.layers.Conv2D(64, (3, 3), activation='relu'),\n    keras.layers.MaxPooling2D((2, 2)),\n    keras.layers.Flatten(),\n    keras.layers.Dense(128, activation='relu'),\n    keras.layers.Dropout(0.5),\n    keras.layers.Dense(10, activation='softmax')\n])\n\n# Compile mô hình\nmodel.compile(optimizer='adam',\n              loss='categorical_crossentropy',\n              metrics=['accuracy'])\n\n# Huấn luyện mô hình\nhistory = model.fit(X_train, y_train, \n                    epochs=10, \n                    validation_split=0.2,\n                    verbose=1)\n\n# Đánh giá mô hình\ntest_loss, test_acc = model.evaluate(X_test, y_test, verbose=2)\nprint(f'\\nTest accuracy: {test_acc}')" }
                        ]
                    }
                ]
            },
            {
                id: 16,
                title: "AWS Cloud Practitioner",
                description: "Hiểu và sử dụng các dịch vụ AWS cơ bản cho phát triển ứng dụng.",
                image: "https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",
                price: 1999000,
                rating: 4.6,
                students: 105,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/X5pWvk0cDWc?si=_KMTo79rT-zscwz6",
                featured: false,
                category: "devops",
                chapters: [
                    {
                        title: "AWS Core Services",
                        lessons: [
                            { title: "EC2 và S3", duration: "15:10", video: "https://www.youtube.com/embed/IT1X42D1KeA", code: "// AWS SDK for JavaScript example\nconst AWS = require('aws-sdk');\n\n// Cấu hình AWS\nAWS.config.update({\n  region: 'us-east-1',\n  accessKeyId: 'YOUR_ACCESS_KEY',\n  secretAccessKey: 'YOUR_SECRET_KEY'\n});\n\n// Tạo EC2 instance\nconst ec2 = new AWS.EC2();\nconst params = {\n  ImageId: 'ami-0abcdef1234567890', // Amazon Linux 2 AMI\n  InstanceType: 't2.micro',\n  MinCount: 1,\n  MaxCount: 1,\n  KeyName: 'your-key-pair'\n};\n\nec2.runInstances(params, function(err, data) {\n  if (err) {\n    console.log(\"Could not create instance\", err);\n    return;\n  }\n  \n  const instanceId = data.Instances[0].InstanceId;\n  console.log(\"Created instance\", instanceId);\n});\n\n// Upload file lên S3\nconst s3 = new AWS.S3();\nconst uploadParams = {\n  Bucket: 'your-bucket-name',\n  Key: 'example.txt',\n  Body: 'Hello, AWS S3!'\n};\n\ns3.upload(uploadParams, function(err, data) {\n  if (err) {\n    console.log(\"Error\", err);\n  } else {\n    console.log(\"Upload Success\", data.Location);\n  }\n});" }
                        ]
                    }
                ]
            },
            {
                id: 17,
                title: "UI/UX Design Fundamentals",
                description: "Học nguyên tắc thiết kế giao diện và trải nghiệm người dùng hiện đại.",
                image: "https://images.unsplash.com/photo-1561070791-2526d30994b5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1164&q=80",
                price: 1299000,
                rating: 4.7,
                students: 132,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/_6Tl2_eM0DE?si=BBVTVVNm2-Loogd3",
                featured: false,
                category: "other",
                chapters: [
                    {
                        title: "Design Principles",
                        lessons: [
                            { title: "Color Theory và Typography", duration: "14:35", video: "https://www.youtube.com/embed/Byam9yQGLPM", code: "/* CSS Variables for Design System */\n:root {\n  /* Color Palette */\n  --primary: #2563eb;\n  --primary-dark: #1d4ed8;\n  --secondary: #64748b;\n  --success: #10b981;\n  --warning: #f59e0b;\n  --error: #ef4444;\n  \n  /* Neutral Colors */\n  --gray-50: #f9fafb;\n  --gray-100: #f3f4f6;\n  --gray-200: #e5e7eb;\n  --gray-300: #d1d5db;\n  --gray-400: #9ca3af;\n  --gray-500: #6b7280;\n  --gray-600: #4b5563;\n  --gray-700: #374151;\n  --gray-800: #1f2937;\n  --gray-900: #111827;\n  \n  /* Typography Scale */\n  --text-xs: 0.75rem;    /* 12px */\n  --text-sm: 0.875rem;   /* 14px */\n  --text-base: 1rem;     /* 16px */\n  --text-lg: 1.125rem;   /* 18px */\n  --text-xl: 1.25rem;    /* 20px */\n  --text-2xl: 1.5rem;    /* 24px */\n  --text-3xl: 1.875rem;  /* 30px */\n  --text-4xl: 2.25rem;   /* 36px */\n  \n  /* Font Weights */\n  --font-light: 300;\n  --font-normal: 400;\n  --font-medium: 500;\n  --font-semibold: 600;\n  --font-bold: 700;\n  \n  /* Spacing */\n  --space-1: 0.25rem;    /* 4px */\n  --space-2: 0.5rem;     /* 8px */\n  --space-3: 0.75rem;    /* 12px */\n  --space-4: 1rem;       /* 16px */\n  --space-5: 1.25rem;    /* 20px */\n  --space-6: 1.5rem;     /* 24px */\n  --space-8: 2rem;       /* 32px */\n  --space-10: 2.5rem;    /* 40px */\n  --space-12: 3rem;      /* 48px */\n  --space-16: 4rem;      /* 64px */\n  --space-20: 5rem;      /* 80px */\n  --space-24: 6rem;      /* 96px */\n}\n\n/* Example component using design system */\n.btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--space-3) var(--space-6);\n  border-radius: 0.375rem;\n  font-size: var(--text-sm);\n  font-weight: var(--font-medium);\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n  border: none;\n  outline: none;\n}\n\n.btn-primary {\n  background-color: var(--primary);\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: var(--primary-dark);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}" }
                        ]
                    }
                ]
            },
            {
                id: 18,
                title: "Blockchain Development",
                description: "Học phát triển ứng dụng phi tập trung (dApps) với Ethereum và Smart Contracts.",
                image: "https://images.unsplash.com/photo-1639762681057-408e52192e55?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1131&q=80",
                price: 2899000,
                rating: 4.8,
                students: 63,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/M576WGiDBdQ?si=VtF2PghbOcz-1YpX",
                featured: false,
                category: "other",
                chapters: [
                    {
                        title: "Smart Contracts",
                        lessons: [
                            { title: "Solidity Basics", duration: "16:45", video: "https://www.youtube.com/embed/ipwxYa-F1uY", code: "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ncontract SimpleStorage {\n    // State variable to store a number\n    uint256 private storedData;\n    \n    // Event to emit when storedData changes\n    event ValueChanged(uint256 newValue);\n    \n    // Function to set the value of storedData\n    function set(uint256 x) public {\n        storedData = x;\n        emit ValueChanged(x);\n    }\n    \n    // Function to get the value of storedData\n    function get() public view returns (uint256) {\n        return storedData;\n    }\n    \n    // Function to increment storedData\n    function increment() public {\n        storedData += 1;\n        emit ValueChanged(storedData);\n    }\n    \n    // Function to decrement storedData\n    function decrement() public {\n        require(storedData > 0, \"Value cannot be negative\");\n        storedData -= 1;\n        emit ValueChanged(storedData);\n    }\n}" }
                        ]
                    }
                ]
            },
            // Thêm vào mảng courses (sau khóa học hiện có)
            {
                id: 19,
                title: "HTML & CSS Cơ Bản Cho Người Mới Bắt Đầu",
                description: "Khóa học nhập môn hoàn chỉnh về HTML và CSS, dành cho những người chưa có kinh nghiệm lập trình.",
                image: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 0,
                rating: 4.7,
                students: 325,
                isFree: true,
                videoUrl: "https://www.youtube.com/embed/Z6uylatF5VY?si=ULG8hqGB0pfo1Zcq",
                featured: true,
                category: "frontend",
                chapters: [
                    {
                        title: "Giới Thiệu HTML",
                        lessons: [
                            { title: "HTML là gì? Tại sao cần học HTML?", duration: "08:15", video: "https://www.youtube.com/embed/VIDEO_HTML_INTRO", code: "<!-- Đây là comment trong HTML -->\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Trang web đầu tiên</title>\n</head>\n<body>\n    <h1>Chào mừng đến với HTML</h1>\n    <p>Đây là đoạn văn bản đầu tiên của bạn.</p>\n</body>\n</html>" },
                            { title: "Cấu trúc cơ bản của trang HTML", duration: "12:30", video: "https://www.youtube.com/embed/VIDEO_HTML_STRUCTURE", code: "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Cấu trúc HTML</title>\n</head>\n<body>\n    <!-- Nội dung trang web -->\n    <header>\n        <h1>Tiêu đề trang</h1>\n    </header>\n    <main>\n        <p>Nội dung chính của trang</p>\n    </main>\n    <footer>\n        <p>Bản quyền © 2023</p>\n    </footer>\n</body>\n</html>" },
                            { title: "Các thẻ HTML thông dụng", duration: "15:45", video: "https://www.youtube.com/embed/VIDEO_HTML_TAGS", code: "<h1>Tiêu đề quan trọng nhất</h1>\n<h2>Tiêu đề quan trọng thứ hai</h2>\n<p>Đây là một đoạn văn bản.</p>\n<a href=\"https://www.example.com\">Liên kết đến Example.com</a>\n<img src=\"hinh-anh.jpg\" alt=\"Mô tả hình ảnh\">\n<ul>\n    <li>Mục danh sách 1</li>\n    <li>Mục danh sách 2</li>\n</ul>\n<button>Nút bấm</button>" }
                        ]
                    },
                    {
                        title: "CSS Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu về CSS", duration: "10:20", video: "https://www.youtube.com/embed/VIDEO_CSS_INTRO", code: "/* CSS cơ bản */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n    background-color: #f0f0f0;\n}\n\nh1 {\n    color: #333;\n    text-align: center;\n}\n\np {\n    color: #666;\n    line-height: 1.6;\n}" },
                            { title: "Các cách thêm CSS vào HTML", duration: "09:30", video: "https://www.youtube.com/embed/VIDEO_CSS_METHODS", code: "<!-- CSS nội tuyến -->\n<h1 style=\"color: blue; text-align: center;\">Tiêu đề màu xanh</h1>\n\n<!-- CSS trong thẻ style -->\n<style>\n    p {\n        color: green;\n        font-size: 16px;\n    }\n</style>\n\n<!-- CSS từ file ngoài -->\n<link rel=\"stylesheet\" href=\"styles.css\">" },
                            { title: "Selectors và Properties cơ bản", duration: "14:25", video: "https://www.youtube.com/embed/VIDEO_CSS_SELECTORS", code: "/* Selector theo tên thẻ */\np {\n    color: red;\n}\n\n/* Selector theo class */\n.text-center {\n    text-align: center;\n}\n\n/* Selector theo id */\n#main-title {\n    font-size: 24px;\n}\n\n/* Selector theo thuộc tính */\na[target=\"_blank\"] {\n    color: purple;\n}\n\n/* Selector kết hợp */\ndiv.container p {\n    margin: 10px;\n}" }
                        ]
                    }
                ]
            },
            {
                id: 20,
                title: "JavaScript Cơ Bản Cho Người Mới Bắt Đầu",
                description: "Học JavaScript từ con số 0, hiểu các khái niệm cơ bản và viết những dòng code đầu tiên.",
                image: "https://images.unsplash.com/photo-1627398242454-45a1465c2479?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 0,
                rating: 4.8,
                students: 278,
                isFree: true,
                videoUrl: "https://www.youtube.com/embed/0SJE9dYdpps?si=wHyeyvJROYT1f7O3",
                featured: true,
                category: "frontend",
                chapters: [
                    {
                        title: "Nhập Môn JavaScript",
                        lessons: [
                            { title: "JavaScript là gì? Ứng dụng của JavaScript", duration: "09:10", video: "https://www.youtube.com/embed/VIDEO_JS_INTRO", code: "// JavaScript cơ bản\nconsole.log('Xin chào, thế giới!');\nalert('Chào mừng đến với JavaScript');\n\n// Biến trong JavaScript\nlet ten = 'Nguyễn Văn A';\nconst tuoi = 25;\nvar isOnline = true;\n\n// In ra console\nconsole.log('Tên:', ten);\nconsole.log('Tuổi:', tuoi);\nconsole.log('Đang online:', isOnline);" },
                            { title: "Biến, Kiểu Dữ Liệu và Toán Tử", duration: "13:45", video: "https://www.youtube.com/embed/VIDEO_JS_VARIABLES", code: "// Các kiểu dữ liệu cơ bản\nlet soNguyen = 10; // number\nlet soThuc = 3.14; // number\nlet chuoi = 'Hello'; // string\nlet dungSai = true; // boolean\nlet rong = null; // null\nlet chuaXacDinh; // undefined\n\n// Toán tử số học\nlet a = 10, b = 3;\nconsole.log('a + b =', a + b); // 13\nconsole.log('a - b =', a - b); // 7\nconsole.log('a * b =', a * b); // 30\nconsole.log('a / b =', a / b); // 3.333...\nconsole.log('a % b =', a % b); // 1\n\n// Toán tử so sánh\nconsole.log('a > b:', a > b); // true\nconsole.log('a === 10:', a === 10); // true\nconsole.log('a !== b:', a !== b); // true" },
                            { title: "Câu Lệnh Điều Kiện", duration: "11:30", video: "https://www.youtube.com/embed/VIDEO_JS_CONDITIONS", code: "// Câu lệnh if else\nlet diem = 85;\n\nif (diem >= 90) {\n    console.log('Xếp loại: Xuất sắc');\n} else if (diem >= 80) {\n    console.log('Xếp loại: Giỏi');\n} else if (diem >= 70) {\n    console.log('Xếp loại: Khá');\n} else if (diem >= 50) {\n    console.log('Xếp loại: Trung bình');\n} else {\n    console.log('Xếp loại: Yếu');\n}\n\n// Toán tử ternary\nlet ketQua = (diem >= 50) ? 'Đậu' : 'Rớt';\nconsole.log('Kết quả:', ketQua);\n\n// Switch case\nlet ngay = 3;\nlet tenNgay;\n\nswitch (ngay) {\n    case 1:\n        tenNgay = 'Chủ nhật';\n        break;\n    case 2:\n        tenNgay = 'Thứ hai';\n        break;\n    case 3:\n        tenNgay = 'Thứ ba';\n        break;\n    default:\n        tenNgay = 'Ngày không hợp lệ';\n}\n\nconsole.log('Hôm nay là:', tenNgay);" }
                        ]
                    },
                    {
                        title: "Vòng Lặp và Hàm",
                        lessons: [
                            { title: "Các Loại Vòng Lặp Trong JavaScript", duration: "12:15", video: "https://www.youtube.com/embed/VIDEO_JS_LOOPS", code: "// Vòng lặp for\nconsole.log('Vòng lặp for:');\nfor (let i = 1; i <= 5; i++) {\n    console.log('Lần lặp thứ', i);\n}\n\n// Vòng lặp while\nconsole.log('Vòng lặp while:');\nlet count = 1;\nwhile (count <= 3) {\n    console.log('Count:', count);\n    count++;\n}\n\n// Vòng lặp do while\nconsole.log('Vòng lặp do while:');\nlet num = 1;\ndo {\n    console.log('Số:', num);\n    num++;\n} while (num <= 3);\n\n// Vòng lặp for...of (cho mảng)\nconsole.log('Vòng lặp for...of:');\nlet fruits = ['Táo', 'Chuối', 'Cam'];\nfor (let fruit of fruits) {\n    console.log(fruit);\n}\n\n// Vòng lặp for...in (cho object)\nconsole.log('Vòng lặp for...in:');\nlet person = {name: 'An', age: 25, city: 'Hà Nội'};\nfor (let key in person) {\n    console.log(key + ':', person[key]);\n}" },
                            { title: "Hàm Trong JavaScript", duration: "14:20", video: "https://www.youtube.com/embed/VIDEO_JS_FUNCTIONS", code: "// Khai báo hàm\nfunction chaoHoi(ten) {\n    return 'Xin chào, ' + ten + '!';\n}\n\n// Gọi hàm\nlet loiChao = chaoHoi('Minh');\nconsole.log(loiChao); // Xin chào, Minh!\n\n// Hàm mũi tên (arrow function)\nconst nhanDoi = (so) => so * 2;\nconsole.log('Nhân đôi 5:', nhanDoi(5)); // 10\n\n// Hàm với tham số mặc định\nfunction tinhTong(a, b = 0) {\n    return a + b;\n}\nconsole.log('Tổng (5):', tinhTong(5)); // 5\nconsole.log('Tổng (5, 3):', tinhTong(5, 3)); // 8\n\n// Hàm gọi lại (callback)\nfunction xuLyDuLieu(duLieu, callback) {\n    let ketQua = [];\n    for (let item of duLieu) {\n        ketQua.push(callback(item));\n    }\n    return ketQua;\n}\n\nlet numbers = [1, 2, 3, 4, 5];\nlet binhPhuong = xuLyDuLieu(numbers, (x) => x * x);\nconsole.log('Bình phương:', binhPhuong); // [1, 4, 9, 16, 25]" }
                        ]
                    }
                ]
            },
            {
                id: 21,
                title: "Python Cơ Bản - Tự Học Lập Trình Trong 7 Ngày",
                description: "Khóa học Python miễn phí dành cho người mới bắt đầu, giúp bạn làm quen với lập trình qua Python.",
                image: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                price: 0,
                rating: 4.6,
                students: 412,
                isFree: true,
                videoUrl: "https://www.youtube.com/embed/NZj6LI5a9vc?si=emFiuXGEhoGmu9_t",
                featured: true,
                category: "backend",
                chapters: [
                    {
                        title: "Làm Quen Với Python",
                        lessons: [
                            { title: "Cài Đặt Python và Môi Trường Phát Triển", duration: "10:45", video: "https://www.youtube.com/embed/VIDEO_PYTHON_SETUP", code: "# Python cơ bản\nprint(\"Xin chào, thế giới!\")\n\n# Biến trong Python\nten = \"Nguyễn Văn A\"\ntuoi = 25\ncao = 1.75\nla_hoc_vien = True\n\n# In ra màn hình\nprint(\"Tên:\", ten)\nprint(\"Tuổi:\", tuoi)\nprint(\"Chiều cao:\", cao)\nprint(\"Là học viên:\", la_hoc_vien)\n\n# Kiểu dữ liệu\nprint(\"Kiểu của ten:\", type(ten))        # <class 'str'>\nprint(\"Kiểu của tuoi:\", type(tuoi))      # <class 'int'>\nprint(\"Kiểu của cao:\", type(cao))        # <class 'float'>\nprint(\"Kiểu của la_hoc_vien:\", type(la_hoc_vien))  # <class 'bool'>" },
                            { title: "Các Kiểu Dữ Liệu Cơ Bản Trong Python", duration: "12:30", video: "https://www.youtube.com/embed/VIDEO_PYTHON_DATATYPES", code: "# Chuỗi (String)\nho_ten = \"Nguyễn Văn An\"\nprint(\"Họ tên:\", ho_ten)\nprint(\"Chữ in hoa:\", ho_ten.upper())\nprint(\"Độ dài:\", len(ho_ten))\n\n# Số (Number)\nso_nguyen = 10\nso_thuc = 3.14\nso_phuc = 2 + 3j\n\nprint(\"Số nguyên:\", so_nguyen)\nprint(\"Số thực:\", so_thuc)\nprint(\"Số phức:\", so_phuc)\n\n# Danh sách (List)\ndanh_sach = [1, 2, 3, \"Python\", True]\nprint(\"Danh sách:\", danh_sach)\nprint(\"Phần tử đầu:\", danh_sach[0])\nprint(\"Phần tử cuối:\", danh_sach[-1])\n\n# Tuple\ntuple = (1, 2, 3, \"Python\")\nprint(\"Tuple:\", tuple)\n\n# Từ điển (Dictionary)\ntu_dien = {\"tên\": \"An\", \"tuổi\": 25, \"thành_phố\": \"Hà Nội\"}\nprint(\"Từ điển:\", tu_dien)\nprint(\"Tên:\", tu_dien[\"tên\"])\n\n# Set\ntap_hop = {1, 2, 3, 3, 4, 4}\nprint(\"Tập hợp:\", tap_hop)  # {1, 2, 3, 4} (loại bỏ trùng lặp)" },
                            { title: "Câu Lệnh Điều Kiện và Vòng Lặp", duration: "14:20", video: "https://www.youtube.com/embed/VIDEO_PYTHON_CONTROL", code: "# Câu lệnh if-elif-else\ndiem = 85\n\nif diem >= 90:\n    print(\"Xếp loại: Xuất sắc\")\nelif diem >= 80:\n    print(\"Xếp loại: Giỏi\")\nelif diem >= 70:\n    print(\"Xếp loại: Khá\")\nelif diem >= 50:\n    print(\"Xếp loại: Trung bình\")\nelse:\n    print(\"Xếp loại: Yếu\")\n\n# Vòng lặp for\nprint(\"Vòng lặp for:\")\nfor i in range(1, 6):\n    print(f\"Lần lặp thứ {i}\")\n\n# Vòng lặp for với danh sách\nprint(\"\\nVòng lặp for với danh sách:\")\nhoa_qua = [\"Táo\", \"Chuối\", \"Cam\", \"Xoài\"]\nfor qua in hoa_qua:\n    print(qua)\n\n# Vòng lặp while\nprint(\"\\nVòng lặp while:\")\ndem = 1\nwhile dem <= 3:\n    print(f\"Đếm: {dem}\")\n    dem += 1\n\n# Break và Continue\nprint(\"\\nBreak và Continue:\")\nfor i in range(1, 11):\n    if i == 5:\n        continue  # Bỏ qua số 5\n    if i == 8:\n        break     # Thoát vòng lặp khi gặp số 8\n    print(i)" }
                        ]
                    },
                    {
                        title: "Hàm và Module trong Python",
                        lessons: [
                            { title: "Xây Dựng Hàm Trong Python", duration: "13:15", video: "https://www.youtube.com/embed/VIDEO_PYTHON_FUNCTIONS", code: "# Định nghĩa hàm cơ bản\ndef chao_hoi(ten):\n    \"\"\"Hàm chào hỏi với tên được truyền vào\"\"\"\n    return f\"Xin chào, {ten}!\"\n\n# Gọi hàm\nloi_chao = chao_hoi(\"Minh\")\nprint(loi_chao)  # Xin chào, Minh!\n\n# Hàm với nhiều tham số\ndef tinh_tong(a, b):\n    \"\"\"Tính tổng hai số\"\"\"\n    return a + b\n\nket_qua = tinh_tong(5, 3)\nprint(\"Tổng:\", ket_qua)  # 8\n\n# Hàm với tham số mặc định\ndef gioi_thieu(ten, tuoi=25):\n    \"\"\"Giới thiệu với tuổi mặc định là 25\"\"\"\n    return f\"Tôi là {ten}, {tuoi} tuổi.\"\n\nprint(gioi_thieu(\"An\"))          # Tôi là An, 25 tuổi.\nprint(gioi_thieu(\"Bình\", 30))    # Tôi là Bình, 30 tuổi.\n\n# Hàm với số lượng tham số không xác định\ndef tinh_tong_nhieu_so(*cac_so):\n    \"\"\"Tính tổng nhiều số\"\"\"\n    tong = 0\n    for so in cac_so:\n        tong += so\n    return tong\n\nprint(\"Tổng 3 số:\", tinh_tong_nhieu_so(1, 2, 3))       # 6\nprint(\"Tổng 5 số:\", tinh_tong_nhieu_so(1, 2, 3, 4, 5)) # 15\n\n# Hàm trả về nhiều giá trị\ndef hoan_doi(a, b):\n    \"\"\"Hoán đổi hai giá trị\"\"\"\n    return b, a\n\nx, y = hoan_doi(5, 10)\nprint(f\"Sau hoán đổi: x={x}, y={y}\")  # x=10, y=5" },
                            { title: "Làm Việc Với Module", duration: "11:40", video: "https://www.youtube.com/embed/VIDEO_PYTHON_MODULES", code: "# Sử dụng module math\nimport math\n\nprint(\"Pi:\", math.pi)                   # 3.141592653589793\nprint(\"Căn bậc hai của 16:\", math.sqrt(16))  # 4.0\nprint(\"Làm tròn lên 3.2:\", math.ceil(3.2))  # 4\nprint(\"Làm tròn xuống 3.8:\", math.floor(3.8)) # 3\n\n# Sử dụng module random\nimport random\n\nprint(\"Số ngẫu nhiên 1-10:\", random.randint(1, 10))\nprint(\"Lựa chọn ngẫu nhiên:\", random.choice([\"Táo\", \"Chuối\", \"Cam\"]))\n\n# Sử dụng module datetime\nimport datetime\n\nngay_hien_tai = datetime.datetime.now()\nprint(\"Ngày giờ hiện tại:\", ngay_hien_tai)\nprint(\"Năm:\", ngay_hien_tai.year)\nprint(\"Tháng:\", ngay_hien_tai.month)\nprint(\"Ngày:\", ngay_hien_tai.day)\n\n# Tạo module riêng\n# Tạo file my_module.py với nội dung:\n# def xin_chao():\n#     return \"Xin chào từ module!\"\n# \n# PI = 3.14\n\n# Sử dụng module tự tạo\n# from my_module import xin_chao, PI\n# print(xin_chao())  # Xin chào từ module!\n# print(\"PI:\", PI)    # 3.14\n\n# Import với tên alias\nimport math as toan_hoc\nprint(\"Căn bậc hai:\", toan_hoc.sqrt(25))  # 5.0\n\n# Import chỉ một phần từ module\nfrom math import pi, sqrt\nprint(\"Pi:\", pi)              # 3.141592653589793\nprint(\"Căn bậc hai:\", sqrt(9)) # 3.0" }
                        ]
                    }
                ]
            }
        ];
        /// HÀM THÊM KHÓA HỌC MỚI VÀO COURSE 
        const additionalCourses = [
            {
                id: 22,
                title: "Git & GitHub Cho Người Mới Bắt Đầu",
                description: "Học cách sử dụng Git và GitHub để quản lý mã nguồn và hợp tác trong dự án.",
                image: "https://images.unsplash.com/photo-1618401471353-b98afee0b2eb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1088&q=80",
                price: 0,
                rating: 4.7,
                students: 215,
                isFree: true,
                videoUrl: "https://www.youtube.com/embed/VIDEO_ID_22",
                featured: false,
                category: "other",
                chapters: [
                    {
                        title: "Git Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu về Git", duration: "10:15", video: "https://www.youtube.com/embed/USjZcfj8yxE", code: "# Khởi tạo repository\ngit init\n\n# Thiết lập thông tin người dùng\ngit config --global user.name \"Your Name\"\ngit config --global user.email \"your.email@example.com\"\n\n# Kiểm tra trạng thái\ngit status" },
                            { title: "Commit và Branch", duration: "12:30", video: "https://www.youtube.com/embed/JTE2Fn_sCZs", code: "# Thêm file vào staging area\ngit add filename.txt\n\n# Thêm tất cả file\ngit add .\n\n# Tạo commit\ngit commit -m \"Initial commit\"\n\n# Tạo branch mới\ngit branch new-feature\n\n# Chuyển sang branch\ngit checkout new-feature" },
                            { title: "Merge và Conflict Resolution", duration: "14:45", video: "https://www.youtube.com/embed/__cR7BSOr_s", code: "# Merge branch vào master\ngit checkout master\ngit merge new-feature\n\n# Xử lý conflict\n# Mở file có conflict và sửa\n# Sau đó add và commit lại\ngit add filename.txt\ngit commit -m \"Resolved merge conflict\"" }
                        ]
                    },
                    {
                        title: "GitHub và Collaboration",
                        lessons: [
                            { title: "Làm việc với Remote Repository", duration: "11:20", video: "https://www.youtube.com/embed/RGOj5yH7evk", code: "# Thêm remote repository\ngit remote add origin https://github.com/user/repo.git\n\n# Push lên remote\ngit push -u origin master\n\n# Pull từ remote\ngit pull origin master\n\n# Clone repository\ngit clone https://github.com/user/repo.git" },
                            { title: "Pull Request và Code Review", duration: "13:40", video: "https://www.youtube.com/embed/k6KcaMffxac", code: "# Tạo branch cho feature mới\ngit checkout -b new-feature\n\n# Sau khi commit, push branch lên\ngit push origin new-feature\n\n# Trên GitHub, tạo Pull Request\n# Thực hiện code review\n# Merge Pull Request sau khi approved" },
                            { title: "GitHub Actions CI/CD", duration: "15:25", video: "https://www.youtube.com/embed/eB0nUzAI7M8", code: "# Tạo file .github/workflows/ci.yml\nname: CI Pipeline\n\non: [push, pull_request]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v2\n    - name: Setup Node.js\n      uses: actions/setup-node@v2\n      with:\n        node-version: '14'\n    - name: Install dependencies\n      run: npm ci\n    - name: Run tests\n      run: npm test" }
                        ]
                    },
                    {
                        title: "Git Nâng Cao",
                        lessons: [
                            { title: "Rebase và Stash", duration: "12:15", video: "https://www.youtube.com/embed/f1wnYdLEpgI", code: "# Rebase branch\ngit checkout feature-branch\ngit rebase master\n\n# Sử dụng stash\ngit stash\n\n# Xem danh sách stash\ngit stash list\n\n# Áp dụng stash\ngit stash apply\n\n# Xóa stash\ngit stash drop" },
                            { title: "Git Hooks", duration: "10:50", video: "https://www.youtube.com/embed/BARaFBSDYtw", code: "# Tạo pre-commit hook\n# Trong .git/hooks/pre-commit\n#!/bin/sh\n\n# Chạy tests trước khi commit\nnpm test\n\n# Nếu test fail, không cho commit\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Commit aborted.\"\n  exit 1\nfi" },
                            { title: "Git Workflows", duration: "14:30", video: "https://www.youtube.com/embed/aJnFGMclhU8", code: "# Gitflow workflow\n# Tạo branch develop\ngit branch develop\ngit push -u origin develop\n\n# Tạo feature branch từ develop\ngit checkout -b feature/new-feature develop\n\n# Khi hoàn thành, merge vào develop\ngit checkout develop\ngit merge --no-ff feature/new-feature\n\n# Tạo release branch\ngit checkout -b release/1.0 develop" }
                        ]
                    }
                ]
            },
            {
                id: 23,
                title: "UI/UX Design Nâng Cao",
                description: "Nâng cao kỹ năng thiết kế giao diện và trải nghiệm người dùng với các nguyên tắc chuyên sâu.",
                image: "https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1080&q=80",
                price: 1899000,
                rating: 4.8,
                students: 94,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/YNeOB8AqCgs?si=jxsDv2UjnEIrw3_v",
                featured: true,
                category: "design",
                chapters: [
                    {
                        title: "Nguyên Tắc Thiết Kế",
                        lessons: [
                            { title: "Gestalt Principles", duration: "14:20", video: "https://www.youtube.com/embed/4LdIqwD_6+Y", code: "/* Áp dụng nguyên lý gần */\n.related-items {\n  margin: 0;\n  padding: 0;\n}\n\n.related-items li {\n  margin-bottom: 8px;\n}\n\n/* Áp dụng nguyên lý tương tự */\n.primary-button, .secondary-button {\n  border-radius: 4px;\n  padding: 12px 24px;\n  font-weight: 600;\n}\n\n.primary-button {\n  background-color: #2563eb;\n  color: white;\n}\n\n.secondary-button {\n  background-color: #f3f4f6;\n  color: #374151;\n}" },
                            { title: "Visual Hierarchy", duration: "12:45", video: "https://www.youtube.com/embed/hVZ49H2eS2Q", code: "/* Thiết lập hệ thống phân cấp */\nh1 {\n  font-size: 2.5rem;\n  font-weight: 800;\n  margin-bottom: 1rem;\n}\n\nh2 {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 0.75rem;\n}\n\nh3 {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n/* Sử dụng màu sắc để tạo phân cấp */\n.primary-text {\n  color: #111827;\n}\n\n.secondary-text {\n  color: #6b7280;\n}" },
                            { title: "Typography Systems", duration: "16:30", video: "https://www.youtube.com/embed/0s2IqcBxOeE", code: "/* Hệ thống typography */\n:root {\n  --font-heading: 'Inter', sans-serif;\n  --font-body: 'Inter', sans-serif;\n  \n  --text-xs: 0.75rem;\n  --text-sm: 0.875rem;\n  --text-base: 1rem;\n  --text-lg: 1.125rem;\n  --text-xl: 1.25rem;\n  --text-2xl: 1.5rem;\n  --text-3xl: 1.875rem;\n  --text-4xl: 2.25rem;\n  --text-5xl: 3rem;\n}\n\n.heading-1 {\n  font-family: var(--font-heading);\n  font-size: var(--text-4xl);\n  font-weight: 800;\n  line-height: 1.2;\n}\n\n.body-text {\n  font-family: var(--font-body);\n  font-size: var(--text-base);\n  line-height: 1.6;\n}" }
                        ]
                    },
                    {
                        title: "Design Systems",
                        lessons: [
                            { title: "Xây Dựng Design System", duration: "15:15", video: "https://www.youtube.com/embed/6M2l6bPqJhs", code: "/* Component: Button */\n.btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  font-weight: 500;\n  font-size: 0.875rem;\n  padding: 0.5rem 1rem;\n  transition: all 0.2s;\n  cursor: pointer;\n  border: 1px solid transparent;\n}\n\n.btn-primary {\n  background-color: #2563eb;\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: #1d4ed8;\n}\n\n.btn-secondary {\n  background-color: #f3f4f6;\n  color: #374151;\n  border-color: #e5e7eb;\n}\n\n.btn-secondary:hover {\n  background-color: #e5e7eb;\n}" },
                            { title: "Accessibility trong UI/UX", duration: "13:40", video: "https://www.youtube.com/embed/6RZ5nmTyqCw", code: "/* Đảm bảo độ tương phản đạt chuẩn WCAG */\n.high-contrast-text {\n  color: #000000;\n  background-color: #ffffff;\n}\n\n/* Focus styles for accessibility */\nbutton:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n\n/* Screen reader only text */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}" },
                            { title: "Dark Mode Design", duration: "14:50", video: "https://www.youtube.com/embed/LsFk4v3nTbQ", code: "/* Dark mode variables */\n:root {\n  --bg-primary: #ffffff;\n  --text-primary: #111827;\n  --border-color: #e5e7eb;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --bg-primary: #111827;\n    --text-primary: #f9fafb;\n    --border-color: #374151;\n  }\n}\n\nbody {\n  background-color: var(--bg-primary);\n  color: var(--text-primary);\n  transition: background-color 0.3s, color 0.3s;\n}\n\n.card {\n  background-color: var(--bg-primary);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  padding: 1.5rem;\n}" }
                        ]
                    },
                    {
                        title: "Prototyping và Testing",
                        lessons: [
                            { title: "Tạo Prototype với Figma", duration: "12:25", video: "https://www.youtube.com/embed/FTFaQWZBqQ8", code: "/* CSS cho component được thiết kế trong Figma */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 8px;\n  padding: 2rem;\n  max-width: 500px;\n  width: 100%;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n}\n\n.modal-close {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n}" },
                            { title: "User Testing Methods", duration: "11:30", video: "https://www.youtube.com/embed/RbrKUWQ1M_Y", code: "/* CSS cho A/B testing variations */\n/* Variation A */\n.cta-button-a {\n  background-color: #2563eb;\n  color: white;\n  border-radius: 6px;\n  padding: 12px 24px;\n  font-weight: 600;\n}\n\n/* Variation B */\n.cta-button-b {\n  background-color: #10b981;\n  color: white;\n  border-radius: 30px;\n  padding: 12px 24px;\n  font-weight: 600;\n}\n\n/* Tracking clicks */\n.cta-button {\n  position: relative;\n}\n\n.cta-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}" },
                            { title: "Analytics và Data-Driven Design", duration: "15:45", video: "https://www.youtube.com/embed/4S5tLS7nVYI", code: "/* Heatmap tracking areas */\n.heatmap-track {\n  position: relative;\n}\n\n.heatmap-track::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  opacity: 0;\n}\n\n/* Scroll depth indicators */\n.scroll-depth-marker {\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  background-color: transparent;\n}\n\n.scroll-depth-25 { top: 25%; }\n.scroll-depth-50 { top: 50%; }\n.scroll-depth-75 { top: 75%; }\n.scroll-depth-100 { bottom: 0; }" }
                        ]
                    }
                ]
            },
            {
                id: 24,
                title: "Lập trình Game với Unity",
                description: "Thành thạo Unity và C# để xây dựng game 2D, 3D chuyên nghiệp, từ nền tảng đến phát hành.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf_kK2EHXQL3CHUigXLT3MkKNlG-DWEkvGEg&s",
                price: 2499000,
                rating: 4.7,
                students: 123,
                isFree: false,
                videoUrl: "https://www.youtube.com/embed/1z41xdD2NfE?si=lMFvTYn5jRBWVS3O",
                featured: true,
                category: "game",
                chapters: [
                    {
                        title: "Unity Cơ Bản",
                        lessons: [
                            { title: "Giới thiệu Unity Interface", duration: "13:15", video: "https://www.youtube.com/embed/B7dKqYtnOcM", code: "using UnityEngine;\n\npublic class PlayerMovement : MonoBehaviour\n{\n    public float speed = 5f;\n    \n    void Update()\n    {\n        float moveHorizontal = Input.GetAxis(\"Horizontal\");\n        float moveVertical = Input.GetAxis(\"Vertical\");\n        \n        Vector3 movement = new Vector3(moveHorizontal, 0.0f, moveVertical);\n        transform.Translate(movement * speed * Time.deltaTime);\n    }\n}" },
                            { title: "Game Objects và Components", duration: "11:45", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\n\npublic class PlayerController : MonoBehaviour\n{\n    public GameObject bulletPrefab;\n    public Transform firePoint;\n    public float fireRate = 0.5f;\n    \n    private float nextFire = 0.0f;\n    \n    void Update()\n    {\n        if (Input.GetButton(\"Fire1\") && Time.time > nextFire)\n        {\n            nextFire = Time.time + fireRate;\n            Instantiate(bulletPrefab, firePoint.position, firePoint.rotation);\n        }\n    }\n}" },
                            { title: "Physics và Collisions", duration: "14:20", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\n\npublic class CollisionHandler : MonoBehaviour\n{\n    public int health = 100;\n    \n    void OnCollisionEnter(Collision collision)\n    {\n        if (collision.gameObject.CompareTag(\"Enemy\"))\n        {\n            health -= 10;\n            Debug.Log(\"Health: \" + health);\n            \n            if (health <= 0)\n            {\n                Destroy(gameObject);\n            }\n        }\n    }\n    \n    void OnTriggerEnter(Collider other)\n    {\n        if (other.CompareTag(\"PowerUp\"))\n        {\n            health += 25;\n            Destroy(other.gameObject);\n            Debug.Log(\"Health restored: \" + health);\n        }\n    }\n}" }
                        ]
                    },
                    {
                        title: "Gameplay Programming",
                        lessons: [
                            { title: "Player Controller", duration: "12:30", video: "https://www.youtube.com/embed/_Z1t7MXkquA", code: "using UnityEngine;\n\npublic class AdvancedPlayerController : MonoBehaviour\n{\n    public float walkSpeed = 5f;\n    public float runSpeed = 10f;\n    public float jumpForce = 7f;\n    public Transform groundCheck;\n    public LayerMask groundMask;\n    \n    private Rigidbody rb;\n    private bool isGrounded;\n    private float groundDistance = 0.4f;\n    \n    void Start()\n    {\n        rb = GetComponent<Rigidbody>();\n    }\n    \n    void Update()\n    {\n        // Check if player is grounded\n        isGrounded = Physics.CheckSphere(groundCheck.position, groundDistance, groundMask);\n        \n        // Movement\n        float moveHorizontal = Input.GetAxis(\"Horizontal\");\n        float moveVertical = Input.GetAxis(\"Vertical\");\n        \n        Vector3 movement = transform.right * moveHorizontal + transform.forward * moveVertical;\n        \n        float currentSpeed = Input.GetKey(KeyCode.LeftShift) ? runSpeed : walkSpeed;\n        \n        transform.Translate(movement * currentSpeed * Time.deltaTime);\n        \n        // Jump\n        if (Input.GetButtonDown(\"Jump\") && isGrounded)\n        {\n            rb.AddForce(Vector3.up * jumpForce, ForceMode.Impulse);\n        }\n    }\n}" },
                            { title: "Enemy AI", duration: "15:40", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\nusing UnityEngine.AI;\n\npublic class EnemyAI : MonoBehaviour\n{\n    public Transform player;\n    public float detectionRange = 15f;\n    public float attackRange = 3f;\n    public int damage = 10;\n    public float attackCooldown = 1f;\n    \n    private NavMeshAgent agent;\n    private float lastAttackTime;\n    \n    void Start()\n    {\n        agent = GetComponent<NavMeshAgent>();\n    }\n    \n    void Update()\n    {\n        float distanceToPlayer = Vector3.Distance(transform.position, player.position);\n        \n        if (distanceToPlayer <= detectionRange)\n        {\n            agent.SetDestination(player.position);\n            \n            if (distanceToPlayer <= attackRange && Time.time > lastAttackTime + attackCooldown)\n            {\n                AttackPlayer();\n                lastAttackTime = Time.time;\n            }\n        }\n    }\n    \n    void AttackPlayer()\n    {\n        PlayerHealth playerHealth = player.GetComponent<PlayerHealth>();\n        if (playerHealth != null)\n        {\n            playerHealth.TakeDamage(damage);\n        }\n    }\n}" },
                            { title: "Game State Management", duration: "13:25", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\nusing UnityEngine.SceneManagement;\n\npublic class GameManager : MonoBehaviour\n{\n    public static GameManager instance;\n    \n    public int score = 0;\n    public int lives = 3;\n    public bool isGamePaused = false;\n    \n    void Awake()\n    {\n        if (instance == null)\n        {\n            instance = this;\n            DontDestroyOnLoad(gameObject);\n        }\n        else\n        {\n            Destroy(gameObject);\n        }\n    }\n    \n    public void AddScore(int points)\n    {\n        score += points;\n        Debug.Log(\"Score: \" + score);\n    }\n    \n    public void LoseLife()\n    {\n        lives--;\n        \n        if (lives <= 0)\n        {\n            GameOver();\n        }\n    }\n    \n    public void GameOver()\n    {\n        Debug.Log(\"Game Over! Final Score: \" + score);\n        SceneManager.LoadScene(\"GameOver\");\n    }\n    \n    public void TogglePause()\n    {\n        isGamePaused = !isGamePaused;\n        Time.timeScale = isGamePaused ? 0 : 1;\n    }\n}" }
                        ]
                    },
                    {
                        title: "Animation và Effects",
                        lessons: [
                            { title: "Character Animation", duration: "14:15", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\n\npublic class PlayerAnimation : MonoBehaviour\n{\n    private Animator animator;\n    private Rigidbody rb;\n    \n    void Start()\n    {\n        animator = GetComponent<Animator>();\n        rb = GetComponent<Rigidbody>();\n    }\n    \n    void Update()\n    {\n        // Get movement values\n        float moveHorizontal = Input.GetAxis(\"Horizontal\");\n        float moveVertical = Input.GetAxis(\"Vertical\");\n        \n        // Calculate movement magnitude\n        float movement = Mathf.Clamp01(new Vector3(moveHorizontal, 0, moveVertical).magnitude);\n        \n        // Set animator parameters\n        animator.SetFloat(\"Speed\", movement);\n        animator.SetBool(\"IsGrounded\", IsGrounded());\n        \n        // Jump animation\n        if (Input.GetButtonDown(\"Jump\") && IsGrounded())\n        {\n            animator.SetTrigger(\"Jump\");\n        }\n    }\n    \n    bool IsGrounded()\n    {\n        return Physics.Raycast(transform.position, Vector3.down, 0.1f);\n    }\n}" },
                            { title: "Particle Systems", duration: "11:50", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\n\npublic class EffectManager : MonoBehaviour\n{\n    public GameObject explosionEffect;\n    public GameObject healEffect;\n    public GameObject levelUpEffect;\n    \n    public void PlayExplosionEffect(Vector3 position)\n    {\n        GameObject effect = Instantiate(explosionEffect, position, Quaternion.identity);\n        Destroy(effect, 2f);\n    }\n    \n    public void PlayHealEffect(Vector3 position)\n    {\n        GameObject effect = Instantiate(healEffect, position, Quaternion.identity);\n        Destroy(effect, 2f);\n    }\n    \n    public void PlayLevelUpEffect(Vector3 position)\n    {\n        GameObject effect = Instantiate(levelUpEffect, position, Quaternion.identity);\n        Destroy(effect, 3f);\n    }\n}" },
                            { title: "Audio Management", duration: "12:35", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "using UnityEngine;\n\npublic class AudioManager : MonoBehaviour\n{\n    public static AudioManager instance;\n    \n    public AudioClip jumpSound;\n    public AudioClip collectSound;\n    public AudioClip explosionSound;\n    public AudioClip backgroundMusic;\n    \n    private AudioSource sfxSource;\n    private AudioSource musicSource;\n    \n    void Awake()\n    {\n        if (instance == null)\n        {\n            instance = this;\n            DontDestroyOnLoad(gameObject);\n            \n            // Create audio sources\n            sfxSource = gameObject.AddComponent<AudioSource>();\n            musicSource = gameObject.AddComponent<AudioSource>();\n            \n            // Setup music source\n            musicSource.clip = backgroundMusic;\n            musicSource.loop = true;\n            musicSource.Play();\n        }\n        else\n        {\n            Destroy(gameObject);\n        }\n    }\n    \n    public void PlaySFX(AudioClip clip)\n    {\n        sfxSource.PlayOneShot(clip);\n    }\n    \n    public void PlayJumpSound()\n    {\n        PlaySFX(jumpSound);\n    }\n    \n    public void PlayCollectSound()\n    {\n        PlaySFX(collectSound);\n    }\n    \n    public void PlayExplosionSound()\n    {\n        PlaySFX(explosionSound);\n    }\n}" }
                        ]
                    }
                ]
            },
            {
                id: 25,
                title: "Lập trình Arduino Cơ Bản",
                description: "Học lập trình vi điều khiển Arduino, từ cơ bản đến các dự án IoT thực tế.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV7EJeiOHU_cv7mSV_QMgWOPdT43kBC89aEg&s",
                price: 0,
                rating: 4.5,
                students: 187,
                isFree: true,
                videoUrl: "https://www.youtube.com/embed/lKlYl6s4xSU?si=r-n9ctE3wgcNN0e3",
                featured: false,
                category: "iot",
                chapters: [
                    {
                        title: "Giới Thiệu Arduino",
                        lessons: [
                            { title: "Cài Đặt và Làm Quen với Arduino IDE", duration: "10:30", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Chương trình Arduino đầu tiên: Blink\nvoid setup() {\n  // Khởi tạo chân digital 13 là OUTPUT\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(13, HIGH);   // Bật LED (HIGH là mức điện áp 5V)\n  delay(1000);               // Chờ 1 giây\n  digitalWrite(13, LOW);    // Tắt LED (LOW là mức điện áp 0V)\n  delay(1000);               // Chờ 1 giây\n}" },
                            { title: "Digital Input/Output", duration: "12:45", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Đọc nút nhấn và điều khiển LED\nconst int buttonPin = 2;     // Chân kết nối nút nhấn\nconst int ledPin = 13;       // Chân kết nối LED\n\nint buttonState = 0;         // Biến lưu trạng thái nút nhấn\n\nvoid setup() {\n  pinMode(ledPin, OUTPUT);\n  pinMode(buttonPin, INPUT);\n}\n\nvoid loop() {\n  // Đọc trạng thái nút nhấn\n  buttonState = digitalRead(buttonPin);\n\n  // Kiểm tra nếu nút được nhấn\n  if (buttonState == HIGH) {\n    digitalWrite(ledPin, HIGH);  // Bật LED\n  } else {\n    digitalWrite(ledPin, LOW);   // Tắt LED\n  }\n}" },
                            { title: "Analog Input/PWM Output", duration: "14:20", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Đọc biến trở và điều khiển độ sáng LED\nconst int potPin = A0;       // Chân kết nối biến trở\nconst int ledPin = 9;        // Chân kết nối LED (phải là chân PWM)\n\nint potValue = 0;           // Biến lưu giá trị biến trở\nint brightness = 0;         // Biến lưu độ sáng LED\n\nvoid setup() {\n  pinMode(ledPin, OUTPUT);\n}\n\nvoid loop() {\n  // Đọc giá trị từ biến trở (0-1023)\n  potValue = analogRead(potPin);\n  \n  // Chuyển đổi giá trị sang thang 0-255 cho PWM\n  brightness = map(potValue, 0, 1023, 0, 255);\n  \n  // Điều khiển độ sáng LED\n  analogWrite(ledPin, brightness);\n  \n  delay(10);  // Chờ một chút để ổn định\n}" }
                        ]
                    },
                    {
                        title: "Cảm Biến và Module",
                        lessons: [
                            { title: "Cảm Biến Nhiệt Độ và Độ Ẩm", duration: "13:15", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Đọc cảm biến nhiệt độ và độ ẩm DHT11\n#include <DHT.h>\n\n#define DHTPIN 2          // Chân kết nối cảm biến\n#define DHTTYPE DHT11     // Loại cảm biến\n\nDHT dht(DHTPIN, DHTTYPE);\n\nvoid setup() {\n  Serial.begin(9600);\n  dht.begin();\n}\n\nvoid loop() {\n  delay(2000);  // Chờ 2 giây giữa các lần đọc\n\n  // Đọc nhiệt độ và độ ẩm\n  float humidity = dht.readHumidity();\n  float temperature = dht.readTemperature();\n\n  // Kiểm tra nếu đọc thành công\n  if (isnan(humidity) || isnan(temperature)) {\n    Serial.println(\"Lỗi đọc cảm biến!\");\n    return;\n  }\n\n  // Hiển thị kết quả\n  Serial.print(\"Độ ẩm: \");\n  Serial.print(humidity);\n  Serial.print(\"%\\t\");\n  Serial.print(\"Nhiệt độ: \");\n  Serial.print(temperature);\n  Serial.println(\"°C\");\n}" },
                            { title: "Module Bluetooth HC-05", duration: "12:30", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Điều khiển LED qua Bluetooth\n#include <SoftwareSerial.h>\n\nSoftwareSerial Bluetooth(10, 11); // RX, TX\n\nconst int ledPin = 13;\nchar command;\n\nvoid setup() {\n  pinMode(ledPin, OUTPUT);\n  Serial.begin(9600);\n  Bluetooth.begin(9600);\n  Serial.println(\"Sẵn sàng nhận lệnh Bluetooth...\");\n}\n\nvoid loop() {\n  if (Bluetooth.available()) {\n    command = Bluetooth.read();\n    Serial.println(command);\n    \n    switch(command) {\n      case '1':\n        digitalWrite(ledPin, HIGH);\n        Bluetooth.println(\"LED đã BẬT\");\n        break;\n      case '0':\n        digitalWrite(ledPin, LOW);\n        Bluetooth.println(\"LED đã TẮT\");\n        break;\n      default:\n        Bluetooth.println(\"Lệnh không hợp lệ\");\n    }\n  }\n}" },
                            { title: "Cảm Biến Khoảng Cách Ultrasonic", duration: "11:45", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Đo khoảng cách bằng cảm biến HC-SR04\nconst int trigPin = 9;\nconst int echoPin = 10;\n\nlong duration;\nint distance;\n\nvoid setup() {\n  pinMode(trigPin, OUTPUT);\n  pinMode(echoPin, INPUT);\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  // Phát xung siêu âm\n  digitalWrite(trigPin, LOW);\n  delayMicroseconds(2);\n  digitalWrite(trigPin, HIGH);\n  delayMicroseconds(10);\n  digitalWrite(trigPin, LOW);\n  \n  // Đọc thời gian phản hồi\n  duration = pulseIn(echoPin, HIGH);\n  \n  // Tính khoảng cách (cm)\n  distance = duration * 0.034 / 2;\n  \n  // Hiển thị kết quả\n  Serial.print(\"Khoảng cách: \");\n  Serial.print(distance);\n  Serial.println(\" cm\");\n  \n  delay(500);  // Chờ 0.5 giây\n}" }
                        ]
                    },
                    {
                        title: "Dự Án Thực Tế",
                        lessons: [
                            { title: "Hệ Thống Tưới Cây Tự Động", duration: "15:20", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Hệ thống tưới cây tự động\n#include <DHT.h>\n\n#define DHTPIN 2\n#define DHTTYPE DHT11\n#define SOIL_MOISTURE_PIN A0\n#define WATER_PUMP_PIN 3\n#define MOISTURE_THRESHOLD 500  // Ngưỡng độ ẩm đất\n\nDHT dht(DHTPIN, DHTTYPE);\n\nvoid setup() {\n  pinMode(WATER_PUMP_PIN, OUTPUT);\n  digitalWrite(WATER_PUMP_PIN, LOW);  // Tắt máy bơm ban đầu\n  Serial.begin(9600);\n  dht.begin();\n}\n\nvoid loop() {\n  // Đọc độ ẩm đất\n  int soilMoisture = analogRead(SOIL_MOISTURE_PIN);\n  \n  // Đọc nhiệt độ và độ ẩm không khí\n  float humidity = dht.readHumidity();\n  float temperature = dht.readTemperature();\n  \n  // Hiển thị thông tin\n  Serial.print(\"Độ ẩm đất: \");\n  Serial.print(soilMoisture);\n  Serial.print(\" | Nhiệt độ: \");\n  Serial.print(temperature);\n  Serial.print(\"°C | Độ ẩm KK: \");\n  Serial.print(humidity);\n  Serial.println(\"%\");\n  \n  // Kiểm tra và điều khiển máy bơm\n  if (soilMoisture > MOISTURE_THRESHOLD) {\n    Serial.println(\"Đất đủ ẩm, không cần tưới\");\n    digitalWrite(WATER_PUMP_PIN, LOW);\n  } else {\n    Serial.println(\"Đất khô, bật máy bơm\");\n    digitalWrite(WATER_PUMP_PIN, HIGH);\n    delay(5000);  // Bơm nước trong 5 giây\n    digitalWrite(WATER_PUMP_PIN, LOW);\n  }\n  \n  delay(300000);  // Chờ 5 phút giữa các lần kiểm tra\n}" },
                            { title: "Nhà Thông Minh với Arduino", duration: "14:35", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Hệ thống nhà thông minh đơn giản\n#include <DHT.h>\n#include <Servo.h>\n\n#define DHTPIN 2\n#define DHTTYPE DHT11\n#define LDR_PIN A0\n#define PIR_PIN 4\n#define LED_PIN 13\n#define SERVO_PIN 9\n\nDHT dht(DHTPIN, DHTTYPE);\nServo doorServo;\n\nbool isLightOn = false;\nbool isDoorOpen = false;\n\nvoid setup() {\n  pinMode(LED_PIN, OUTPUT);\n  pinMode(PIR_PIN, INPUT);\n  doorServo.attach(SERVO_PIN);\n  doorServo.write(0);  // Đóng cửa ban đầu\n  Serial.begin(9600);\n  dht.begin();\n}\n\nvoid loop() {\n  // Đọc cảm biến ánh sáng\n  int lightLevel = analogRead(LDR_PIN);\n  \n  // Đọc cảm biến chuyển động\n  int motionDetected = digitalRead(PIR_PIN);\n  \n  // Đọc nhiệt độ và độ ẩm\n  float temperature = dht.readTemperature();\n  \n  // Điều khiển đèn dựa trên ánh sáng và chuyển động\n  if (lightLevel < 500 && motionDetected == HIGH) {\n    digitalWrite(LED_PIN, HIGH);\n    isLightOn = true;\n  } else {\n    digitalWrite(LED_PIN, LOW);\n    isLightOn = false;\n  }\n  \n  // Điều khiển cửa dựa trên nhiệt độ\n  if (temperature > 30.0 && !isDoorOpen) {\n    doorServo.write(90);  // Mở cửa\n    isDoorOpen = true;\n    Serial.println(\"Nóng quá, mở cửa cho mát!\");\n  } else if (temperature <= 30.0 && isDoorOpen) {\n    doorServo.write(0);   // Đóng cửa\n    isDoorOpen = false;\n    Serial.println(\"Mát rồi, đóng cửa thôi!\");\n  }\n  \n  // Hiển thị trạng thái\n  Serial.print(\"Ánh sáng: \");\n  Serial.print(lightLevel);\n  Serial.print(\" | Chuyển động: \");\n  Serial.print(motionDetected);\n  Serial.print(\" | Nhiệt độ: \");\n  Serial.print(temperature);\n  Serial.print(\"°C | Đèn: \");\n  Serial.print(isLightOn ? \"BẬT\" : \"TẮT\");\n  Serial.print(\" | Cửa: \");\n  Serial.println(isDoorOpen ? \"MỞ\" : \"ĐÓNG\");\n  \n  delay(1000);  // Chờ 1 giây\n}" },
                            { title: "Kết Nối IoT với Blynk", duration: "16:10", video: "https://www.youtube.com/embed/6dP6RTaBQss", code: "// Kết nối Arduino với nền tảng Blynk IoT\n#define BLYNK_PRINT Serial\n#include <ESP8266WiFi.h>\n#include <BlynkSimpleEsp8266.h>\n#include <DHT.h>\n\n// Thông tin authorization token từ Blynk App\nchar auth[] = \"YourAuthToken\";\n\n// Thông tin WiFi\nchar ssid[] = \"YourNetworkName\";\nchar pass[] = \"YourPassword\";\n\n#define DHTPIN 2\n#define DHTTYPE DHT11\n#define LED_PIN 13\n\nDHT dht(DHTPIN, DHTTYPE);\nBlynkTimer timer;\n\n// Hàm gửi dữ liệu cảm biến lên Blynk\nvoid sendSensorData() {\n  float humidity = dht.readHumidity();\n  float temperature = dht.readTemperature();\n  \n  if (!isnan(humidity) && !isnan(temperature)) {\n    Blynk.virtualWrite(V1, temperature);  // Gửi nhiệt độ đến virtual pin V1\n    Blynk.virtualWrite(V2, humidity);     // Gửi độ ẩm đến virtual pin V2\n  }\n}\n\n// Hàm xử lý lệnh từ Blynk App\nBLYNK_WRITE(V3) {\n  int pinValue = param.asInt();\n  \n  if (pinValue == 1) {\n    digitalWrite(LED_PIN, HIGH);\n    Blynk.virtualWrite(V4, \"Đèn: BẬT\");\n  } else {\n    digitalWrite(LED_PIN, LOW);\n    Blynk.virtualWrite(V4, \"Đèn: TẮT\");\n  }\n}\n\nvoid setup() {\n  Serial.begin(9600);\n  pinMode(LED_PIN, OUTPUT);\n  \n  Blynk.begin(auth, ssid, pass);\n  dht.begin();\n  \n  // Thiết lập timer gửi dữ liệu mỗi 2 giây\n  timer.setInterval(2000L, sendSensorData);\n}\n\nvoid loop() {\n  Blynk.run();\n  timer.run();\n}" }
                        ]
                    }
                ]
            }
        ];

        // Thêm các khóa học mới vào mảng courses ban đầu
        courses.push(...additionalCourses);

        // Cart functionality
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentPage = 1;
        const coursesPerPage = 9;
        const totalPages = Math.ceil(courses.length / coursesPerPage);
        let currentUser = null;
        let selectedPaymentMethod = null;
        let currentCourse = null;
        let currentLesson = null;
        let codeEditor = null;
        let userProfileData = null;

        // Event Listeners

        // Sửa event listener mở modal thêm khóa học
        document.getElementById('addCourseBtn').addEventListener('click', function () {
            addCourseModal.style.display = 'flex';
            // Tự động thêm một chương mẫu
            setTimeout(() => {
                if (document.querySelectorAll('.chapter-item').length === 0) {
                    addNewChapter();
                    // Tự động thêm một bài học mẫu trong chương đầu tiên
                    setTimeout(() => {
                        addNewLesson('1');
                    }, 100);
                }
            }, 100);
        });

        // Tương tự cho admin
        document.getElementById('adminAddCourseBtn').addEventListener('click', function () {
            addCourseModal.style.display = 'flex';
            setTimeout(() => {
                if (document.querySelectorAll('.chapter-item').length === 0) {
                    addNewChapter();
                    setTimeout(() => {
                        addNewLesson('1');
                    }, 100);
                }
            }, 100);
        });

        // Sửa lại event listener cho nút login
        loginBtn.addEventListener('click', function (e) {
            if (currentUser) {
                // Nếu đã đăng nhập, chuyển đến trang profile
                e.preventDefault();
                navigateToPage('profile');
            } else {
                // Nếu chưa đăng nhập, mở modal đăng nhập
                loginModal.style.display = 'flex';
            }
        });

        registerBtn.addEventListener('click', () => {
            registerModal.style.display = 'flex';
        });

        closeLogin.addEventListener('click', () => {
            loginModal.style.display = 'none';
        });

        closeRegister.addEventListener('click', () => {
            registerModal.style.display = 'none';
        });

        closePayment.addEventListener('click', () => {
            paymentModal.style.display = 'none';
        });

        closeCourseDetail.addEventListener('click', () => {
            courseDetailModal.style.display = 'none';
        });

        closeAddCourse.addEventListener('click', () => {
            addCourseModal.style.display = 'none';
        });

        closeReview.addEventListener('click', () => {
            reviewModal.style.display = 'none';
        });

        switchToRegister.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.style.display = 'none';
            registerModal.style.display = 'flex';
        });

        switchToLogin.addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.style.display = 'none';
            loginModal.style.display = 'flex';
        });

        chatBubble.addEventListener('click', () => {
            chatWindow.style.display = 'flex';
        });

        closeChat.addEventListener('click', () => {
            chatWindow.style.display = 'none';
        });

        cartIcon.addEventListener('click', () => {
            navigateToPage('cart');
        });

        exploreCoursesBtn.addEventListener('click', () => {
            navigateToPage('courses');
        });

        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                showNotification('Giỏ hàng của bạn đang trống!', 'error');
                return;
            }

            if (!currentUser) {
                showNotification('Vui lòng đăng nhập để thanh toán!', 'error');
                loginModal.style.display = 'flex';
                return;
            }

            paymentModal.style.display = 'flex';
            paymentTotalElement.textContent = calculateTotal().toLocaleString('vi-VN') + '₫';

            // Hide all payment info initially
            bankingInfo.style.display = 'none';
            momoInfo.style.display = 'none';
            zaloInfo.style.display = 'none';
        });

        confirmPaymentBtn.addEventListener('click', processPayment);

        addCourseBtn.addEventListener('click', () => {
            addCourseModal.style.display = 'flex';
        });

        adminAddCourseBtn.addEventListener('click', () => {
            addCourseModal.style.display = 'flex';
        });

        backToCoursesBtn.addEventListener('click', () => {
            navigateToPage('my-courses');
        });

        loginBtn.addEventListener('click', (e) => {
            if (loginBtn.textContent !== 'Đăng Nhập' && currentUser) {
                e.preventDefault();
                navigateToPage('profile');
            }
        });

        runCodeBtn.addEventListener('click', runCode);

        // Search and filter events
        searchInput.addEventListener('input', filterCourses);
        categoryFilter.addEventListener('change', filterCourses);
        priceFilter.addEventListener('change', filterCourses);
        ratingFilter.addEventListener('change', filterCourses);

        // Payment method selection
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                paymentMethods.forEach(m => m.classList.remove('selected'));
                method.classList.add('selected');
                selectedPaymentMethod = method.getAttribute('data-method');

                // Show appropriate payment info
                bankingInfo.style.display = 'none';
                momoInfo.style.display = 'none';
                zaloInfo.style.display = 'none';

                if (selectedPaymentMethod === 'banking') {
                    bankingInfo.style.display = 'block';
                } else if (selectedPaymentMethod === 'momo') {
                    momoInfo.style.display = 'block';
                } else if (selectedPaymentMethod === 'zalo') {
                    zaloInfo.style.display = 'block';
                }
            });
        });

        // Copy button functionality
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('copy-btn')) {
                const number = e.target.getAttribute('data-number');
                navigator.clipboard.writeText(number).then(() => {
                    showNotification('Đã sao chép số tài khoản!', 'success');
                });
            }
        });

        // Panel controls
        document.addEventListener('click', (e) => {
            if (e.target.closest('.panel-control')) {
                const button = e.target.closest('.panel-control');
                const panelId = button.getAttribute('data-panel');
                const action = button.getAttribute('data-action');
                const panel = document.getElementById(panelId + 'Panel');

                if (action === 'collapse') {
                    panel.classList.toggle('panel-collapsed');
                } else if (action === 'expand') {
                    panel.classList.toggle('panel-maximized');
                }
            }
        });

        // Sidebar toggle
        sidebarToggle.addEventListener('click', () => {
            learningSidebar.classList.toggle('collapsed');
            sidebarToggle.classList.toggle('collapsed');
        });

        // Chat functionality
        sendChatBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Star rating functionality
        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = parseInt(star.getAttribute('data-value'));
                reviewRating.value = value;

                // Update star display
                stars.forEach(s => {
                    const starValue = parseInt(s.getAttribute('data-value'));
                    if (starValue <= value) {
                        s.classList.add('active');
                    } else {
                        s.classList.remove('active');
                    }
                });
            });
        });

        // FAQ toggle functionality
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        // Scroll to top button
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });

        // Social login buttons
        googleLoginBtn.addEventListener('click', () => signInWithGoogle());
        facebookLoginBtn.addEventListener('click', () => signInWithFacebook());
        githubLoginBtn.addEventListener('click', () => signInWithGithub());
        googleLoginModalBtn.addEventListener('click', () => signInWithGoogle());
        facebookLoginModalBtn.addEventListener('click', () => signInWithFacebook());
        githubLoginModalBtn.addEventListener('click', () => signInWithGithub());
        googleRegisterModalBtn.addEventListener('click', () => signInWithGoogle());
        facebookRegisterModalBtn.addEventListener('click', () => signInWithFacebook());
        githubRegisterModalBtn.addEventListener('click', () => signInWithGithub());

        // Profile form submission
        profileForm.addEventListener('submit', updateProfile);

        // Contact form submission
        contactForm.addEventListener('submit', handleContactForm);

        // Instructor request
        requestInstructorBtn.addEventListener('click', requestInstructorRole);

        // Navigation
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.getAttribute('data-page');
                navigateToPage(page);
            });
        });

        // Admin tabs
        adminTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');

                // Remove active class from all tabs and contents
                adminTabs.forEach(t => t.classList.remove('active'));
                adminContents.forEach(c => c.classList.remove('active'));

                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(tabId).classList.add('active');

                // Load data for the selected tab
                if (tabId === 'payment-requests') {
                    loadPaymentRequests();
                } else if (tabId === 'courses-management') {
                    loadCoursesManagement();
                } else if (tabId === 'users-management') {
                    loadUsersManagement();
                } else if (tabId === 'instructor-requests') {
                    loadInstructorRequests();
                }
            });
        });

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
            }
            if (e.target === registerModal) {
                registerModal.style.display = 'none';
            }
            if (e.target === paymentModal) {
                paymentModal.style.display = 'none';
            }
            if (e.target === courseDetailModal) {
                courseDetailModal.style.display = 'none';
            }
            if (e.target === addCourseModal) {
                addCourseModal.style.display = 'none';
            }
            if (e.target === reviewModal) {
                reviewModal.style.display = 'none';
            }
        });

        // Form submissions
        loginForm.addEventListener('submit', handleLogin);
        registerForm.addEventListener('submit', handleRegister);
        addCourseForm.addEventListener('submit', handleAddCourse);
        reviewForm.addEventListener('submit', handleReviewSubmit);

        // Initialize the page
        updateCartCount();
        displayFeaturedCourses();
        displayAllCourses();
        generatePagination();
        initializeCodeEditor();
        observeAnimations();

        // Initialize code editor
        function initializeCodeEditor() {
            codeEditor = CodeMirror.fromTextArea(document.getElementById('codeEditor'), {
                mode: "htmlmixed",
                theme: "dracula",
                lineNumbers: true,
                autoCloseTags: true,
                matchBrackets: true,
                indentUnit: 4,
                indentWithTabs: true,
                extraKeys: {
                    "Ctrl-Space": "autocomplete"
                }
            });

            codeEditor.setSize("100%", "100%");
        }

        // Run code in output panel
        function runCode() {
            const code = codeEditor.getValue();
            const outputContent = document.getElementById('outputContent');

            try {
                // Clear previous output
                outputContent.innerHTML = '';

                // Create an iframe to safely execute the code
                const iframe = document.createElement('iframe');
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.border = 'none';
                outputContent.appendChild(iframe);

                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

                // Write the code to the iframe
                iframeDoc.open();
                iframeDoc.write(code);
                iframeDoc.close();
            } catch (error) {
                outputContent.innerHTML = `<div style="color: #ff6b6b;">Lỗi: ${error.message}</div>`;
            }
        }

        // Observe animations for elements
        function observeAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            // Observe all elements with animation classes
            document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
                observer.observe(el);
            });
        }

        // Filter courses based on search and filters
        function filterCourses() {
            const searchText = searchInput.value.toLowerCase();
            const category = categoryFilter.value;
            const price = priceFilter.value;
            const rating = ratingFilter.value;

            const filteredCourses = courses.filter(course => {
                // Search text filter
                const matchesSearch = course.title.toLowerCase().includes(searchText) ||
                    course.description.toLowerCase().includes(searchText);

                // Category filter
                const matchesCategory = category === '' || course.category === category;

                // Price filter
                let matchesPrice = true;
                if (price === 'free') {
                    matchesPrice = course.isFree;
                } else if (price === 'paid') {
                    matchesPrice = !course.isFree;
                }

                // Rating filter
                let matchesRating = true;
                if (rating) {
                    matchesRating = course.rating >= parseFloat(rating);
                }

                return matchesSearch && matchesCategory && matchesPrice && matchesRating;
            });

            // Display filtered courses
            displayFilteredCourses(filteredCourses);
        }

        // Display filtered courses
        function displayFilteredCourses(filteredCourses) {
            const allCoursesContainer = document.getElementById('all-courses');
            allCoursesContainer.innerHTML = '';

            if (filteredCourses.length === 0) {
                allCoursesContainer.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <i class="fas fa-search" style="font-size: 3rem; color: var(--glass-border); margin-bottom: 20px;"></i>
                        <p>Không tìm thấy khóa học nào phù hợp với bộ lọc của bạn.</p>
                    </div>
                `;
                return;
            }

            filteredCourses.forEach(course => {
                const courseCard = createCourseCard(course);
                allCoursesContainer.appendChild(courseCard);
            });
        }

        // Sửa hàm displayAllCourses để ưu tiên khóa học từ Firestore
        function displayAllCourses() {
            const allCoursesContainer = document.getElementById('all-courses');
            allCoursesContainer.innerHTML = '';

            // Sử dụng courses đã được đồng bộ
            const coursesToShow = courses.slice((currentPage - 1) * coursesPerPage, currentPage * coursesPerPage);

            if (coursesToShow.length === 0) {
                allCoursesContainer.innerHTML = `
            <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                <i class="fas fa-search" style="font-size: 3rem; color: var(--glass-border); margin-bottom: 20px;"></i>
                <p>Chưa có khóa học nào. Hãy là người đầu tiên tạo khóa học!</p>
                ${currentUser ? '<button class="btn-primary" onclick="addCourseModal.style.display=\'flex\'">Thêm Khóa Học Đầu Tiên</button>' : ''}
            </div>
        `;
                return;
            }

            coursesToShow.forEach(course => {
                const courseCard = createCourseCard(course);
                allCoursesContainer.appendChild(courseCard);
            });
        }

        // Sửa hàm displayFeaturedCourses
        function displayFeaturedCourses() {
            const featuredContainer = document.getElementById('featured-courses');
            featuredContainer.innerHTML = '';

            // Lấy 6 khóa học nổi bật hoặc mới nhất
            const featuredCourses = courses
                .filter(course => course.featured)
                .slice(0, 6);

            // Nếu không đủ khóa học nổi bật, lấy khóa học mới nhất
            if (featuredCourses.length < 6) {
                const remaining = 6 - featuredCourses.length;
                const latestCourses = courses
                    .filter(course => !course.featured)
                    .sort((a, b) => new Date(b.createdAt || 0) - new Date(a.createdAt || 0))
                    .slice(0, remaining);

                featuredCourses.push(...latestCourses);
            }

            featuredCourses.forEach(course => {
                const courseCard = createCourseCard(course);
                featuredContainer.appendChild(courseCard);
            });
        }

        // Create course card element
        function createCourseCard(course) {
            const courseCard = document.createElement('div');
            courseCard.classList.add('course-card');

            courseCard.innerHTML = `
                <img src="${course.image}" alt="${course.title}" class="course-image">
                <div class="course-content">
                    <h3 class="course-title">${course.title}</h3>
                    <p class="course-description">${course.description}</p>
                    <div class="course-meta">
                        ${course.isFree ?
                    '<span class="free-badge">MIỄN PHÍ</span>' :
                    `<span class="course-price">${course.price.toLocaleString('vi-VN')}₫</span>`
                }
                        <div class="rating">
                            <div class="rating-stars">${getStarRating(course.rating)}</div>
                            <div class="rating-count">${course.rating} (${course.students})</div>
                        </div>
                    </div>
                    <div class="course-action">
                        <button class="btn-secondary view-detail" data-id="${course.id}">Xem chi tiết</button>
                        ${course.isFree ?
                    '<button class="btn-primary enroll-btn" data-id="${course.id}">Đăng ký ngay</button>' :
                    '<button class="btn-primary add-to-cart-btn" data-id="${course.id}">Thêm vào giỏ</button>'
                }
                    </div>
                </div>
            `;

            // Add event listeners
            const viewDetailBtn = courseCard.querySelector('.view-detail');
            viewDetailBtn.addEventListener('click', () => {
                showCourseDetail(course.id);
            });

            if (course.isFree) {
                const enrollBtn = courseCard.querySelector('.enroll-btn');
                enrollBtn.addEventListener('click', () => {
                    enrollCourse(course.id);
                });
            } else {
                const addToCartBtn = courseCard.querySelector('.add-to-cart-btn');
                addToCartBtn.addEventListener('click', () => {
                    addToCart(course.id);
                });
            }

            return courseCard;
        }

        // Generate star rating HTML
        function getStarRating(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;

            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }

            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }

            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }

            return stars;
        }

        // Generate pagination buttons
        function generatePagination() {
            const paginationContainer = document.getElementById('pagination');
            paginationContainer.innerHTML = '';

            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.classList.add('pagination-btn');
                if (i === currentPage) {
                    button.classList.add('active');
                }
                button.textContent = i;
                button.addEventListener('click', () => {
                    currentPage = i;
                    displayAllCourses();
                    generatePagination();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });

                paginationContainer.appendChild(button);
            }
        }



        // Show course detail
        function showCourseDetail(courseId) {
            const course = courses.find(c => c.id === courseId);

            if (course) {
                const courseDetailContent = document.getElementById('courseDetailContent');
                courseDetailContent.innerHTML = `
                    <div class="course-detail-header">
                        <img src="${course.image}" alt="${course.title}" class="course-detail-image">
                        <div class="course-detail-info">
                            <h2 class="course-detail-title">${course.title}</h2>
                            <div class="course-detail-price">
                                ${course.isFree ? 'MIỄN PHÍ' : `${course.price.toLocaleString('vi-VN')}₫`}
                            </div>
                            <div class="rating">
                                <div class="rating-stars">${getStarRating(course.rating)}</div>
                                <div class="rating-count">${course.rating} (${course.students} học viên)</div>
                            </div>
                            <p class="course-detail-description">${course.description}</p>
                            <div class="course-detail-meta">
                                <span><i class="fas fa-play-circle"></i> ${course.chapters.reduce((total, chapter) => total + chapter.lessons.length, 0)} bài học</span>
                                <span><i class="fas fa-clock"></i> ${course.chapters.reduce((total, chapter) => total + chapter.lessons.length * 15, 0)} phút nội dung</span>
                                <span><i class="fas fa-certificate"></i> Chứng chỉ hoàn thành</span>
                            </div>
                            <div class="course-detail-action">
                                ${course.isFree ?
                        `<button class="btn-primary enroll-btn-detail" data-id="${course.id}">Đăng ký ngay</button>` :
                        `<button class="btn-primary add-to-cart-btn-detail" data-id="${course.id}">Thêm vào giỏ</button>`
                    }
                                <button class="btn-secondary">Chia sẻ</button>
                                <button class="btn-secondary review-course-btn" data-id="${course.id}">Đánh giá</button>
                            </div>
                        </div>
                    </div>
                    <div class="course-detail-content">
                        <h3>Nội dung khóa học</h3>
                        <div class="course-chapters">
                            ${course.chapters.map((chapter, index) => `
                                <div class="chapter-item">
                                    <div class="chapter-header">
                                        <span class="chapter-title">Chương ${index + 1}: ${chapter.title}</span>
                                        <span><i class="fas fa-chevron-down"></i></span>
                                    </div>
                                    <div class="chapter-lessons">
                                        ${chapter.lessons.map((lesson, lessonIndex) => `
                                            <div class="lesson-item" data-chapter="${index}" data-lesson="${lessonIndex}">
                                                <div class="lesson-title">
                                                    <i class="fas fa-play-circle"></i>
                                                    <span>Bài ${lessonIndex + 1}: ${lesson.title}</span>
                                                    ${lessonIndex === 0 ? '<span class="preview-badge">Xem trước</span>' : ''}
                                                </div>
                                                <span class="lesson-duration">${lesson.duration}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <h3>Giới thiệu khóa học</h3>
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; margin-bottom: 20px;">
                            <iframe src="${course.videoUrl}" 
                                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;" 
                                    allowfullscreen></iframe>
                        </div>
                        
                        <h3>Bạn sẽ học được gì?</h3>
                        <ul style="margin-left: 20px; margin-bottom: 20px;">
                            <li>Xây dựng ứng dụng web hoàn chỉnh</li>
                            <li>Làm chủ các công nghệ frontend và backend</li>
                            <li>Triển khai ứng dụng lên server thực tế</li>
                            <li>Kỹ năng debug và xử lý lỗi</li>
                            <li>Phát triển tư duy lập trình hệ thống</li>
                        </ul>
                        
                        <h3>Yêu cầu trước khi học</h3>
                        <ul style="margin-left: 20px;">
                            <li>Biết sử dụng máy tính cơ bản</li>
                            <li>Có tinh thần học hỏi và kiên nhẫn</li>
                            <li>Không yêu cầu kiến thức lập trình trước đó</li>
                        </ul>

                        <div class="review-section">
                            <h3>Đánh giá từ học viên</h3>
                            <div id="courseReviews">
                                <!-- Reviews will be loaded here -->
                            </div>
                            <button class="btn-primary" id="addReviewBtn" data-id="${course.id}">Thêm đánh giá</button>
                        </div>
                    </div>
                `;

                // Add event listeners to chapter headers
                const chapterHeaders = courseDetailContent.querySelectorAll('.chapter-header');
                chapterHeaders.forEach(header => {
                    header.addEventListener('click', () => {
                        const lessons = header.nextElementSibling;
                        lessons.classList.toggle('expanded');
                        const icon = header.querySelector('i');
                        icon.classList.toggle('fa-chevron-down');
                        icon.classList.toggle('fa-chevron-up');
                    });
                });

                // Add event listeners to lessons
                const lessonItems = courseDetailContent.querySelectorAll('.lesson-item');
                lessonItems.forEach(lessonItem => {
                    lessonItem.addEventListener('click', () => {
                        // Remove active class from all lessons
                        lessonItems.forEach(item => item.classList.remove('active'));

                        // Add active class to clicked lesson
                        lessonItem.classList.add('active');

                        // Add pulse animation
                        lessonItem.classList.add('lesson-pulse');
                        setTimeout(() => {
                            lessonItem.classList.remove('lesson-pulse');
                        }, 500);

                        const chapterIndex = lessonItem.getAttribute('data-chapter');
                        const lessonIndex = lessonItem.getAttribute('data-lesson');
                        const lesson = course.chapters[chapterIndex].lessons[lessonIndex];

                        // In a real app, you would load the lesson content
                        showNotification(`Đã chọn bài học: ${lesson.title}`, 'info');
                    });
                });

                // Add event listener to add to cart button
                if (!course.isFree) {
                    const addToCartBtn = courseDetailContent.querySelector('.add-to-cart-btn-detail');
                    addToCartBtn.addEventListener('click', () => {
                        addToCart(course.id);
                        courseDetailModal.style.display = 'none';
                        showNotification(`Đã thêm "${course.title}" vào giỏ hàng!`, 'success');
                    });
                } else {
                    const enrollBtn = courseDetailContent.querySelector('.enroll-btn-detail');
                    enrollBtn.addEventListener('click', () => {
                        enrollCourse(course.id);
                        courseDetailModal.style.display = 'none';
                    });
                }

                // Add event listener to review button
                const reviewBtn = courseDetailContent.querySelector('.review-course-btn');
                reviewBtn.addEventListener('click', () => {
                    if (!currentUser) {
                        showNotification('Vui lòng đăng nhập để đánh giá khóa học!', 'error');
                        loginModal.style.display = 'flex';
                        return;
                    }
                    document.getElementById('reviewCourseId').value = course.id;
                    reviewModal.style.display = 'flex';
                });

                // Add event listener to add review button
                const addReviewBtn = courseDetailContent.querySelector('#addReviewBtn');
                addReviewBtn.addEventListener('click', () => {
                    if (!currentUser) {
                        showNotification('Vui lòng đăng nhập để đánh giá khóa học!', 'error');
                        loginModal.style.display = 'flex';
                        return;
                    }
                    document.getElementById('reviewCourseId').value = course.id;
                    reviewModal.style.display = 'flex';
                });

                // Load reviews for this course
                loadCourseReviews(course.id);

                courseDetailModal.style.display = 'flex';
            }
        }

        // Load course reviews
        function loadCourseReviews(courseId) {
            const reviewsContainer = document.getElementById('courseReviews');

            // In a real app, you would fetch reviews from Firestore
            // For now, we'll use sample data
            const sampleReviews = [
                {
                    user: "Nguyễn Văn A",
                    rating: 5,
                    title: "Khóa học tuyệt vời!",
                    content: "Tôi đã học được rất nhiều từ khóa học này. Giảng viên giải thích dễ hiểu và có nhiều bài tập thực hành hữu ích.",
                    date: "2023-10-15"
                },
                {
                    user: "Trần Thị B",
                    rating: 4,
                    title: "Nội dung chất lượng",
                    content: "Khóa học có nội dung phong phú và cập nhật. Tuy nhiên, một số bài giảng hơi nhanh so với người mới bắt đầu.",
                    date: "2023-10-10"
                }
            ];

            if (sampleReviews.length === 0) {
                reviewsContainer.innerHTML = '<p class="no-reviews">Chưa có đánh giá nào cho khóa học này.</p>';
                return;
            }

            reviewsContainer.innerHTML = '';
            sampleReviews.forEach(review => {
                const reviewElement = document.createElement('div');
                reviewElement.classList.add('review-item');
                reviewElement.innerHTML = `
                    <div class="review-header">
                        <span class="reviewer-name">${review.user}</span>
                        <div class="rating-stars">${getStarRating(review.rating)}</div>
                    </div>
                    <div class="review-content">
                        <h4>${review.title}</h4>
                        <p>${review.content}</p>
                        <small class="review-date">${review.date}</small>
                    </div>
                `;
                reviewsContainer.appendChild(reviewElement);
            });
        }

        // Handle review submission
        function handleReviewSubmit(e) {
            e.preventDefault();

            const courseId = document.getElementById('reviewCourseId').value;
            const rating = document.getElementById('reviewRating').value;
            const title = document.getElementById('reviewTitle').value;
            const content = document.getElementById('reviewContent').value;

            if (!rating) {
                showNotification('Vui lòng chọn số sao đánh giá!', 'error');
                return;
            }

            // In a real app, you would save the review to Firestore
            // For now, we'll just show a success message
            showNotification('Cảm ơn bạn đã đánh giá khóa học!', 'success');
            reviewModal.style.display = 'none';

            // Reset form
            reviewForm.reset();
            stars.forEach(star => star.classList.remove('active'));
        }

        // Add to cart function
        function addToCart(courseId) {
            const course = courses.find(c => c.id === courseId);

            if (course && !course.isFree) {
                // Check if course already in cart
                const existingItem = cart.find(item => item.id === courseId);

                if (!existingItem) {
                    cart.push({
                        id: course.id,
                        title: course.title,
                        price: course.price,
                        image: course.image,
                        quantity: 1
                    });

                    // Save to localStorage
                    localStorage.setItem('cart', JSON.stringify(cart));

                    // Update UI
                    updateCartCount();

                    showNotification(`Đã thêm "${course.title}" vào giỏ hàng!`, 'success');
                } else {
                    showNotification('Khóa học đã có trong giỏ hàng!', 'info');
                }
            }
        }

        // Enroll free course
        function enrollCourse(courseId) {
            const course = courses.find(c => c.id === courseId);

            if (course && course.isFree) {
                // Add to user's courses
                if (currentUser) {
                    db.collection('users').doc(currentUser.uid).update({
                        enrolledCourses: firebase.firestore.FieldValue.arrayUnion(courseId)
                    })
                        .then(() => {
                            showNotification(`Bạn đã đăng ký thành công khóa học "${course.title}"!`, 'success');
                            loadMyCourses();
                        })
                        .catch((error) => {
                            showNotification('Có lỗi xảy ra khi đăng ký khóa học!', 'error');
                            console.error('Error enrolling course: ', error);
                        });
                } else {
                    showNotification('Vui lòng đăng nhập để đăng ký khóa học!', 'error');
                    loginModal.style.display = 'flex';
                }
            }
        }

        // Start learning a course
        function startLearning(courseId) {
            const course = courses.find(c => c.id === courseId);

            if (course) {
                currentCourse = course;
                navigateToPage('learning');

                // Update course title
                document.getElementById('learningCourseTitle').textContent = course.title;

                // Load course chapters
                loadLearningChapters();

                // Load first lesson if available
                if (course.chapters.length > 0 && course.chapters[0].lessons.length > 0) {
                    loadLesson(course.chapters[0].lessons[0]);
                }
            }
        }

        // Load learning chapters
        function loadLearningChapters() {
            const learningChapters = document.getElementById('learningChapters');
            learningChapters.innerHTML = '';

            currentCourse.chapters.forEach((chapter, chapterIndex) => {
                const chapterElement = document.createElement('div');
                chapterElement.classList.add('chapter-item');

                chapterElement.innerHTML = `
                    <div class="chapter-header">
                        <span class="chapter-title">${chapterIndex + 1}. ${chapter.title}</span>
                        <span><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="chapter-lessons">
                        ${chapter.lessons.map((lesson, lessonIndex) => `
                            <div class="lesson-item" data-chapter="${chapterIndex}" data-lesson="${lessonIndex}">
                                <div class="lesson-title">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Bài ${lessonIndex + 1}: ${lesson.title}</span>
                                    ${lessonIndex === 0 ? '<span class="preview-badge">Xem trước</span>' : ''}
                                </div>
                                <span class="lesson-duration">${lesson.duration}</span>
                            </div>
                        `).join('')}
                    </div>
                `;

                learningChapters.appendChild(chapterElement);

                // Add event listener to chapter header
                const chapterHeader = chapterElement.querySelector('.chapter-header');
                chapterHeader.addEventListener('click', () => {
                    const lessons = chapterHeader.nextElementSibling;
                    lessons.classList.toggle('expanded');
                    const icon = chapterHeader.querySelector('i');
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });

                // Add event listeners to lessons
                const lessonItems = chapterElement.querySelectorAll('.lesson-item');
                lessonItems.forEach(lessonItem => {
                    lessonItem.addEventListener('click', () => {
                        // Remove active class from all lessons
                        document.querySelectorAll('.lesson-item').forEach(item => {
                            item.classList.remove('active');
                        });

                        // Add active class to clicked lesson
                        lessonItem.classList.add('active');

                        // Add pulse animation
                        lessonItem.classList.add('lesson-pulse');
                        setTimeout(() => {
                            lessonItem.classList.remove('lesson-pulse');
                        }, 500);

                        const chapterIndex = lessonItem.getAttribute('data-chapter');
                        const lessonIndex = lessonItem.getAttribute('data-lesson');
                        const lesson = currentCourse.chapters[chapterIndex].lessons[lessonIndex];
                        loadLesson(lesson);
                    });
                });
            });
        }

        // Load a lesson
        function loadLesson(lesson) {
            currentLesson = lesson;

            // Update video source
            const lessonVideo = document.getElementById('lessonVideo');
            if (lesson.video) {
                lessonVideo.src = lesson.video;
                lessonVideo.style.display = 'block';
            } else {
                lessonVideo.style.display = 'none';
                document.querySelector('.video-container').innerHTML = '<p>Video bài học đang được cập nhật. Vui lòng quay lại sau.</p>';
            }

            // Update code editor
            if (codeEditor && lesson.code) {
                codeEditor.setValue(lesson.code);
            } else if (codeEditor) {
                codeEditor.setValue('// Viết code của bạn ở đây');
            }

            // Clear output
            document.getElementById('outputContent').innerHTML = '';
        }

        // Update cart count
        function updateCartCount() {
            const cartCount = document.querySelector('.cart-count');
            cartCount.textContent = cart.length;

            // Update cart display if on cart page
            if (document.getElementById('cart').classList.contains('active')) {
                updateCartDisplay();
            }
        }

        // Update cart display
        function updateCartDisplay() {
            cartItemsContainer.innerHTML = '';

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Giỏ hàng của bạn đang trống</p>
                        <button class="btn-primary" id="continueShopping">Tiếp tục mua sắm</button>
                    </div>
                `;

                document.getElementById('continueShopping').addEventListener('click', () => {
                    navigateToPage('courses');
                });

                subtotalElement.textContent = '0₫';
                discountElement.textContent = '0₫';
                totalElement.textContent = '0₫';

                return;
            }

            let subtotal = 0;

            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.classList.add('cart-item');

                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image">
                    <div class="cart-item-details">
                        <h3 class="cart-item-title">${item.title}</h3>
                        <div class="cart-item-price">${item.price.toLocaleString('vi-VN')}₫</div>
                    </div>
                    <div class="cart-item-actions">
                        <button class="remove-from-cart" data-id="${item.id}">Xóa</button>
                    </div>
                `;

                cartItemsContainer.appendChild(cartItem);

                // Add event listener to remove button
                const removeBtn = cartItem.querySelector('.remove-from-cart');
                removeBtn.addEventListener('click', () => {
                    removeFromCart(item.id);
                });

                subtotal += item.price * item.quantity;
            });

            const discount = 0; // You can implement discount logic here
            const total = subtotal - discount;

            subtotalElement.textContent = `${subtotal.toLocaleString('vi-VN')}₫`;
            discountElement.textContent = `${discount.toLocaleString('vi-VN')}₫`;
            totalElement.textContent = `${total.toLocaleString('vi-VN')}₫`;
        }

        // Remove from cart
        function removeFromCart(courseId) {
            cart = cart.filter(item => item.id !== courseId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showNotification('Đã xóa khóa học khỏi giỏ hàng!', 'success');
        }

        // Calculate total price
        function calculateTotal() {
            return cart.reduce((total, item) => total + item.price * item.quantity, 0);
        }

        // Process payment
        function processPayment(e) {
            e.preventDefault();

            if (!selectedPaymentMethod) {
                showNotification('Vui lòng chọn phương thức thanh toán!', 'error');
                return;
            }

            const customerName = document.getElementById('customerName').value;
            const customerEmail = document.getElementById('customerEmail').value;
            const customerPhone = document.getElementById('customerPhone').value;
            const paymentNote = document.getElementById('paymentNote').value;

            if (!customerName || !customerEmail || !customerPhone) {
                showNotification('Vui lòng điền đầy đủ thông tin!', 'error');
                return;
            }

            // Generate order ID
            const orderId = 'CT' + Date.now();

            // Create payment request
            const paymentRequest = {
                customer: {
                    name: customerName,
                    email: customerEmail,
                    phone: customerPhone
                },
                courses: cart.map(item => ({
                    id: item.id,
                    title: item.title,
                    price: item.price
                })),
                total: calculateTotal(),
                paymentMethod: selectedPaymentMethod,
                note: paymentNote,
                status: 'pending',
                createdAt: new Date(),
                userId: currentUser.uid,
                orderId: orderId
            };

            // Show loading state
            const submitBtn = document.getElementById('confirmPaymentBtn');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="spinner"></div> Đang xử lý...';
            submitBtn.disabled = true;

            // Save payment request to Firestore
            db.collection('paymentRequests').add(paymentRequest)
                .then((docRef) => {
                    // Clear cart
                    cart = [];
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();

                    // Close payment modal
                    paymentModal.style.display = 'none';

                    // Show success message
                    showNotification(`Đã gửi yêu cầu thanh toán thành công! Mã đơn hàng: ${orderId}. Vui lòng chờ xác nhận từ quản trị viên.`, 'success');

                    // Reset form
                    document.getElementById('customerName').value = '';
                    document.getElementById('customerEmail').value = '';
                    document.getElementById('customerPhone').value = '';
                    document.getElementById('paymentNote').value = '';
                    paymentMethods.forEach(m => m.classList.remove('selected'));
                    selectedPaymentMethod = null;
                    bankingInfo.style.display = 'none';
                    momoInfo.style.display = 'none';
                    zaloInfo.style.display = 'none';
                })
                .catch((error) => {
                    showNotification('Có lỗi xảy ra khi gửi yêu cầu thanh toán!', 'error');
                    console.error('Error adding payment request: ', error);
                })
                .finally(() => {
                    // Restore button state
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
        }

        // Load my courses
        function loadMyCourses() {
            if (!currentUser) {
                myCoursesList.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-book"></i>
                        <p>Vui lòng đăng nhập để xem khóa học của bạn</p>
                        <button class="btn-primary" id="loginFromCourses">Đăng nhập</button>
                    </div>
                `;

                document.getElementById('loginFromCourses').addEventListener('click', () => {
                    loginModal.style.display = 'flex';
                });

                return;
            }

            // Get user's enrolled courses
            db.collection('users').doc(currentUser.uid).get()
                .then((doc) => {
                    if (doc.exists) {
                        const userData = doc.data();
                        const enrolledCourses = userData.enrolledCourses || [];
                        const purchasedCourses = userData.purchasedCourses || [];

                        // Combine enrolled and purchased courses
                        const allCourses = [...enrolledCourses, ...purchasedCourses];

                        if (allCourses.length === 0) {
                            myCoursesList.innerHTML = `
                                <div class="empty-cart">
                                    <i class="fas fa-book"></i>
                                    <p>Bạn chưa đăng ký khóa học nào</p>
                                    <button class="btn-primary" id="exploreFromMyCourses">Khám phá khóa học</button>
                                </div>
                            `;

                            document.getElementById('exploreFromMyCourses').addEventListener('click', () => {
                                navigateToPage('courses');
                            });

                            return;
                        }

                        myCoursesList.innerHTML = '';

                        // Display enrolled courses
                        allCourses.forEach(courseId => {
                            const course = courses.find(c => c.id === courseId);
                            if (course) {
                                const courseCard = document.createElement('div');
                                courseCard.classList.add('course-card');

                                courseCard.innerHTML = `
                                    <img src="${course.image}" alt="${course.title}" class="course-image">
                                    <div class="course-content">
                                        <h3 class="course-title">${course.title}</h3>
                                        <p class="course-description">${course.description}</p>
                                        <div class="course-meta">
                                            ${course.isFree ?
                                        '<span class="free-badge">MIỄN PHÍ</span>' :
                                        `<span class="course-price">${course.price.toLocaleString('vi-VN')}₫</span>`
                                    }
                                            <div class="rating">
                                                <div class="rating-stars">${getStarRating(course.rating)}</div>
                                                <div class="rating-count">${course.rating} (${course.students})</div>
                                            </div>
                                        </div>
                                        <div class="course-action">
                                            <button class="btn-secondary view-detail" data-id="${course.id}">Xem chi tiết</button>
                                            <button class="btn-primary start-learning" data-id="${course.id}">Bắt đầu học</button>
                                        </div>
                                    </div>
                                `;

                                // Add event listeners
                                const viewDetailBtn = courseCard.querySelector('.view-detail');
                                viewDetailBtn.addEventListener('click', () => {
                                    showCourseDetail(course.id);
                                });

                                const startLearningBtn = courseCard.querySelector('.start-learning');
                                startLearningBtn.addEventListener('click', () => {
                                    startLearning(course.id);
                                });

                                myCoursesList.appendChild(courseCard);
                            }
                        });
                    }
                })
                .catch((error) => {
                    console.error('Error getting user courses: ', error);
                });
        }

        // Load payment requests for admin
        function loadPaymentRequests() {
            if (!currentUser || currentUser.email !== 'buuvanhoi@gmail.com') return;

            paymentRequestsList.innerHTML = '';

            db.collection('paymentRequests')
                .where('status', '==', 'pending')
                .get()
                .then((querySnapshot) => {
                    if (querySnapshot.empty) {
                        paymentRequestsList.innerHTML = '<p>Không có yêu cầu thanh toán nào chờ xử lý.</p>';
                        return;
                    }

                    querySnapshot.forEach((doc) => {
                        const request = doc.data();
                        const requestElement = document.createElement('div');
                        requestElement.classList.add('payment-request');

                        requestElement.innerHTML = `
                            <div class="payment-request-info">
                                <h3>${request.customer.name} - ${request.customer.phone}</h3>
                                <p>${request.customer.email}</p>
                                <p>Phương thức: ${request.paymentMethod}</p>
                                <p>Tổng tiền: ${request.total.toLocaleString('vi-VN')}₫</p>
                                <p>Mã đơn hàng: ${request.orderId}</p>
                                <p>Ngày tạo: ${request.createdAt.toDate().toLocaleString('vi-VN')}</p>
                            </div>
                            <div class="payment-request-actions">
                                <button class="btn-primary approve-payment" data-id="${doc.id}">Duyệt</button>
                                <button class="btn-secondary reject-payment" data-id="${doc.id}">Từ chối</button>
                            </div>
                        `;

                        paymentRequestsList.appendChild(requestElement);

                        // Add event listeners
                        const approveBtn = requestElement.querySelector('.approve-payment');
                        approveBtn.addEventListener('click', () => {
                            approvePayment(doc.id, request);
                        });

                        const rejectBtn = requestElement.querySelector('.reject-payment');
                        rejectBtn.addEventListener('click', () => {
                            rejectPayment(doc.id);
                        });
                    });
                })
                .catch((error) => {
                    console.error('Error getting payment requests: ', error);
                });
        }

        // Approve payment
        function approvePayment(requestId, request) {
            // Update payment request status
            db.collection('paymentRequests').doc(requestId).update({
                status: 'completed',
                processedAt: new Date(),
                processedBy: currentUser.uid
            })
                .then(() => {
                    // Add courses to user's purchased courses
                    db.collection('users').doc(request.userId).update({
                        purchasedCourses: firebase.firestore.FieldValue.arrayUnion(...request.courses.map(c => c.id))
                    })
                        .then(() => {
                            showNotification('Đã duyệt thanh toán thành công!', 'success');
                            loadPaymentRequests();
                        })
                        .catch((error) => {
                            showNotification('Có lỗi xảy ra khi cập nhật khóa học cho người dùng!', 'error');
                            console.error('Error updating user courses: ', error);
                        });
                })
                .catch((error) => {
                    showNotification('Có lỗi xảy ra khi duyệt thanh toán!', 'error');
                    console.error('Error approving payment: ', error);
                });
        }

        // Reject payment
        function rejectPayment(requestId) {
            db.collection('paymentRequests').doc(requestId).update({
                status: 'rejected',
                processedAt: new Date(),
                processedBy: currentUser.uid
            })
                .then(() => {
                    showNotification('Đã từ chối yêu cầu thanh toán!', 'success');
                    loadPaymentRequests();
                })
                .catch((error) => {
                    showNotification('Có lỗi xảy ra khi từ chối thanh toán!', 'error');
                    console.error('Error rejecting payment: ', error);
                });
        }

        // Load courses management for admin
        function loadCoursesManagement() {
            // This would load courses for management
            // For simplicity, we'll just show a message
            document.getElementById('coursesManagementList').innerHTML = `
                <p>Chức năng quản lý khóa học sẽ sớm được cập nhật!</p>
            `;
        }

        // Load users management for admin
        function loadUsersManagement() {
            // This would load users for management
            // For simplicity, we'll just show a message
            document.getElementById('usersManagementList').innerHTML = `
                <p>Chức năng quản lý người dùng sẽ sớm được cập nhật!</p>
            `;
        }

        // Load instructor requests for admin
        function loadInstructorRequests() {
            // This would load instructor requests for admin
            // For simplicity, we'll just show a message
            document.getElementById('instructorRequestsList').innerHTML = `
                <p>Chức năng quản lý yêu cầu giảng viên sẽ sớm được cập nhật!</p>
            `;
        }

        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            // Show loading state
            const submitBtn = loginForm.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="spinner"></div> Đang xử lý...';
            submitBtn.disabled = true;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    currentUser = userCredential.user;
                    loginModal.style.display = 'none';
                    showNotification('Đăng nhập thành công!', 'success');

                    // Check if user is admin
                    if (currentUser.email === 'buuvanhoi@gmail.com') {
                        adminNav.style.display = 'block';
                        // Admin có quyền truy cập tất cả khóa học
                        db.collection('users').doc(currentUser.uid).set({
                            enrolledCourses: courses.filter(c => c.isFree).map(c => c.id),
                            purchasedCourses: courses.filter(c => !c.isFree).map(c => c.id),
                            role: 'admin'
                        }, { merge: true });
                    }

                    // Update UI based on user state
                    updateUIForUser();
                })
                .catch((error) => {
                    const errorCode = error.code;
                    let errorMessage = 'Có lỗi xảy ra khi đăng nhập!';

                    if (errorCode === 'auth/invalid-email') {
                        errorMessage = 'Email không hợp lệ!';
                    } else if (errorCode === 'auth/user-disabled') {
                        errorMessage = 'Tài khoản đã bị vô hiệu hóa!';
                    } else if (errorCode === 'auth/user-not-found') {
                        errorMessage = 'Không tìm thấy tài khoản với email này!';
                    } else if (errorCode === 'auth/wrong-password') {
                        errorMessage = 'Mật khẩu không chính xác!';
                    } else if (errorCode === 'auth/network-request-failed') {
                        errorMessage = 'Lỗi kết nối mạng. Vui lòng kiểm tra kết nối và thử lại!';
                    }

                    showNotification(errorMessage, 'error');
                })
                .finally(() => {
                    // Restore button state
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
        }

        // Handle register
        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            if (password !== confirmPassword) {
                showNotification('Mật khẩu xác nhận không khớp!', 'error');
                return;
            }

            if (password.length < 6) {
                showNotification('Mật khẩu phải có ít nhất 6 ký tự!', 'error');
                return;
            }

            // Show loading state
            const submitBtn = registerForm.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="spinner"></div> Đang xử lý...';
            submitBtn.disabled = true;

            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed up
                    currentUser = userCredential.user;

                    // Add user data to Firestore
                    db.collection('users').doc(currentUser.uid).set({
                        name: name,
                        email: email,
                        enrolledCourses: [],
                        purchasedCourses: [],
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        role: 'student'
                    })
                        .then(() => {
                            registerModal.style.display = 'none';
                            showNotification('Đăng ký thành công!', 'success');

                            // Update UI based on user state
                            updateUIForUser();
                        })
                        .catch((error) => {
                            showNotification('Có lỗi xảy ra khi tạo tài khoản!', 'error');
                            console.error('Error adding user to Firestore: ', error);
                        });
                })
                .catch((error) => {
                    const errorCode = error.code;
                    let errorMessage = 'Có lỗi xảy ra khi đăng ký!';

                    if (errorCode === 'auth/email-already-in-use') {
                        errorMessage = 'Email đã được sử dụng!';
                    } else if (errorCode === 'auth/invalid-email') {
                        errorMessage = 'Email không hợp lệ!';
                    } else if (errorCode === 'auth/operation-not-allowed') {
                        errorMessage = 'Tính năng đăng ký tạm thời bị tắt!';
                    } else if (errorCode === 'auth/weak-password') {
                        errorMessage = 'Mật khẩu quá yếu!';
                    } else if (errorCode === 'auth/network-request-failed') {
                        errorMessage = 'Lỗi kết nối mạng. Vui lòng kiểm tra kết nối và thử lại!';
                    }

                    showNotification(errorMessage, 'error');
                })
                .finally(() => {
                    // Restore button state
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
        }

        // Thêm các biến toàn cục
        let chapterCounter = 0;
        let lessonCounter = 0;

        // Thêm event listeners mới
        document.getElementById('addChapterBtn').addEventListener('click', addNewChapter);
        document.getElementById('previewCourseBtn').addEventListener('click', previewCourse);
        document.getElementById('closePreview').addEventListener('click', () => {
            document.getElementById('previewCourseModal').style.display = 'none';
        });

        // Hàm thêm chương mới
        function addNewChapter() {
            chapterCounter++;
            const chaptersContainer = document.getElementById('chaptersContainer');

            const chapterHTML = `
        <div class="chapter-item" data-chapter-id="${chapterCounter}">
            <div class="chapter-header">
                <input type="text" class="chapter-title-input" 
                       placeholder="Tên chương ${chapterCounter}" 
                       data-chapter="${chapterCounter}">
                <div class="chapter-actions">
                    <button type="button" class="chapter-action-btn add-lesson-btn" 
                            data-chapter="${chapterCounter}">
                        <i class="fas fa-plus"></i> Bài học
                    </button>
                    <button type="button" class="chapter-action-btn remove-chapter-btn" 
                            data-chapter="${chapterCounter}">
                        <i class="fas fa-trash"></i> Xóa
                    </button>
                </div>
            </div>
            <div class="lessons-container" id="lessonsContainer-${chapterCounter}">
                <!-- Các bài học sẽ được thêm vào đây -->
            </div>
            <div class="code-paste-instruction">
                <h4>Hướng dẫn paste code cho bài học</h4>
                <p>Sử dụng template sau để thêm code mẫu cho bài học:</p>
                <div class="code-template">
// Code JavaScript mẫu
function helloWorld() {
    console.log("Hello, World!");
}

// Code HTML mẫu
&lt;div class="container"&gt;
    &lt;h1&gt;Tiêu đề&lt;/h1&gt;
    &lt;p&gt;Nội dung&lt;/p&gt;
&lt;/div&gt;

// Code CSS mẫu
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}
                </div>
                <p><strong>Lưu ý:</strong> Code sẽ được hiển thị trong trình soạn thảo khi học viên học bài.</p>
            </div>
        </div>
    `;

            chaptersContainer.insertAdjacentHTML('beforeend', chapterHTML);

            // Thêm event listeners cho các nút mới
            const newChapter = chaptersContainer.lastElementChild;
            newChapter.querySelector('.add-lesson-btn').addEventListener('click', function () {
                addNewLesson(this.getAttribute('data-chapter'));
            });

            newChapter.querySelector('.remove-chapter-btn').addEventListener('click', function () {
                this.closest('.chapter-item').remove();
            });
        }

        // Hàm thêm bài học mới
        function addNewLesson(chapterId) {
            lessonCounter++;
            const lessonsContainer = document.getElementById(`lessonsContainer-${chapterId}`);

            const lessonHTML = `
        <div class="lesson-item" data-lesson-id="${lessonCounter}">
            <input type="text" class="lesson-input lesson-title" 
                   placeholder="Tên bài học ${lessonCounter}" 
                   data-chapter="${chapterId}" data-lesson="${lessonCounter}">
            <input type="url" class="lesson-input lesson-video" 
                   placeholder="URL video bài học" 
                   data-chapter="${chapterId}" data-lesson="${lessonCounter}">
            <textarea class="lesson-input lesson-code" 
                      placeholder="Code mẫu (tùy chọn)" 
                      rows="3"
                      data-chapter="${chapterId}" data-lesson="${lessonCounter}"></textarea>
            <div class="lesson-actions">
                <button type="button" class="chapter-action-btn remove-lesson-btn" 
                        data-chapter="${chapterId}" data-lesson="${lessonCounter}">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
    `;

            lessonsContainer.insertAdjacentHTML('beforeend', lessonHTML);

            // Thêm event listener cho nút xóa bài học
            const newLesson = lessonsContainer.lastElementChild;
            newLesson.querySelector('.remove-lesson-btn').addEventListener('click', function () {
                this.closest('.lesson-item').remove();
            });
        }

        // Hàm xem trước khóa học
        function previewCourse() {
            const courseData = collectCourseData();
            const previewContent = document.getElementById('coursePreviewContent');

            if (!validateCourseData(courseData)) {
                return;
            }

            let previewHTML = `
        <div class="preview-course-card">
            <h3>${courseData.title}</h3>
            <p><strong>Danh mục:</strong> ${document.getElementById('courseCategory').options[document.getElementById('courseCategory').selectedIndex].text}</p>
            <p><strong>Mô tả:</strong> ${courseData.description}</p>
            <p><strong>Giá:</strong> ${courseData.isFree ? 'MIỄN PHÍ' : courseData.price.toLocaleString('vi-VN') + '₫'}</p>
            <p><strong>Nổi bật:</strong> ${courseData.isFeatured ? 'Có' : 'Không'}</p>
        </div>
    `;

            if (courseData.chapters.length > 0) {
                previewHTML += '<div class="preview-chapters"><h4>Nội dung khóa học:</h4>';

                courseData.chapters.forEach((chapter, chapterIndex) => {
                    previewHTML += `
                <div style="margin: 15px 0; padding: 10px; background: var(--darker); border-radius: 5px;">
                    <h5>Chương ${chapterIndex + 1}: ${chapter.title}</h5>
            `;

                    if (chapter.lessons.length > 0) {
                        previewHTML += '<ul style="margin-left: 20px;">';
                        chapter.lessons.forEach((lesson, lessonIndex) => {
                            previewHTML += `<li>Bài ${lessonIndex + 1}: ${lesson.title}</li>`;
                        });
                        previewHTML += '</ul>';
                    } else {
                        previewHTML += '<p style="color: var(--secondary); font-style: italic;">Chưa có bài học</p>';
                    }

                    previewHTML += '</div>';
                });

                previewHTML += '</div>';
            } else {
                previewHTML += '<p style="color: var(--secondary); text-align: center;">Chưa có nội dung khóa học</p>';
            }

            previewContent.innerHTML = previewHTML;
            document.getElementById('previewCourseModal').style.display = 'flex';
        }

        // Hàm thu thập dữ liệu khóa học
        function collectCourseData() {
            const chapters = [];
            const chapterElements = document.querySelectorAll('.chapter-item');

            chapterElements.forEach(chapterElement => {
                const chapterTitle = chapterElement.querySelector('.chapter-title-input').value;
                const lessons = [];

                const lessonElements = chapterElement.querySelectorAll('.lesson-item');
                lessonElements.forEach(lessonElement => {
                    const lessonTitle = lessonElement.querySelector('.lesson-title').value;
                    const lessonVideo = lessonElement.querySelector('.lesson-video').value;
                    const lessonCode = lessonElement.querySelector('.lesson-code').value;

                    if (lessonTitle) {
                        lessons.push({
                            title: lessonTitle,
                            video: lessonVideo,
                            code: lessonCode,
                            duration: "10:00" // Có thể tính toán dựa trên video sau
                        });
                    }
                });

                if (chapterTitle) {
                    chapters.push({
                        title: chapterTitle,
                        lessons: lessons
                    });
                }
            });

            return {
                title: document.getElementById('courseTitle').value,
                description: document.getElementById('courseDescription').value,
                price: parseInt(document.getElementById('coursePrice').value) || 0,
                image: document.getElementById('courseImage').value,
                videoUrl: document.getElementById('courseVideo').value,
                category: document.getElementById('courseCategory').value,
                isFree: document.getElementById('courseIsFree').checked,
                isFeatured: document.getElementById('courseIsFeatured').checked,
                chapters: chapters
            };
        }

        // Hàm validate dữ liệu
        function validateCourseData(courseData) {
            if (!courseData.title) {
                showNotification('Vui lòng nhập tên khóa học!', 'error');
                return false;
            }

            if (!courseData.description) {
                showNotification('Vui lòng nhập mô tả khóa học!', 'error');
                return false;
            }

            if (!courseData.image) {
                showNotification('Vui lòng nhập URL hình ảnh!', 'error');
                return false;
            }

            if (courseData.chapters.length === 0) {
                showNotification('Vui lòng thêm ít nhất một chương!', 'error');
                return false;
            }

            // Kiểm tra mỗi chương có ít nhất một bài học
            for (let chapter of courseData.chapters) {
                if (chapter.lessons.length === 0) {
                    showNotification(`Chương "${chapter.title}" chưa có bài học nào!`, 'error');
                    return false;
                }
            }

            return true;
        }

        // Hàm chuyển đổi URL YouTube sang embed URL
        function convertToEmbedUrl(url) {
            if (!url) return '';

            // Nếu đã là embed URL thì giữ nguyên
            if (url.includes('youtube.com/embed/')) {
                return url;
            }

            // Chuyển đổi từ các dạng URL YouTube khác nhau
            let videoId = '';

            // Dạng: https://www.youtube.com/watch?v=VIDEO_ID
            const watchMatch = url.match(/youtube\.com\/watch\?v=([^&]+)/);
            if (watchMatch) {
                videoId = watchMatch[1];
            }

            // Dạng: https://youtu.be/VIDEO_ID
            const youtuBeMatch = url.match(/youtu\.be\/([^?]+)/);
            if (youtuBeMatch) {
                videoId = youtuBeMatch[1];
            }

            // Dạng: https://www.youtube.com/embed/VIDEO_ID
            const embedMatch = url.match(/youtube\.com\/embed\/([^?]+)/);
            if (embedMatch) {
                videoId = embedMatch[1];
            }

            if (videoId) {
                // Loại bỏ các tham số không cần thiết
                videoId = videoId.split('?')[0];
                return `https://www.youtube.com/embed/${videoId}`;
            }

            return url; // Trả về URL gốc nếu không chuyển đổi được
        }

        // Sửa hàm collectCourseData để chuyển đổi URL video
        function collectCourseData() {
            const chapters = [];
            const chapterElements = document.querySelectorAll('.chapter-item');

            chapterElements.forEach(chapterElement => {
                const chapterTitle = chapterElement.querySelector('.chapter-title-input').value;
                const lessons = [];

                const lessonElements = chapterElement.querySelectorAll('.lesson-item');
                lessonElements.forEach(lessonElement => {
                    const lessonTitle = lessonElement.querySelector('.lesson-title').value;
                    const lessonVideo = lessonElement.querySelector('.lesson-video').value;
                    const lessonCode = lessonElement.querySelector('.lesson-code').value;

                    if (lessonTitle) {
                        lessons.push({
                            title: lessonTitle,
                            video: convertToEmbedUrl(lessonVideo), // Chuyển đổi URL
                            code: lessonCode,
                            duration: "10:00"
                        });
                    }
                });

                if (chapterTitle) {
                    chapters.push({
                        title: chapterTitle,
                        lessons: lessons
                    });
                }
            });

            return {
                title: document.getElementById('courseTitle').value,
                description: document.getElementById('courseDescription').value,
                price: parseInt(document.getElementById('coursePrice').value) || 0,
                image: document.getElementById('courseImage').value,
                videoUrl: convertToEmbedUrl(document.getElementById('courseVideo').value), // Chuyển đổi URL giới thiệu
                category: document.getElementById('courseCategory').value,
                isFree: document.getElementById('courseIsFree').checked,
                isFeatured: document.getElementById('courseIsFeatured').checked,
                chapters: chapters
            };
        }


        // Hàm đồng bộ khóa học giữa Firestore và local
        function syncCourses() {
            // Tạo map để tránh trùng lặp
            const courseMap = new Map();

            // Ưu tiên khóa học từ Firestore trước
            firestoreCourses.forEach(course => {
                courseMap.set(course.id, course);
            });

            // Thêm khóa học mẫu nếu chưa có
            courses.forEach(course => {
                if (!courseMap.has(course.id)) {
                    courseMap.set(course.id, course);
                }
            });

            // Cập nhật mảng courses toàn cục
            courses = Array.from(courseMap.values());

            // Sắp xếp theo thời gian tạo mới nhất
            courses.sort((a, b) => {
                const dateA = a.createdAt ? new Date(a.createdAt) : new Date(0);
                const dateB = b.createdAt ? new Date(b.createdAt) : new Date(0);
                return dateB - dateA;
            });
        }

        // Biến toàn cục để lưu trữ khóa học từ Firestore
        let firestoreCourses = [];

        // Hàm load khóa học từ Firestore
        function loadCoursesFromFirestore() {
            return db.collection('courses')
                .orderBy('createdAt', 'desc')
                .get()
                .then((querySnapshot) => {
                    console.log('Loaded courses from Firestore:', querySnapshot.size);

                    firestoreCourses = [];
                    querySnapshot.forEach((doc) => {
                        const courseData = doc.data();
                        courseData.firestoreId = doc.id;

                        // Đảm bảo có đầy đủ các trường cần thiết
                        if (!courseData.id) {
                            courseData.id = parseInt(doc.id) || Date.now();
                        }

                        firestoreCourses.push(courseData);
                    });

                    syncCourses();
                    return firestoreCourses;
                })
                .catch((error) => {
                    console.error('Error loading courses from Firestore:', error);
                    // Fallback to sample courses
                    syncCourses();
                    return courses;
                });
        }

        // Sửa hàm handleAddCourse để đồng bộ ngay lập tức
        function handleAddCourse(e) {
            e.preventDefault();

            const courseData = collectCourseData();

            if (!validateCourseData(courseData)) {
                return;
            }

            if (!currentUser) {
                showNotification('Vui lòng đăng nhập để thêm khóa học!', 'error');
                return;
            }

            const submitBtn = e.target.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="spinner"></div> Đang thêm...';
            submitBtn.disabled = true;

            // Tạo ID mới
            const newId = Date.now();

            // Tạo khóa học object
            const newCourse = {
                id: newId,
                title: courseData.title,
                description: courseData.description,
                price: courseData.isFree ? 0 : courseData.price,
                image: courseData.image,
                videoUrl: courseData.videoUrl,
                rating: 0,
                ratingCount: 0,
                students: 0,
                isFree: courseData.isFree,
                featured: courseData.isFeatured,
                category: courseData.category,
                chapters: courseData.chapters,
                instructorId: currentUser.uid,
                instructorName: currentUser.displayName || currentUser.email,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                status: 'published',
                totalLessons: courseData.chapters.reduce((total, chapter) => total + chapter.lessons.length, 0)
            };

            console.log('Adding course to Firestore:', newCourse);

            // Thêm vào Firestore
            db.collection('courses').add(newCourse)
                .then((docRef) => {
                    console.log('Course added with ID:', docRef.id);

                    // Thêm vào local array ngay lập tức
                    newCourse.firestoreId = docRef.id;
                    courses.unshift(newCourse);

                    showNotification('✅ Đã thêm khóa học thành công!', 'success');

                    // Đóng modal và reset form
                    addCourseModal.style.display = 'none';
                    document.getElementById('addCourseForm').reset();
                    document.getElementById('chaptersContainer').innerHTML = '';

                    // Hiển thị ngay lập tức
                    displayFeaturedCourses();
                    displayAllCourses();

                    // Chuyển đến trang courses sau 1 giây
                    setTimeout(() => {
                        navigateToPage('courses');
                    }, 1000);

                    return updateInstructorCourseCount(newId);
                })
                .catch((error) => {
                    console.error('Firestore error details:', error);

                    if (error.code === 'permission-denied') {
                        showNotification('❌ Lỗi quyền truy cập! Vui lòng kiểm tra Firestore rules.', 'error');
                    } else {
                        showNotification('❌ Lỗi khi thêm khóa học: ' + error.message, 'error');
                    }
                })
                .finally(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
        }


        // Hàm cập nhật số lượng khóa học của giảng viên
        function updateInstructorCourseCount() {
            if (userProfileData.role === 'instructor' || userProfileData.role === 'admin') {
                const currentCourses = userProfileData.coursesCreated || [];
                currentCourses.push(courses.length); // Thêm ID khóa học mới

                db.collection('users').doc(currentUser.uid).update({
                    coursesCreated: currentCourses
                }).then(() => {
                    loadUserProfile(); // Reload profile để cập nhật số lượng
                });
            }
        }

        // Update UI based on user state
        function updateUIForUser() {
            if (currentUser) {
                // Thay đổi nút đăng nhập thành "Hồ Sơ"
                loginBtn.textContent = 'Hồ Sơ';
                loginBtn.classList.add('profile-btn');
                loginBtn.title = currentUser.email; // Hiển thị email khi hover
                registerBtn.textContent = 'Đăng Xuất';

                // Update logout functionality
                registerBtn.onclick = () => {
                    auth.signOut().then(() => {
                        currentUser = null;
                        showNotification('Đăng xuất thành công!', 'success');
                        loginBtn.textContent = 'Đăng Nhập';
                        loginBtn.classList.remove('profile-btn');
                        registerBtn.textContent = 'Đăng Ký';
                        adminNav.style.display = 'none';

                        // Reset logout functionality
                        registerBtn.onclick = () => {
                            registerModal.style.display = 'flex';
                        };

                        navigateToPage('home');
                    });
                };

                loadMyCourses();
                loadUserProfile();
            }
        }

        // Hàm khởi tạo ứng dụng
        function initializeApp() {
            updateCartCount();
            initializeCodeEditor();
            observeAnimations();

            // Load khóa học từ Firestore khi ứng dụng khởi chạy
            loadCoursesFromFirestore().then(() => {
                displayFeaturedCourses();
                displayAllCourses();
                generatePagination();
            });

            // Kiểm tra auth state
            checkAuthState();
        }

        // Gọi hàm khởi tạo khi DOM đã load
        document.addEventListener('DOMContentLoaded', function () {
            initializeApp();
        });

        // Thêm real-time listener để cập nhật ngay lập tức
        function setupCoursesRealTimeListener() {
            return db.collection('courses')
                .orderBy('createdAt', 'desc')
                .onSnapshot(
                    (snapshot) => {
                        console.log('Real-time update received:', snapshot.size, 'courses');

                        firestoreCourses = [];
                        snapshot.forEach((doc) => {
                            const courseData = doc.data();
                            courseData.firestoreId = doc.id;
                            firestoreCourses.push(courseData);
                        });

                        syncCourses();

                        // Cập nhật UI
                        if (document.getElementById('courses').classList.contains('active')) {
                            displayAllCourses();
                            generatePagination();
                        }
                        if (document.getElementById('home').classList.contains('active')) {
                            displayFeaturedCourses();
                        }
                    },
                    (error) => {
                        console.error('Real-time listener error:', error);
                        // Retry after 5 seconds
                        setTimeout(setupCoursesRealTimeListener, 5000);
                    }
                );
        }

        // Hàm kiểm tra kết nối Firestore
        function checkFirestoreConnection() {
            return db.collection('courses').limit(1).get()
                .then(() => {
                    console.log('Firestore connection OK');
                    return true;
                })
                .catch((error) => {
                    console.error('Firestore connection failed:', error);
                    return false;
                });
        }


        // Gọi trong hàm initializeApp
        function initializeApp() {
            console.log('Initializing app...');

            checkFirestoreConnection().then((isConnected) => {
                if (isConnected) {
                    loadCoursesFromFirestore().then(() => {
                        displayFeaturedCourses();
                        displayAllCourses();
                        generatePagination();
                        setupCoursesRealTimeListener();
                    });
                } else {
                    // Sử dụng sample courses nếu không kết nối được
                    syncCourses();
                    displayFeaturedCourses();
                    displayAllCourses();
                    generatePagination();
                }
            });

            updateCartCount();
            initializeCodeEditor();
            observeAnimations();
            checkAuthState();
        }

        // Navigate to page
        function navigateToPage(page) {
            // Ẩn tất cả các trang
            pageContainers.forEach(container => {
                container.classList.remove('active');
            });

            // Hiện trang được chọn
            document.getElementById(page).classList.add('active');

            // Cập nhật trạng thái nav link
            navLinks.forEach(link => {
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Reload dữ liệu khi chuyển đến trang courses hoặc home
            if (page === 'courses' || page === 'home') {
                loadCoursesFromFirestore().then(() => {
                    if (page === 'courses') {
                        displayAllCourses();
                        generatePagination();
                    } else if (page === 'home') {
                        displayFeaturedCourses();
                    }
                });
            }


            // Scroll to top
            window.scrollTo(0, 0);

            if (page === 'profile') {
                loadUserProfile();
            }

            // If navigating to cart page, update cart display
            if (page === 'cart') {
                updateCartDisplay();
            }

            // If navigating to courses page, update courses display
            if (page === 'courses') {
                displayAllCourses();
                generatePagination();
            }

            // If navigating to my courses page, load user's courses
            if (page === 'my-courses') {
                loadMyCourses();
            }

            // If navigating to profile page, load user's profile
            if (page === 'profile') {
                loadUserProfile();
            }

            // If navigating to admin page, load payment requests
            if (page === 'admin' && currentUser && currentUser.email === 'buuvanhoi@gmail.com') {
                loadPaymentRequests();
            }
        }

        // Show notification
        function showNotification(message, type) {
            notificationMessage.textContent = message;
            notification.className = 'notification';
            notification.classList.add(type);
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        let conversationHistory = [];

        // Gửi tin nhắn tới AI
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Hiển thị tin nhắn người dùng
            addMessageToChat(message, 'user');
            chatInput.value = '';

            // Loading
            const loadingMessage = document.createElement('div');
            loadingMessage.classList.add('message', 'ai-message');
            loadingMessage.innerHTML = `<div class="spinner"></div> Đang xử lý...`;
            document.querySelector('.chat-messages').appendChild(loadingMessage);
            document.querySelector('.chat-messages').scrollTop = document.querySelector('.chat-messages').scrollHeight;

            // Thêm câu hỏi vào lịch sử
            conversationHistory.push({ role: 'user', content: message });

            // Chuẩn bị nội dung cho AI (gồm lịch sử + danh sách khóa học)
            const payload = {
                contents: [
                    {
                        parts: [{
                            text: `Bạn là trợ lý ảo của CodeTech. Dưới đây là lịch sử trò chuyện và danh sách khóa học:
          
Lịch sử: ${JSON.stringify(conversationHistory)}
Khóa học: ${JSON.stringify(courses)}

Người dùng: ${message}`
                        }]
                    }
                ]
            };

            // Gọi API Gemini
            fetch(GEMINI_API_URL + `?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
                .then(res => res.json())
                .then(data => {
                    document.querySelector('.chat-messages').removeChild(loadingMessage);
                    let response = 'Xin lỗi, tôi không hiểu câu hỏi của bạn.';
                    if (data.candidates?.[0]?.content?.parts?.[0]?.text) {
                        response = data.candidates[0].content.parts[0].text;
                    }
                    addMessageToChat(response, 'ai');
                    conversationHistory.push({ role: 'assistant', content: response });
                })
                .catch(err => {
                    document.querySelector('.chat-messages').removeChild(loadingMessage);
                    addMessageToChat('Lỗi kỹ thuật, vui lòng thử lại.', 'ai');
                    console.error(err);
                });
        }

        // Thêm tin nhắn vào khung chat
        function addMessageToChat(message, type) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', type === 'user' ? 'user-message' : 'ai-message');
            messageElement.textContent = message;
            document.querySelector('.chat-messages').appendChild(messageElement);
            document.querySelector('.chat-messages').scrollTop = document.querySelector('.chat-messages').scrollHeight;
        }

        // ===== Nút gửi =====
        document.getElementById("chat-send").addEventListener("click", sendMessage);

        // Check auth state
        // Thêm hàm kiểm tra trạng thái đăng nhập
        function checkAuthState() {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    updateUIForUser();
                } else {
                    currentUser = null;
                    // Reset UI về trạng thái chưa đăng nhập
                    loginBtn.textContent = 'Đăng Nhập';
                    loginBtn.classList.remove('profile-btn');
                    registerBtn.textContent = 'Đăng Ký';
                    adminNav.style.display = 'none';
                }
            });
        }

        // Gọi hàm khi trang được tải
        checkAuthState();

        // Network status detection
        window.addEventListener('online', () => {
            showNotification('Kết nối mạng đã được khôi phục', 'success');
        });

        window.addEventListener('offline', () => {
            showNotification('Mất kết nối mạng. Vui lòng kiểm tra kết nối Internet của bạn', 'error');
        });

        // Error handling for Firebase operations
        const withErrorHandling = (operation, successMessage, errorPrefix) => {
            return (...args) => {
                try {
                    const result = operation(...args);
                    if (result && typeof result.then === 'function') {
                        return result
                            .then(data => {
                                if (successMessage) {
                                    showNotification(successMessage, 'success');
                                }
                                return data;
                            })
                            .catch(error => {
                                const errorMessage = errorPrefix ? `${errorPrefix}: ${error.message}` : error.message;
                                showNotification(errorMessage, 'error');
                                console.error(error);
                                throw error;
                            });
                    } else {
                        if (successMessage) {
                            showNotification(successMessage, 'success');
                        }
                        return result;
                    }
                } catch (error) {
                    const errorMessage = errorPrefix ? `${errorPrefix}: ${error.message}` : error.message;
                    showNotification(errorMessage, 'error');
                    console.error(error);
                    throw error;
                }
            };
        };

        // Wrap Firebase operations with error handling
        const safeAddToCart = withErrorHandling(
            addToCart,
            null,
            'Lỗi khi thêm vào giỏ hàng'
        );

        const safeEnrollCourse = withErrorHandling(
            enrollCourse,
            null,
            'Lỗi khi đăng ký khóa học'
        );

        const safeProcessPayment = withErrorHandling(
            processPayment,
            null,
            'Lỗi khi xử lý thanh toán'
        );

        // Tạo tài khoản admin mặc định nếu chưa tồn tại
        function createDefaultAdminAccount() {
            const adminEmail = 'buuvanhoi@gmail.com';
            const adminPassword = 'vanhoi12';

            auth.fetchSignInMethodsForEmail(adminEmail)
                .then((signInMethods) => {
                    if (signInMethods.length === 0) {
                        // Tạo tài khoản admin nếu chưa tồn tại
                        auth.createUserWithEmailAndPassword(adminEmail, adminPassword)
                            .then((userCredential) => {
                                const user = userCredential.user;
                                db.collection('users').doc(user.uid).set({
                                    name: 'Admin',
                                    email: adminEmail,
                                    enrolledCourses: courses.filter(c => c.isFree).map(c => c.id),
                                    purchasedCourses: courses.filter(c => !c.isFree).map(c => c.id),
                                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                                    role: 'admin'
                                });
                                console.log('Tài khoản admin đã được tạo thành công');
                            })
                            .catch((error) => {
                                console.error('Lỗi khi tạo tài khoản admin:', error);
                            });
                    }
                })
                .catch((error) => {
                    console.error('Lỗi khi kiểm tra tài khoản admin:', error);
                });
        }

        // Gọi hàm tạo tài khoản admin khi trang được tải
        createDefaultAdminAccount();

        // Social login functions
        // Sửa các hàm đăng nhập xã hội
        function signInWithGoogle() {
            auth.signInWithPopup(googleProvider)
                .then((result) => {
                    const user = result.user;

                    // Cập nhật currentUser ngay lập tức
                    currentUser = user;

                    // Check if user exists in Firestore
                    db.collection('users').doc(user.uid).get()
                        .then((doc) => {
                            if (!doc.exists) {
                                // Add new user to Firestore
                                db.collection('users').doc(user.uid).set({
                                    name: user.displayName,
                                    email: user.email,
                                    photoURL: user.photoURL,
                                    enrolledCourses: [],
                                    purchasedCourses: [],
                                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                                    role: 'student'
                                }).then(() => {
                                    // Sau khi tạo user mới, cập nhật UI
                                    updateUIForUser();
                                    showNotification('Đăng nhập với Google thành công!', 'success');
                                });
                            } else {
                                // User đã tồn tại, cập nhật UI ngay
                                updateUIForUser();
                                showNotification('Đăng nhập với Google thành công!', 'success');
                            }
                        })
                        .catch((error) => {
                            console.error('Error checking user:', error);
                        });

                    loginModal.style.display = 'none';
                    registerModal.style.display = 'none';
                }).catch((error) => {
                    handleSocialLoginError(error);
                });
        }
        // Thêm hàm xử lý lỗi chi tiết
        function handleSocialLoginError(error) {
            const errorCode = error.code;
            let errorMessage = 'Có lỗi xảy ra khi đăng nhập!';

            switch (errorCode) {
                case 'auth/popup-closed-by-user':
                    errorMessage = 'Bạn đã đóng cửa sổ đăng nhập!';
                    break;
                case 'auth/cancelled-popup-request':
                    errorMessage = 'Yêu cầu đăng nhập đã bị hủy!';
                    break;
                case 'auth/popup-blocked':
                    errorMessage = 'Cửa sổ đăng nhập bị chặn! Vui lòng cho phép popup.';
                    break;
                case 'auth/network-request-failed':
                    errorMessage = 'Lỗi kết nối mạng! Vui lòng kiểm tra kết nối Internet.';
                    break;
                default:
                    errorMessage = `Lỗi: ${error.message}`;
            }

            showNotification(errorMessage, 'error');
            console.error('Social login error:', error);
        }
        function signInWithFacebook() {
            auth.signInWithPopup(facebookProvider)
                .then((result) => {
                    const user = result.user;

                    // Cập nhật currentUser ngay lập tức
                    currentUser = user;

                    // Check if user exists in Firestore
                    db.collection('users').doc(user.uid).get()
                        .then((doc) => {
                            if (!doc.exists) {
                                // Add new user to Firestore
                                db.collection('users').doc(user.uid).set({
                                    name: user.displayName,
                                    email: user.email,
                                    photoURL: user.photoURL,
                                    enrolledCourses: [],
                                    purchasedCourses: [],
                                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                                    role: 'student'
                                }).then(() => {
                                    updateUIForUser();
                                    showNotification('Đăng nhập với Facebook thành công!', 'success');
                                });
                            } else {
                                updateUIForUser();
                                showNotification('Đăng nhập với Facebook thành công!', 'success');
                            }
                        });

                    loginModal.style.display = 'none';
                    registerModal.style.display = 'none';
                }).catch((error) => {
                    handleSocialLoginError(error);
                });
        }

        function signInWithGithub() {
            auth.signInWithPopup(githubProvider)
                .then((result) => {
                    const user = result.user;

                    // Cập nhật currentUser ngay lập tức
                    currentUser = user;

                    // Check if user exists in Firestore
                    db.collection('users').doc(user.uid).get()
                        .then((doc) => {
                            if (!doc.exists) {
                                // Add new user to Firestore
                                db.collection('users').doc(user.uid).set({
                                    name: user.displayName || user.email,
                                    email: user.email,
                                    photoURL: user.photoURL,
                                    enrolledCourses: [],
                                    purchasedCourses: [],
                                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                                    role: 'student'
                                }).then(() => {
                                    updateUIForUser();
                                    showNotification('Đăng nhập với GitHub thành công!', 'success');
                                });
                            } else {
                                updateUIForUser();
                                showNotification('Đăng nhập với GitHub thành công!', 'success');
                            }
                        });

                    loginModal.style.display = 'none';
                    registerModal.style.display = 'none';
                }).catch((error) => {
                    handleSocialLoginError(error);
                });
        }

        // Load user profile
        function loadUserProfile() {
            if (!currentUser) return;

            db.collection('users').doc(currentUser.uid).get()
                .then((doc) => {
                    if (doc.exists) {
                        userProfileData = doc.data();

                        // Update profile UI
                        profileName.textContent = userProfileData.name || currentUser.displayName || 'Người dùng CodeTech';
                        profileEmail.textContent = currentUser.email;
                        profileRole.textContent = userProfileData.role === 'admin' ? 'Quản trị viên' :
                            userProfileData.role === 'instructor' ? 'Giảng viên' : 'Học viên';

                        if (currentUser.photoURL) {
                            profileAvatar.src = currentUser.photoURL;
                        }

                        // Update form fields
                        profileDisplayName.value = userProfileData.name || '';
                        profileAge.value = userProfileData.age || '';
                        profileJob.value = userProfileData.job || '';
                        profilePhone.value = userProfileData.phone || '';
                        profileBio.value = userProfileData.bio || '';

                        // Update stats
                        const enrolledCount = userProfileData.enrolledCourses ? userProfileData.enrolledCourses.length : 0;
                        const purchasedCount = userProfileData.purchasedCourses ? userProfileData.purchasedCourses.length : 0;
                        coursesEnrolled.textContent = enrolledCount + purchasedCount;
                        coursesCompleted.textContent = userProfileData.completedCourses ? userProfileData.completedCourses.length : 0;
                        hoursLearned.textContent = userProfileData.hoursLearned || 0;

                        // Show/hide instructor sections
                        if (userProfileData.role === 'instructor' || userProfileData.role === 'admin') {
                            instructorRequestSection.style.display = 'none';
                            instructorCoursesSection.style.display = 'block';
                            instructorStats.style.display = 'block';
                            coursesCreated.textContent = userProfileData.coursesCreated ? userProfileData.coursesCreated.length : 0;

                            // Load instructor courses
                            loadInstructorCourses();
                        } else {
                            instructorRequestSection.style.display = 'block';
                            instructorCoursesSection.style.display = 'none';
                            instructorStats.style.display = 'none';
                        }
                    }
                })
                .catch((error) => {
                    console.error('Error loading user profile:', error);
                });
        }

        // Update user profile
        function updateProfile(e) {
            e.preventDefault();

            if (!currentUser) return;

            const updatedData = {
                name: profileDisplayName.value,
                age: parseInt(profileAge.value) || null,
                job: profileJob.value,
                phone: profilePhone.value,
                bio: profileBio.value,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };

            db.collection('users').doc(currentUser.uid).update(updatedData)
                .then(() => {
                    showNotification('Cập nhật thông tin thành công!', 'success');
                    loadUserProfile(); // Reload profile to reflect changes
                })
                .catch((error) => {
                    showNotification('Có lỗi xảy ra khi cập nhật thông tin!', 'error');
                    console.error('Error updating profile:', error);
                });
        }

        // Request instructor role
        function requestInstructorRole() {
            if (!currentUser) return;

            // In a real application, you would create a request system
            // For simplicity, we'll just update the user role directly
            db.collection('users').doc(currentUser.uid).update({
                role: 'instructor',
                instructorRequest: true,
                instructorSince: new Date()
            })
                .then(() => {
                    showNotification('Đã gửi yêu cầu trở thành giảng viên thành công!', 'success');
                    loadUserProfile();
                })
                .catch((error) => {
                    showNotification('Có lỗi xảy ra khi gửi yêu cầu!', 'error');
                    console.error('Error requesting instructor role:', error);
                });
        }

        // Load instructor courses
        function loadInstructorCourses() {
            if (!currentUser || !userProfileData.coursesCreated) {
                instructorCoursesList.innerHTML = '<p>Bạn chưa tạo khóa học nào.</p>';
                return;
            }

            instructorCoursesList.innerHTML = '';

            userProfileData.coursesCreated.forEach(courseId => {
                const course = courses.find(c => c.id === courseId);
                if (course) {
                    const courseElement = document.createElement('div');
                    courseElement.classList.add('course-card');
                    courseElement.innerHTML = `
                        <img src="${course.image}" alt="${course.title}" class="course-image">
                        <div class="course-content">
                            <h3 class="course-title">${course.title}</h3>
                            <p class="course-description">${course.description}</p>
                            <div class="course-meta">
                                ${course.isFree ?
                            '<span class="free-badge">MIỄN PHÍ</span>' :
                            `<span class="course-price">${course.price.toLocaleString('vi-VN')}₫</span>`
                        }
                                <div class="rating">
                                    <div class="rating-stars">${getStarRating(course.rating)}</div>
                                    <div class="rating-count">${course.rating} (${course.students})</div>
                                </div>
                            </div>
                            <div class="course-action">
                                <button class="btn-secondary view-detail" data-id="${course.id}">Xem chi tiết</button>
                                <button class="btn-primary edit-course" data-id="${course.id}">Chỉnh sửa</button>
                            </div>
                        </div>
                    `;

                    instructorCoursesList.appendChild(courseElement);

                    // Add event listeners
                    const viewDetailBtn = courseElement.querySelector('.view-detail');
                    viewDetailBtn.addEventListener('click', () => {
                        showCourseDetail(course.id);
                    });

                    const editCourseBtn = courseElement.querySelector('.edit-course');
                    editCourseBtn.addEventListener('click', () => {
                        // In a real app, this would open an edit course modal
                        showNotification('Chức năng chỉnh sửa khóa học sẽ sớm được cập nhật!', 'info');
                    });
                }
            });
        }

        // Handle contact form submission
        function handleContactForm(e) {
            e.preventDefault();

            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const phone = document.getElementById('contactPhone').value;
            const subject = document.getElementById('contactSubject').value;
            const message = document.getElementById('contactMessage').value;

            // In a real app, you would save this to a database or send an email
            // For now, we'll just show a success message
            showNotification('Cảm ơn bạn đã liên hệ với chúng tôi! Chúng tôi sẽ phản hồi sớm nhất có thể.', 'success');
            // Reset form
            contactForm.reset();
        }
    </script>
</body>

</html>